(function(){const Lt=document.createElement("link").relList;if(Lt&&Lt.supports&&Lt.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))ae(ie);new MutationObserver(ie=>{for(const ue of ie)if(ue.type==="childList")for(const Oe of ue.addedNodes)Oe.tagName==="LINK"&&Oe.rel==="modulepreload"&&ae(Oe)}).observe(document,{childList:!0,subtree:!0});function rt(ie){const ue={};return ie.integrity&&(ue.integrity=ie.integrity),ie.referrerPolicy&&(ue.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?ue.credentials="include":ie.crossOrigin==="anonymous"?ue.credentials="omit":ue.credentials="same-origin",ue}function ae(ie){if(ie.ep)return;ie.ep=!0;const ue=rt(ie);fetch(ie.href,ue)}})();var Au={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function Lh(){if(pp)return uo;pp=1;var Je=Symbol.for("react.transitional.element"),Lt=Symbol.for("react.fragment");function rt(ae,ie,ue){var Oe=null;if(ue!==void 0&&(Oe=""+ue),ie.key!==void 0&&(Oe=""+ie.key),"key"in ie){ue={};for(var he in ie)he!=="key"&&(ue[he]=ie[he])}else ue=ie;return ie=ue.ref,{$$typeof:Je,type:ae,key:Oe,ref:ie!==void 0?ie:null,props:ue}}return uo.Fragment=Lt,uo.jsx=rt,uo.jsxs=rt,uo}var dp;function Nh(){return dp||(dp=1,Au.exports=Lh()),Au.exports}var Ea=Nh(),Iu={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Dh(){if(hp)return ft;hp=1;var Je=Symbol.for("react.transitional.element"),Lt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),E=Symbol.iterator;function C(Q){return Q===null||typeof Q!="object"?null:(Q=E&&Q[E]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function a(Q,I,W){this.props=Q,this.context=I,this.refs=f,this.updater=W||v}a.prototype.isReactComponent={},a.prototype.setState=function(Q,I){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,I,"setState")},a.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function d(){}d.prototype=a.prototype;function p(Q,I,W){this.props=Q,this.context=I,this.refs=f,this.updater=W||v}var c=p.prototype=new d;c.constructor=p,m(c,a.prototype),c.isPureReactComponent=!0;var l=Array.isArray,s={H:null,A:null,T:null,S:null,V:null},i=Object.prototype.hasOwnProperty;function T(Q,I,W,Z,V,M){return W=M.ref,{$$typeof:Je,type:Q,key:I,ref:W!==void 0?W:null,props:M}}function S(Q,I){return T(Q.type,I,void 0,void 0,void 0,Q.props)}function y(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===Je}function h(Q){var I={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(W){return I[W]})}var b=/\/+/g;function A(Q,I){return typeof Q=="object"&&Q!==null&&Q.key!=null?h(""+Q.key):I.toString(36)}function r(){}function w(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(r,r):(Q.status="pending",Q.then(function(I){Q.status==="pending"&&(Q.status="fulfilled",Q.value=I)},function(I){Q.status==="pending"&&(Q.status="rejected",Q.reason=I)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function O(Q,I,W,Z,V){var M=typeof Q;(M==="undefined"||M==="boolean")&&(Q=null);var B=!1;if(Q===null)B=!0;else switch(M){case"bigint":case"string":case"number":B=!0;break;case"object":switch(Q.$$typeof){case Je:case Lt:B=!0;break;case u:return B=Q._init,O(B(Q._payload),I,W,Z,V)}}if(B)return V=V(Q),B=Z===""?"."+A(Q,0):Z,l(V)?(W="",B!=null&&(W=B.replace(b,"$&/")+"/"),O(V,I,W,"",function(q){return q})):V!=null&&(y(V)&&(V=S(V,W+(V.key==null||Q&&Q.key===V.key?"":(""+V.key).replace(b,"$&/")+"/")+B)),I.push(V)),1;B=0;var Y=Z===""?".":Z+":";if(l(Q))for(var K=0;K<Q.length;K++)Z=Q[K],M=Y+A(Z,K),B+=O(Z,I,W,M,V);else if(K=C(Q),typeof K=="function")for(Q=K.call(Q),K=0;!(Z=Q.next()).done;)Z=Z.value,M=Y+A(Z,K++),B+=O(Z,I,W,M,V);else if(M==="object"){if(typeof Q.then=="function")return O(w(Q),I,W,Z,V);throw I=String(Q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return B}function R(Q,I,W){if(Q==null)return Q;var Z=[],V=0;return O(Q,Z,"","",function(M){return I.call(W,M,V++)}),Z}function z(Q){if(Q._status===-1){var I=Q._result;I=I(),I.then(function(W){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=W)},function(W){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=W)}),Q._status===-1&&(Q._status=0,Q._result=I)}if(Q._status===1)return Q._result.default;throw Q._result}var ee=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function oe(){}return ft.Children={map:R,forEach:function(Q,I,W){R(Q,function(){I.apply(this,arguments)},W)},count:function(Q){var I=0;return R(Q,function(){I++}),I},toArray:function(Q){return R(Q,function(I){return I})||[]},only:function(Q){if(!y(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},ft.Component=a,ft.Fragment=rt,ft.Profiler=ie,ft.PureComponent=p,ft.StrictMode=ae,ft.Suspense=N,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return s.H.useMemoCache(Q)}},ft.cache=function(Q){return function(){return Q.apply(null,arguments)}},ft.cloneElement=function(Q,I,W){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Z=m({},Q.props),V=Q.key,M=void 0;if(I!=null)for(B in I.ref!==void 0&&(M=void 0),I.key!==void 0&&(V=""+I.key),I)!i.call(I,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&I.ref===void 0||(Z[B]=I[B]);var B=arguments.length-2;if(B===1)Z.children=W;else if(1<B){for(var Y=Array(B),K=0;K<B;K++)Y[K]=arguments[K+2];Z.children=Y}return T(Q.type,V,void 0,void 0,M,Z)},ft.createContext=function(Q){return Q={$$typeof:Oe,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:ue,_context:Q},Q},ft.createElement=function(Q,I,W){var Z,V={},M=null;if(I!=null)for(Z in I.key!==void 0&&(M=""+I.key),I)i.call(I,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(V[Z]=I[Z]);var B=arguments.length-2;if(B===1)V.children=W;else if(1<B){for(var Y=Array(B),K=0;K<B;K++)Y[K]=arguments[K+2];V.children=Y}if(Q&&Q.defaultProps)for(Z in B=Q.defaultProps,B)V[Z]===void 0&&(V[Z]=B[Z]);return T(Q,M,void 0,void 0,null,V)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(Q){return{$$typeof:he,render:Q}},ft.isValidElement=y,ft.lazy=function(Q){return{$$typeof:u,_payload:{_status:-1,_result:Q},_init:z}},ft.memo=function(Q,I){return{$$typeof:L,type:Q,compare:I===void 0?null:I}},ft.startTransition=function(Q){var I=s.T,W={};s.T=W;try{var Z=Q(),V=s.S;V!==null&&V(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(oe,ee)}catch(M){ee(M)}finally{s.T=I}},ft.unstable_useCacheRefresh=function(){return s.H.useCacheRefresh()},ft.use=function(Q){return s.H.use(Q)},ft.useActionState=function(Q,I,W){return s.H.useActionState(Q,I,W)},ft.useCallback=function(Q,I){return s.H.useCallback(Q,I)},ft.useContext=function(Q){return s.H.useContext(Q)},ft.useDebugValue=function(){},ft.useDeferredValue=function(Q,I){return s.H.useDeferredValue(Q,I)},ft.useEffect=function(Q,I,W){var Z=s.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(Q,I)},ft.useId=function(){return s.H.useId()},ft.useImperativeHandle=function(Q,I,W){return s.H.useImperativeHandle(Q,I,W)},ft.useInsertionEffect=function(Q,I){return s.H.useInsertionEffect(Q,I)},ft.useLayoutEffect=function(Q,I){return s.H.useLayoutEffect(Q,I)},ft.useMemo=function(Q,I){return s.H.useMemo(Q,I)},ft.useOptimistic=function(Q,I){return s.H.useOptimistic(Q,I)},ft.useReducer=function(Q,I,W){return s.H.useReducer(Q,I,W)},ft.useRef=function(Q){return s.H.useRef(Q)},ft.useState=function(Q){return s.H.useState(Q)},ft.useSyncExternalStore=function(Q,I,W){return s.H.useSyncExternalStore(Q,I,W)},ft.useTransition=function(){return s.H.useTransition()},ft.version="19.1.0",ft}var gp;function Du(){return gp||(gp=1,Iu.exports=Dh()),Iu.exports}var Nu=Du(),Ru={exports:{}},co={},wu={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Mh(){return vp||(vp=1,function(Je){function Lt(R,z){var ee=R.length;R.push(z);e:for(;0<ee;){var oe=ee-1>>>1,Q=R[oe];if(0<ie(Q,z))R[oe]=z,R[ee]=Q,ee=oe;else break e}}function rt(R){return R.length===0?null:R[0]}function ae(R){if(R.length===0)return null;var z=R[0],ee=R.pop();if(ee!==z){R[0]=ee;e:for(var oe=0,Q=R.length,I=Q>>>1;oe<I;){var W=2*(oe+1)-1,Z=R[W],V=W+1,M=R[V];if(0>ie(Z,ee))V<Q&&0>ie(M,Z)?(R[oe]=M,R[V]=ee,oe=V):(R[oe]=Z,R[W]=ee,oe=W);else if(V<Q&&0>ie(M,ee))R[oe]=M,R[V]=ee,oe=V;else break e}}return z}function ie(R,z){var ee=R.sortIndex-z.sortIndex;return ee!==0?ee:R.id-z.id}if(Je.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var ue=performance;Je.unstable_now=function(){return ue.now()}}else{var Oe=Date,he=Oe.now();Je.unstable_now=function(){return Oe.now()-he}}var N=[],L=[],u=1,E=null,C=3,v=!1,m=!1,f=!1,a=!1,d=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;function l(R){for(var z=rt(L);z!==null;){if(z.callback===null)ae(L);else if(z.startTime<=R)ae(L),z.sortIndex=z.expirationTime,Lt(N,z);else break;z=rt(L)}}function s(R){if(f=!1,l(R),!m)if(rt(N)!==null)m=!0,i||(i=!0,A());else{var z=rt(L);z!==null&&O(s,z.startTime-R)}}var i=!1,T=-1,S=5,y=-1;function h(){return a?!0:!(Je.unstable_now()-y<S)}function b(){if(a=!1,i){var R=Je.unstable_now();y=R;var z=!0;try{e:{m=!1,f&&(f=!1,p(T),T=-1),v=!0;var ee=C;try{t:{for(l(R),E=rt(N);E!==null&&!(E.expirationTime>R&&h());){var oe=E.callback;if(typeof oe=="function"){E.callback=null,C=E.priorityLevel;var Q=oe(E.expirationTime<=R);if(R=Je.unstable_now(),typeof Q=="function"){E.callback=Q,l(R),z=!0;break t}E===rt(N)&&ae(N),l(R)}else ae(N);E=rt(N)}if(E!==null)z=!0;else{var I=rt(L);I!==null&&O(s,I.startTime-R),z=!1}}break e}finally{E=null,C=ee,v=!1}z=void 0}}finally{z?A():i=!1}}}var A;if(typeof c=="function")A=function(){c(b)};else if(typeof MessageChannel<"u"){var r=new MessageChannel,w=r.port2;r.port1.onmessage=b,A=function(){w.postMessage(null)}}else A=function(){d(b,0)};function O(R,z){T=d(function(){R(Je.unstable_now())},z)}Je.unstable_IdlePriority=5,Je.unstable_ImmediatePriority=1,Je.unstable_LowPriority=4,Je.unstable_NormalPriority=3,Je.unstable_Profiling=null,Je.unstable_UserBlockingPriority=2,Je.unstable_cancelCallback=function(R){R.callback=null},Je.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<R?Math.floor(1e3/R):5},Je.unstable_getCurrentPriorityLevel=function(){return C},Je.unstable_next=function(R){switch(C){case 1:case 2:case 3:var z=3;break;default:z=C}var ee=C;C=z;try{return R()}finally{C=ee}},Je.unstable_requestPaint=function(){a=!0},Je.unstable_runWithPriority=function(R,z){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ee=C;C=R;try{return z()}finally{C=ee}},Je.unstable_scheduleCallback=function(R,z,ee){var oe=Je.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?oe+ee:oe):ee=oe,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ee+Q,R={id:u++,callback:z,priorityLevel:R,startTime:ee,expirationTime:Q,sortIndex:-1},ee>oe?(R.sortIndex=ee,Lt(L,R),rt(N)===null&&R===rt(L)&&(f?(p(T),T=-1):f=!0,O(s,ee-oe))):(R.sortIndex=Q,Lt(N,R),m||v||(m=!0,i||(i=!0,A()))),R},Je.unstable_shouldYield=h,Je.unstable_wrapCallback=function(R){var z=C;return function(){var ee=C;C=z;try{return R.apply(this,arguments)}finally{C=ee}}}}(Ou)),Ou}var mp;function kh(){return mp||(mp=1,wu.exports=Mh()),wu.exports}var Lu={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Uh(){if(yp)return tn;yp=1;var Je=Du();function Lt(N){var L="https://react.dev/errors/"+N;if(1<arguments.length){L+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)L+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+N+"; visit "+L+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rt(){}var ae={d:{f:rt,r:function(){throw Error(Lt(522))},D:rt,C:rt,L:rt,m:rt,X:rt,S:rt,M:rt},p:0,findDOMNode:null},ie=Symbol.for("react.portal");function ue(N,L,u){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:E==null?null:""+E,children:N,containerInfo:L,implementation:u}}var Oe=Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function he(N,L){if(N==="font")return"";if(typeof L=="string")return L==="use-credentials"?L:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,tn.createPortal=function(N,L){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L||L.nodeType!==1&&L.nodeType!==9&&L.nodeType!==11)throw Error(Lt(299));return ue(N,L,null,u)},tn.flushSync=function(N){var L=Oe.T,u=ae.p;try{if(Oe.T=null,ae.p=2,N)return N()}finally{Oe.T=L,ae.p=u,ae.d.f()}},tn.preconnect=function(N,L){typeof N=="string"&&(L?(L=L.crossOrigin,L=typeof L=="string"?L==="use-credentials"?L:"":void 0):L=null,ae.d.C(N,L))},tn.prefetchDNS=function(N){typeof N=="string"&&ae.d.D(N)},tn.preinit=function(N,L){if(typeof N=="string"&&L&&typeof L.as=="string"){var u=L.as,E=he(u,L.crossOrigin),C=typeof L.integrity=="string"?L.integrity:void 0,v=typeof L.fetchPriority=="string"?L.fetchPriority:void 0;u==="style"?ae.d.S(N,typeof L.precedence=="string"?L.precedence:void 0,{crossOrigin:E,integrity:C,fetchPriority:v}):u==="script"&&ae.d.X(N,{crossOrigin:E,integrity:C,fetchPriority:v,nonce:typeof L.nonce=="string"?L.nonce:void 0})}},tn.preinitModule=function(N,L){if(typeof N=="string")if(typeof L=="object"&&L!==null){if(L.as==null||L.as==="script"){var u=he(L.as,L.crossOrigin);ae.d.M(N,{crossOrigin:u,integrity:typeof L.integrity=="string"?L.integrity:void 0,nonce:typeof L.nonce=="string"?L.nonce:void 0})}}else L==null&&ae.d.M(N)},tn.preload=function(N,L){if(typeof N=="string"&&typeof L=="object"&&L!==null&&typeof L.as=="string"){var u=L.as,E=he(u,L.crossOrigin);ae.d.L(N,u,{crossOrigin:E,integrity:typeof L.integrity=="string"?L.integrity:void 0,nonce:typeof L.nonce=="string"?L.nonce:void 0,type:typeof L.type=="string"?L.type:void 0,fetchPriority:typeof L.fetchPriority=="string"?L.fetchPriority:void 0,referrerPolicy:typeof L.referrerPolicy=="string"?L.referrerPolicy:void 0,imageSrcSet:typeof L.imageSrcSet=="string"?L.imageSrcSet:void 0,imageSizes:typeof L.imageSizes=="string"?L.imageSizes:void 0,media:typeof L.media=="string"?L.media:void 0})}},tn.preloadModule=function(N,L){if(typeof N=="string")if(L){var u=he(L.as,L.crossOrigin);ae.d.m(N,{as:typeof L.as=="string"&&L.as!=="script"?L.as:void 0,crossOrigin:u,integrity:typeof L.integrity=="string"?L.integrity:void 0})}else ae.d.m(N)},tn.requestFormReset=function(N){ae.d.r(N)},tn.unstable_batchedUpdates=function(N,L){return N(L)},tn.useFormState=function(N,L,u){return Oe.H.useFormState(N,L,u)},tn.useFormStatus=function(){return Oe.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Sp;function Ph(){if(Sp)return Lu.exports;Sp=1;function Je(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Je)}catch(Lt){console.error(Lt)}}return Je(),Lu.exports=Uh(),Lu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function xh(){if(Ep)return co;Ep=1;var Je=kh(),Lt=Du(),rt=Ph();function ae(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ie(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Oe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function he(e){if(ue(e)!==e)throw Error(ae(188))}function N(e){var t=e.alternate;if(!t){if(t=ue(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,o=t;;){var g=n.return;if(g===null)break;var _=g.alternate;if(_===null){if(o=g.return,o!==null){n=o;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===n)return he(g),e;if(_===o)return he(g),t;_=_.sibling}throw Error(ae(188))}if(n.return!==o.return)n=g,o=_;else{for(var P=!1,J=g.child;J;){if(J===n){P=!0,n=g,o=_;break}if(J===o){P=!0,o=g,n=_;break}J=J.sibling}if(!P){for(J=_.child;J;){if(J===n){P=!0,n=_,o=g;break}if(J===o){P=!0,o=_,n=g;break}J=J.sibling}if(!P)throw Error(ae(189))}}if(n.alternate!==o)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function L(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=L(e),t!==null)return t;e=e.sibling}return null}var u=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),i=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),h=Symbol.for("react.memo_cache_sentinel"),b=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var r=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===r?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m:return"Fragment";case a:return"Profiler";case f:return"StrictMode";case s:return"Suspense";case i:return"SuspenseList";case y:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case c:return(e.displayName||"Context")+".Provider";case p:return(e._context.displayName||"Context")+".Consumer";case l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return t=e.displayName||null,t!==null?t:w(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return w(e(t))}catch{}}return null}var O=Array.isArray,R=Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},oe=[],Q=-1;function I(e){return{current:e}}function W(e){0>Q||(e.current=oe[Q],oe[Q]=null,Q--)}function Z(e,t){Q++,oe[Q]=e.current,e.current=t}var V=I(null),M=I(null),B=I(null),Y=I(null);function K(e,t){switch(Z(B,t),Z(M,e),Z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gf(t),e=jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(V),Z(V,e)}function q(){W(V),W(M),W(B)}function X(e){e.memoizedState!==null&&Z(Y,e);var t=V.current,n=jf(t,e.type);t!==n&&(Z(M,e),Z(V,n))}function se(e){M.current===e&&(W(V),W(M)),Y.current===e&&(W(Y),ro._currentValue=ee)}var le=Object.prototype.hasOwnProperty,ve=Je.unstable_scheduleCallback,_e=Je.unstable_cancelCallback,Ie=Je.unstable_shouldYield,He=Je.unstable_requestPaint,be=Je.unstable_now,Ae=Je.unstable_getCurrentPriorityLevel,we=Je.unstable_ImmediatePriority,Be=Je.unstable_UserBlockingPriority,Ve=Je.unstable_NormalPriority,Ge=Je.unstable_LowPriority,ot=Je.unstable_IdlePriority,De=Je.log,Re=Je.unstable_setDisableYieldValue,Ue=null,qe=null;function Ye(e){if(typeof De=="function"&&Re(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ue,e)}catch{}}var Me=Math.clz32?Math.clz32:U,$=Math.log,k=Math.LN2;function U(e){return e>>>=0,e===0?32:31-($(e)/k|0)|0}var ne=256,de=4194304;function pe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function F(e,t,n){var o=e.pendingLanes;if(o===0)return 0;var g=0,_=e.suspendedLanes,P=e.pingedLanes;e=e.warmLanes;var J=o&134217727;return J!==0?(o=J&~_,o!==0?g=pe(o):(P&=J,P!==0?g=pe(P):n||(n=J&~e,n!==0&&(g=pe(n))))):(J=o&~_,J!==0?g=pe(J):P!==0?g=pe(P):n||(n=o&~e,n!==0&&(g=pe(n)))),g===0?0:t!==0&&t!==g&&(t&_)===0&&(_=g&-g,n=t&-t,_>=n||_===32&&(n&4194048)!==0)?t:g}function j(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function G(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x(){var e=ne;return ne<<=1,(ne&4194048)===0&&(ne=256),e}function D(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function H(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function re(e,t,n,o,g,_){var P=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var J=e.entanglements,ce=e.expirationTimes,Se=e.hiddenUpdates;for(n=P&~n;0<n;){var Ne=31-Me(n),Pe=1<<Ne;J[Ne]=0,ce[Ne]=-1;var Te=Se[Ne];if(Te!==null)for(Se[Ne]=null,Ne=0;Ne<Te.length;Ne++){var Ce=Te[Ne];Ce!==null&&(Ce.lane&=-536870913)}n&=~Pe}o!==0&&me(e,o,0),_!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=_&~(P&~t))}function me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Me(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|n&4194090}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Me(n),g=1<<o;g&t|e[o]&t&&(e[o]|=t),n&=~g}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xe(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:ap(e.type))}function Le(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var et=Math.random().toString(36).slice(2),tt="__reactFiber$"+et,$e="__reactProps$"+et,yt="__reactContainer$"+et,Qe="__reactEvents$"+et,pt="__reactListeners$"+et,Ft="__reactHandles$"+et,Kt="__reactResources$"+et,kt="__reactMarker$"+et;function Et(e){delete e[tt],delete e[$e],delete e[Qe],delete e[pt],delete e[Ft]}function Xe(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qf(e);e!==null;){if(n=e[tt])return n;e=qf(e)}return t}e=n,n=e.parentNode}return null}function We(e){if(e=e[tt]||e[yt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ze(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ae(33))}function st(e){var t=e[Kt];return t||(t=e[Kt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[kt]=!0}var rn=new Set,Un={};function Bt(e,t){Vt(e,t),Vt(e+"Capture",t)}function Vt(e,t){for(Un[e]=t,e=0;e<t.length;e++)rn.add(t[e])}var Pn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gi={},vn={};function lo(e){return le.call(vn,e)?!0:le.call(gi,e)?!1:Pn.test(e)?vn[e]=!0:(gi[e]=!0,!1)}function Sr(e,t,n){if(lo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function at(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ze(e,t,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+o)}}var Fe,dt;function Dt(e){if(Fe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fe=t&&t[1]||"",dt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+e+dt}var On=!1;function ba(e,t){if(!e||On)return"";On=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Ce){var Te=Ce}Reflect.construct(e,[],Pe)}else{try{Pe.call()}catch(Ce){Te=Ce}e.call(Pe.prototype)}}else{try{throw Error()}catch(Ce){Te=Ce}(Pe=e())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Ce){if(Ce&&Te&&typeof Ce.stack=="string")return[Ce.stack,Te.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=o.DetermineComponentFrameRoot(),P=_[0],J=_[1];if(P&&J){var ce=P.split(`
`),Se=J.split(`
`);for(g=o=0;o<ce.length&&!ce[o].includes("DetermineComponentFrameRoot");)o++;for(;g<Se.length&&!Se[g].includes("DetermineComponentFrameRoot");)g++;if(o===ce.length||g===Se.length)for(o=ce.length-1,g=Se.length-1;1<=o&&0<=g&&ce[o]!==Se[g];)g--;for(;1<=o&&0<=g;o--,g--)if(ce[o]!==Se[g]){if(o!==1||g!==1)do if(o--,g--,0>g||ce[o]!==Se[g]){var Ne=`
`+ce[o].replace(" at new "," at ");return e.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",e.displayName)),Ne}while(1<=o&&0<=g);break}}}finally{On=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Dt(n):""}function _p(e){switch(e.tag){case 26:case 27:case 5:return Dt(e.type);case 16:return Dt("Lazy");case 13:return Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return ba(e.type,!1);case 11:return ba(e.type.render,!1);case 1:return ba(e.type,!0);case 31:return Dt("Activity");default:return""}}function Mu(e){try{var t="";do t+=_p(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ku(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ap(e){var t=ku(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var g=n.get,_=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(P){o=""+P,_.call(this,P)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(P){o=""+P},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fo(e){e._valueTracker||(e._valueTracker=Ap(e))}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ku(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ip=/[\n"\\]/g;function yn(e){return e.replace(Ip,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ta(e,t,n,o,g,_,P,J){e.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?e.type=P:e.removeAttribute("type"),t!=null?P==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+mn(t)):e.value!==""+mn(t)&&(e.value=""+mn(t)):P!=="submit"&&P!=="reset"||e.removeAttribute("value"),t!=null?Ca(e,P,mn(t)):n!=null?Ca(e,P,mn(n)):o!=null&&e.removeAttribute("value"),g==null&&_!=null&&(e.defaultChecked=!!_),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?e.name=""+mn(J):e.removeAttribute("name")}function Pu(e,t,n,o,g,_,P,J){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),t!=null||n!=null){if(!(_!=="submit"&&_!=="reset"||t!=null))return;n=n!=null?""+mn(n):"",t=t!=null?""+mn(t):n,J||t===e.value||(e.value=t),e.defaultValue=t}o=o??g,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=J?e.checked:!!o,e.defaultChecked=!!o,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(e.name=P)}function Ca(e,t,n){t==="number"&&po(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pr(e,t,n,o){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&o&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,o&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function xu(e,t,n){if(t!=null&&(t=""+mn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+mn(n):""}function Bu(e,t,n,o){if(t==null){if(o!=null){if(n!=null)throw Error(ae(92));if(O(o)){if(1<o.length)throw Error(ae(93));o=o[0]}n=o}n==null&&(n=""),t=n}n=mn(t),e.defaultValue=n,o=e.textContent,o===n&&o!==""&&o!==null&&(e.value=o)}function xr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(e,t,n){var o=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,n):typeof n!="number"||n===0||Rp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Gu(e,t,n){if(t!=null&&typeof t!="object")throw Error(ae(62));if(e=e.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var g in t)o=t[g],t.hasOwnProperty(g)&&n[g]!==o&&zu(e,g,o)}else for(var _ in t)t.hasOwnProperty(_)&&zu(e,_,t[_])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return Op.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Aa=null;function Ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Br=null,zr=null;function ju(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[$e]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ta(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var g=o[$e]||null;if(!g)throw Error(ae(90));Ta(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(t=0;t<n.length;t++)o=n[t],o.form===e.form&&Uu(o)}break e;case"textarea":xu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Pr(e,!!n.multiple,t,!1)}}}var Ra=!1;function Hu(e,t,n){if(Ra)return e(t,n);Ra=!0;try{var o=e(t);return o}finally{if(Ra=!1,(Br!==null||zr!==null)&&($o(),Br&&(t=Br,e=zr,zr=Br=null,ju(t),e)))for(t=0;t<e.length;t++)ju(e[t])}}function vi(e,t){var n=e.stateNode;if(n===null)return null;var o=n[$e]||null;if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(xn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){wa=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{wa=!1}var Zn=null,Oa=null,go=null;function Fu(){if(go)return go;var e,t=Oa,n=t.length,o,g="value"in Zn?Zn.value:Zn.textContent,_=g.length;for(e=0;e<n&&t[e]===g[e];e++);var P=n-e;for(o=1;o<=P&&t[n-o]===g[_-o];o++);return go=g.slice(e,1<o?1-o:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function Vu(){return!1}function on(e){function t(n,o,g,_,P){this._reactName=n,this._targetInst=g,this.type=o,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var J in e)e.hasOwnProperty(J)&&(n=e[J],this[J]=n?n(_):_[J]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?mo:Vu,this.isPropagationStopped=Vu,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=on(Er),yi=u({},Er,{view:0,detail:0}),Lp=on(yi),La,Na,Si,So=u({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(La=e.screenX-Si.screenX,Na=e.screenY-Si.screenY):Na=La=0,Si=e),La)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),qu=on(So),Np=u({},So,{dataTransfer:0}),Dp=on(Np),Mp=u({},yi,{relatedTarget:0}),Da=on(Mp),kp=u({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=on(kp),Pp=u({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xp=on(Pp),Bp=u({},Er,{data:0}),Wu=on(Bp),zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jp[e])?!!t[e]:!1}function Ma(){return Hp}var Fp=u({},yi,{key:function(e){if(e.key){var t=zp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=on(Fp),qp=u({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=on(qp),Wp=u({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Kp=on(Wp),Yp=u({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=on(Yp),Qp=u({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zp=on(Qp),Jp=u({},Er,{newState:0,oldState:0}),$p=on(Jp),ed=[9,13,27,32],ka=xn&&"CompositionEvent"in window,Ei=null;xn&&"documentMode"in document&&(Ei=document.documentMode);var td=xn&&"TextEvent"in window&&!Ei,Yu=xn&&(!ka||Ei&&8<Ei&&11>=Ei),Xu=" ",Qu=!1;function Zu(e,t){switch(e){case"keyup":return ed.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function nd(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(Qu=!0,Xu);case"textInput":return e=t.data,e===Xu&&Qu?null:e;default:return null}}function rd(e,t){if(Gr)return e==="compositionend"||!ka&&Zu(e,t)?(e=Fu(),go=Oa=Zn=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yu&&t.locale!=="ko"?null:t.data;default:return null}}var id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!id[e.type]:t==="textarea"}function ec(e,t,n,o){Br?zr?zr.push(o):zr=[o]:Br=o,t=oa(t,"onChange"),0<t.length&&(n=new yo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var bi=null,Ti=null;function od(e){Uf(e,0)}function Eo(e){var t=Ze(e);if(Uu(t))return e}function tc(e,t){if(e==="change")return t}var nc=!1;if(xn){var Ua;if(xn){var Pa="oninput"in document;if(!Pa){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),Pa=typeof rc.oninput=="function"}Ua=Pa}else Ua=!1;nc=Ua&&(!document.documentMode||9<document.documentMode)}function ic(){bi&&(bi.detachEvent("onpropertychange",oc),Ti=bi=null)}function oc(e){if(e.propertyName==="value"&&Eo(Ti)){var t=[];ec(t,Ti,e,Ia(e)),Hu(od,t)}}function ad(e,t,n){e==="focusin"?(ic(),bi=t,Ti=n,bi.attachEvent("onpropertychange",oc)):e==="focusout"&&ic()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(Ti)}function ud(e,t){if(e==="click")return Eo(t)}function cd(e,t){if(e==="input"||e==="change")return Eo(t)}function ld(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:ld;function Ci(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var g=n[o];if(!le.call(t,g)||!cn(e[g],t[g]))return!1}return!0}function ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var n=ac(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ac(n)}}function uc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=po(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=po(e.document)}return t}function xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fd=xn&&"documentMode"in document&&11>=document.documentMode,jr=null,Ba=null,_i=null,za=!1;function lc(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;za||jr==null||jr!==po(o)||(o=jr,"selectionStart"in o&&xa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_i&&Ci(_i,o)||(_i=o,o=oa(Ba,"onSelect"),0<o.length&&(t=new yo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=jr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Ga={},fc={};xn&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Tr(e){if(Ga[e])return Ga[e];if(!Hr[e])return e;var t=Hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fc)return Ga[e]=t[n];return e}var pc=Tr("animationend"),dc=Tr("animationiteration"),hc=Tr("animationstart"),pd=Tr("transitionrun"),dd=Tr("transitionstart"),hd=Tr("transitioncancel"),gc=Tr("transitionend"),vc=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ja.push("scrollEnd");function In(e,t){vc.set(e,t),Bt(t,[e])}var mc=new WeakMap;function Sn(e,t){if(typeof e=="object"&&e!==null){var n=mc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Mu(t)},mc.set(e,t),t)}return{value:e,source:t,stack:Mu(t)}}var En=[],Fr=0,Ha=0;function bo(){for(var e=Fr,t=Ha=Fr=0;t<e;){var n=En[t];En[t++]=null;var o=En[t];En[t++]=null;var g=En[t];En[t++]=null;var _=En[t];if(En[t++]=null,o!==null&&g!==null){var P=o.pending;P===null?g.next=g:(g.next=P.next,P.next=g),o.pending=g}_!==0&&yc(n,g,_)}}function To(e,t,n,o){En[Fr++]=e,En[Fr++]=t,En[Fr++]=n,En[Fr++]=o,Ha|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fa(e,t,n,o){return To(e,t,n,o),Co(e)}function Vr(e,t){return To(e,null,null,t),Co(e)}function yc(e,t,n){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n);for(var g=!1,_=e.return;_!==null;)_.childLanes|=n,o=_.alternate,o!==null&&(o.childLanes|=n),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(g=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,g&&t!==null&&(g=31-Me(n),e=_.hiddenUpdates,o=e[g],o===null?e[g]=[t]:o.push(t),t.lane=n|536870912),_):null}function Co(e){if(50<Xi)throw Xi=0,Xs=null,Error(ae(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qr={};function gd(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,o){return new gd(e,t,n,o)}function Va(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _o(e,t,n,o,g,_){var P=0;if(o=e,typeof e=="function")Va(e)&&(P=1);else if(typeof e=="string")P=mh(e,n,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case y:return e=ln(31,n,t,g),e.elementType=y,e.lanes=_,e;case m:return Cr(n.children,g,_,t);case f:P=8,g|=24;break;case a:return e=ln(12,n,t,g|2),e.elementType=a,e.lanes=_,e;case s:return e=ln(13,n,t,g),e.elementType=s,e.lanes=_,e;case i:return e=ln(19,n,t,g),e.elementType=i,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case d:case c:P=10;break e;case p:P=9;break e;case l:P=11;break e;case T:P=14;break e;case S:P=16,o=null;break e}P=29,n=Error(ae(130,e===null?"null":typeof e,"")),o=null}return t=ln(P,n,t,g),t.elementType=e,t.type=o,t.lanes=_,t}function Cr(e,t,n,o){return e=ln(7,e,o,t),e.lanes=n,e}function qa(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Wa(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Kr=0,Ao=null,Io=0,bn=[],Tn=0,_r=null,zn=1,Gn="";function Ar(e,t){Wr[Kr++]=Io,Wr[Kr++]=Ao,Ao=e,Io=t}function Ec(e,t,n){bn[Tn++]=zn,bn[Tn++]=Gn,bn[Tn++]=_r,_r=e;var o=zn;e=Gn;var g=32-Me(o)-1;o&=~(1<<g),n+=1;var _=32-Me(t)+g;if(30<_){var P=g-g%5;_=(o&(1<<P)-1).toString(32),o>>=P,g-=P,zn=1<<32-Me(t)+g|n<<g|o,Gn=_+e}else zn=1<<_|n<<g|o,Gn=e}function Ka(e){e.return!==null&&(Ar(e,1),Ec(e,1,0))}function Ya(e){for(;e===Ao;)Ao=Wr[--Kr],Wr[Kr]=null,Io=Wr[--Kr],Wr[Kr]=null;for(;e===_r;)_r=bn[--Tn],bn[Tn]=null,Gn=bn[--Tn],bn[Tn]=null,zn=bn[--Tn],bn[Tn]=null}var nn=null,Pt=null,Ct=!1,Ir=null,Ln=!1,Xa=Error(ae(519));function Rr(e){var t=Error(ae(418,""));throw Ri(Sn(t,e)),Xa}function bc(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[tt]=e,t[$e]=o,n){case"dialog":mt("cancel",t),mt("close",t);break;case"iframe":case"object":case"embed":mt("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)mt(Zi[n],t);break;case"source":mt("error",t);break;case"img":case"image":case"link":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"input":mt("invalid",t),Pu(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),fo(t);break;case"select":mt("invalid",t);break;case"textarea":mt("invalid",t),Bu(t,o.value,o.defaultValue,o.children),fo(t)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||o.suppressHydrationWarning===!0||zf(t.textContent,n)?(o.popover!=null&&(mt("beforetoggle",t),mt("toggle",t)),o.onScroll!=null&&mt("scroll",t),o.onScrollEnd!=null&&mt("scrollend",t),o.onClick!=null&&(t.onclick=aa),t=!0):t=!1,t||Rr(e)}function Tc(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:nn=nn.return}}function Ai(e){if(e!==nn)return!1;if(!Ct)return Tc(e),Ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||fu(e.type,e.memoizedProps)),n=!n),n&&Pt&&Rr(e),Tc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Pt=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Pt=null}}else t===27?(t=Pt,dr(e.type)?(e=gu,gu=null,Pt=e):Pt=t):Pt=nn?wn(e.stateNode.nextSibling):null;return!0}function Ii(){Pt=nn=null,Ct=!1}function Cc(){var e=Ir;return e!==null&&(un===null?un=e:un.push.apply(un,e),Ir=null),e}function Ri(e){Ir===null?Ir=[e]:Ir.push(e)}var Qa=I(null),wr=null,jn=null;function Jn(e,t,n){Z(Qa,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=Qa.current,W(Qa)}function Za(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Ja(e,t,n,o){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var _=g.dependencies;if(_!==null){var P=g.child;_=_.firstContext;e:for(;_!==null;){var J=_;_=g;for(var ce=0;ce<t.length;ce++)if(J.context===t[ce]){_.lanes|=n,J=_.alternate,J!==null&&(J.lanes|=n),Za(_.return,n,e),o||(P=null);break e}_=J.next}}else if(g.tag===18){if(P=g.return,P===null)throw Error(ae(341));P.lanes|=n,_=P.alternate,_!==null&&(_.lanes|=n),Za(P,n,e),P=null}else P=g.child;if(P!==null)P.return=g;else for(P=g;P!==null;){if(P===e){P=null;break}if(g=P.sibling,g!==null){g.return=P.return,P=g;break}P=P.return}g=P}}function wi(e,t,n,o){e=null;for(var g=t,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var P=g.alternate;if(P===null)throw Error(ae(387));if(P=P.memoizedProps,P!==null){var J=g.type;cn(g.pendingProps.value,P.value)||(e!==null?e.push(J):e=[J])}}else if(g===Y.current){if(P=g.alternate,P===null)throw Error(ae(387));P.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(ro):e=[ro])}g=g.return}e!==null&&Ja(t,e,n,o),t.flags|=262144}function Ro(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){wr=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return _c(wr,e)}function wo(e,t){return wr===null&&Or(e),_c(e,t)}function _c(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jn===null){if(e===null)throw Error(ae(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return n}var vd=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},md=Je.unstable_scheduleCallback,yd=Je.unstable_NormalPriority,qt={$$typeof:c,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $a(){return{controller:new vd,data:new Map,refCount:0}}function Oi(e){e.refCount--,e.refCount===0&&md(yd,function(){e.controller.abort()})}var Li=null,es=0,Yr=0,Xr=null;function Sd(e,t){if(Li===null){var n=Li=[];es=0,Yr=nu(),Xr={status:"pending",value:void 0,then:function(o){n.push(o)}}}return es++,t.then(Ac,Ac),t}function Ac(){if(--es===0&&Li!==null){Xr!==null&&(Xr.status="fulfilled");var e=Li;Li=null,Yr=0,Xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ed(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(g){n.push(g)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var g=0;g<n.length;g++)(0,n[g])(t)},function(g){for(o.status="rejected",o.reason=g,g=0;g<n.length;g++)(0,n[g])(void 0)}),o}var Ic=R.S;R.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Sd(e,t),Ic!==null&&Ic(e,t)};var Lr=I(null);function ts(){var e=Lr.current;return e!==null?e:Nt.pooledCache}function Oo(e,t){t===null?Z(Lr,Lr.current):Z(Lr,t.pool)}function Rc(){var e=ts();return e===null?null:{parent:qt._currentValue,pool:e}}var Ni=Error(ae(460)),wc=Error(ae(474)),Lo=Error(ae(542)),ns={then:function(){}};function Oc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function No(){}function Lc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(No,No),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e;default:if(typeof t.status=="string")t.then(No,No);else{if(e=Nt,e!==null&&100<e.shellSuspendCounter)throw Error(ae(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var g=t;g.status="fulfilled",g.value=o}},function(o){if(t.status==="pending"){var g=t;g.status="rejected",g.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dc(e),e}throw Di=t,Ni}}var Di=null;function Nc(){if(Di===null)throw Error(ae(459));var e=Di;return Di=null,e}function Dc(e){if(e===Ni||e===Lo)throw Error(ae(483))}var $n=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(_t&2)!==0){var g=o.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),o.pending=t,t=Co(e),yc(e,null,n),t}return To(e,o,t,n),Co(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ee(e,n)}}function os(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var g=null,_=null;if(n=n.firstBaseUpdate,n!==null){do{var P={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};_===null?g=_=P:_=_.next=P,n=n.next}while(n!==null);_===null?g=_=t:_=_.next=t}else g=_=t;n={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:o.shared,callbacks:o.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var as=!1;function ki(){if(as){var e=Xr;if(e!==null)throw e}}function Ui(e,t,n,o){as=!1;var g=e.updateQueue;$n=!1;var _=g.firstBaseUpdate,P=g.lastBaseUpdate,J=g.shared.pending;if(J!==null){g.shared.pending=null;var ce=J,Se=ce.next;ce.next=null,P===null?_=Se:P.next=Se,P=ce;var Ne=e.alternate;Ne!==null&&(Ne=Ne.updateQueue,J=Ne.lastBaseUpdate,J!==P&&(J===null?Ne.firstBaseUpdate=Se:J.next=Se,Ne.lastBaseUpdate=ce))}if(_!==null){var Pe=g.baseState;P=0,Ne=Se=ce=null,J=_;do{var Te=J.lane&-536870913,Ce=Te!==J.lane;if(Ce?(bt&Te)===Te:(o&Te)===Te){Te!==0&&Te===Yr&&(as=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var lt=e,ut=J;Te=t;var wt=n;switch(ut.tag){case 1:if(lt=ut.payload,typeof lt=="function"){Pe=lt.call(wt,Pe,Te);break e}Pe=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ut.payload,Te=typeof lt=="function"?lt.call(wt,Pe,Te):lt,Te==null)break e;Pe=u({},Pe,Te);break e;case 2:$n=!0}}Te=J.callback,Te!==null&&(e.flags|=64,Ce&&(e.flags|=8192),Ce=g.callbacks,Ce===null?g.callbacks=[Te]:Ce.push(Te))}else Ce={lane:Te,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ne===null?(Se=Ne=Ce,ce=Pe):Ne=Ne.next=Ce,P|=Te;if(J=J.next,J===null){if(J=g.shared.pending,J===null)break;Ce=J,J=Ce.next,Ce.next=null,g.lastBaseUpdate=Ce,g.shared.pending=null}}while(!0);Ne===null&&(ce=Pe),g.baseState=ce,g.firstBaseUpdate=Se,g.lastBaseUpdate=Ne,_===null&&(g.shared.lanes=0),cr|=P,e.lanes=P,e.memoizedState=Pe}}function Mc(e,t){if(typeof e!="function")throw Error(ae(191,e));e.call(t)}function kc(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Mc(n[e],t)}var Qr=I(null),Do=I(0);function Uc(e,t){e=Xn,Z(Do,e),Z(Qr,t),Xn=e|t.baseLanes}function ss(){Z(Do,Xn),Z(Qr,Qr.current)}function us(){Xn=Do.current,W(Qr),W(Do)}var nr=0,ht=null,It=null,jt=null,Mo=!1,Zr=!1,Nr=!1,ko=0,Pi=0,Jr=null,bd=0;function zt(){throw Error(ae(321))}function cs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function ls(e,t,n,o,g,_){return nr=_,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?yl:Sl,Nr=!1,_=n(o,g),Nr=!1,Zr&&(_=xc(t,n,o,g)),Pc(e),_}function Pc(e){R.H=Go;var t=It!==null&&It.next!==null;if(nr=0,jt=It=ht=null,Mo=!1,Pi=0,Jr=null,t)throw Error(ae(300));e===null||Yt||(e=e.dependencies,e!==null&&Ro(e)&&(Yt=!0))}function xc(e,t,n,o){ht=e;var g=0;do{if(Zr&&(Jr=null),Pi=0,Zr=!1,25<=g)throw Error(ae(301));if(g+=1,jt=It=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}R.H=wd,_=t(n,o)}while(Zr);return _}function Td(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?xi(t):t,e=e.useState()[0],(It!==null?It.memoizedState:null)!==e&&(ht.flags|=1024),t}function fs(){var e=ko!==0;return ko=0,e}function ps(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ds(e){if(Mo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mo=!1}nr=0,jt=It=ht=null,Zr=!1,Pi=ko=0,Jr=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ht.memoizedState=jt=e:jt=jt.next=e,jt}function Ht(){if(It===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=jt===null?ht.memoizedState:jt.next;if(t!==null)jt=t,It=e;else{if(e===null)throw ht.alternate===null?Error(ae(467)):Error(ae(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},jt===null?ht.memoizedState=jt=e:jt=jt.next=e}return jt}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xi(e){var t=Pi;return Pi+=1,Jr===null&&(Jr=[]),e=Lc(Jr,e,t),t=ht,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?yl:Sl),e}function Uo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xi(e);if(e.$$typeof===c)return en(e)}throw Error(ae(438,String(e)))}function gs(e){var t=null,n=ht.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var o=ht.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(g){return g.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=hs(),ht.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=h;return t.index++,n}function Fn(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=Ht();return vs(t,It,e)}function vs(e,t,n){var o=e.queue;if(o===null)throw Error(ae(311));o.lastRenderedReducer=n;var g=e.baseQueue,_=o.pending;if(_!==null){if(g!==null){var P=g.next;g.next=_.next,_.next=P}t.baseQueue=g=_,o.pending=null}if(_=e.baseState,g===null)e.memoizedState=_;else{t=g.next;var J=P=null,ce=null,Se=t,Ne=!1;do{var Pe=Se.lane&-536870913;if(Pe!==Se.lane?(bt&Pe)===Pe:(nr&Pe)===Pe){var Te=Se.revertLane;if(Te===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Pe===Yr&&(Ne=!0);else if((nr&Te)===Te){Se=Se.next,Te===Yr&&(Ne=!0);continue}else Pe={lane:0,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ce===null?(J=ce=Pe,P=_):ce=ce.next=Pe,ht.lanes|=Te,cr|=Te;Pe=Se.action,Nr&&n(_,Pe),_=Se.hasEagerState?Se.eagerState:n(_,Pe)}else Te={lane:Pe,revertLane:Se.revertLane,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},ce===null?(J=ce=Te,P=_):ce=ce.next=Te,ht.lanes|=Pe,cr|=Pe;Se=Se.next}while(Se!==null&&Se!==t);if(ce===null?P=_:ce.next=J,!cn(_,e.memoizedState)&&(Yt=!0,Ne&&(n=Xr,n!==null)))throw n;e.memoizedState=_,e.baseState=P,e.baseQueue=ce,o.lastRenderedState=_}return g===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ms(e){var t=Ht(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var o=n.dispatch,g=n.pending,_=t.memoizedState;if(g!==null){n.pending=null;var P=g=g.next;do _=e(_,P.action),P=P.next;while(P!==g);cn(_,t.memoizedState)||(Yt=!0),t.memoizedState=_,t.baseQueue===null&&(t.baseState=_),n.lastRenderedState=_}return[_,o]}function Bc(e,t,n){var o=ht,g=Ht(),_=Ct;if(_){if(n===void 0)throw Error(ae(407));n=n()}else n=t();var P=!cn((It||g).memoizedState,n);P&&(g.memoizedState=n,Yt=!0),g=g.queue;var J=jc.bind(null,o,g,e);if(Bi(2048,8,J,[e]),g.getSnapshot!==t||P||jt!==null&&jt.memoizedState.tag&1){if(o.flags|=2048,$r(9,xo(),Gc.bind(null,o,g,n,t),null),Nt===null)throw Error(ae(349));_||(nr&124)!==0||zc(o,t,n)}return n}function zc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t=hs(),ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gc(e,t,n,o){t.value=n,t.getSnapshot=o,Hc(t)&&Fc(e)}function jc(e,t,n){return n(function(){Hc(t)&&Fc(e)})}function Hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function Fc(e){var t=Vr(e,2);t!==null&&gn(t,e,2)}function ys(e){var t=an();if(typeof e=="function"){var n=e;if(e=n(),Nr){Ye(!0);try{n()}finally{Ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t}function Vc(e,t,n,o){return e.baseState=n,vs(e,It,typeof o=="function"?o:Fn)}function Cd(e,t,n,o,g){if(zo(e))throw Error(ae(485));if(e=t.action,e!==null){var _={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};R.T!==null?n(!0):_.isTransition=!1,o(_),n=t.pending,n===null?(_.next=t.pending=_,qc(t,_)):(_.next=n.next,t.pending=n.next=_)}}function qc(e,t){var n=t.action,o=t.payload,g=e.state;if(t.isTransition){var _=R.T,P={};R.T=P;try{var J=n(g,o),ce=R.S;ce!==null&&ce(P,J),Wc(e,t,J)}catch(Se){Ss(e,t,Se)}finally{R.T=_}}else try{_=n(g,o),Wc(e,t,_)}catch(Se){Ss(e,t,Se)}}function Wc(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){Kc(e,t,o)},function(o){return Ss(e,t,o)}):Kc(e,t,n)}function Kc(e,t,n){t.status="fulfilled",t.value=n,Yc(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qc(e,n)))}function Ss(e,t,n){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=n,Yc(t),t=t.next;while(t!==o)}e.action=null}function Yc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xc(e,t){return t}function Qc(e,t){if(Ct){var n=Nt.formState;if(n!==null){e:{var o=ht;if(Ct){if(Pt){t:{for(var g=Pt,_=Ln;g.nodeType!==8;){if(!_){g=null;break t}if(g=wn(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Pt=wn(g.nextSibling),o=g.data==="F!";break e}}Rr(o)}o=!1}o&&(t=n[0])}}return n=an(),n.memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:t},n.queue=o,n=gl.bind(null,ht,o),o.dispatch=n,o=ys(!1),_=_s.bind(null,ht,!1,o.queue),o=an(),g={state:t,dispatch:null,action:e,pending:null},o.queue=g,n=Cd.bind(null,ht,g,_,n),g.dispatch=n,o.memoizedState=e,[t,n,!1]}function Zc(e){var t=Ht();return Jc(t,It,e)}function Jc(e,t,n){if(t=vs(e,t,Xc)[0],e=Po(Fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=xi(t)}catch(P){throw P===Ni?Lo:P}else o=t;t=Ht();var g=t.queue,_=g.dispatch;return n!==t.memoizedState&&(ht.flags|=2048,$r(9,xo(),_d.bind(null,g,n),null)),[o,_,e]}function _d(e,t){e.action=t}function $c(e){var t=Ht(),n=It;if(n!==null)return Jc(t,n,e);Ht(),t=t.memoizedState,n=Ht();var o=n.queue.dispatch;return n.memoizedState=e,[t,o,!1]}function $r(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},t=ht.updateQueue,t===null&&(t=hs(),ht.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function xo(){return{destroy:void 0,resource:void 0}}function el(){return Ht().memoizedState}function Bo(e,t,n,o){var g=an();o=o===void 0?null:o,ht.flags|=e,g.memoizedState=$r(1|t,xo(),n,o)}function Bi(e,t,n,o){var g=Ht();o=o===void 0?null:o;var _=g.memoizedState.inst;It!==null&&o!==null&&cs(o,It.memoizedState.deps)?g.memoizedState=$r(t,_,n,o):(ht.flags|=e,g.memoizedState=$r(1|t,_,n,o))}function tl(e,t){Bo(8390656,8,e,t)}function nl(e,t){Bi(2048,8,e,t)}function rl(e,t){return Bi(4,2,e,t)}function il(e,t){return Bi(4,4,e,t)}function ol(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function al(e,t,n){n=n!=null?n.concat([e]):null,Bi(4,4,ol.bind(null,t,e),n)}function Es(){}function sl(e,t){var n=Ht();t=t===void 0?null:t;var o=n.memoizedState;return t!==null&&cs(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function ul(e,t){var n=Ht();t=t===void 0?null:t;var o=n.memoizedState;if(t!==null&&cs(t,o[1]))return o[0];if(o=e(),Nr){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[o,t],o}function bs(e,t,n){return n===void 0||(nr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=pf(),ht.lanes|=e,cr|=e,n)}function cl(e,t,n,o){return cn(n,t)?n:Qr.current!==null?(e=bs(e,n,o),cn(e,t)||(Yt=!0),e):(nr&42)===0?(Yt=!0,e.memoizedState=n):(e=pf(),ht.lanes|=e,cr|=e,t)}function ll(e,t,n,o,g){var _=z.p;z.p=_!==0&&8>_?_:8;var P=R.T,J={};R.T=J,_s(e,!1,t,n);try{var ce=g(),Se=R.S;if(Se!==null&&Se(J,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ne=Ed(ce,o);zi(e,t,Ne,hn(e))}else zi(e,t,o,hn(e))}catch(Pe){zi(e,t,{then:function(){},status:"rejected",reason:Pe},hn())}finally{z.p=_,R.T=P}}function Ad(){}function Ts(e,t,n,o){if(e.tag!==5)throw Error(ae(476));var g=fl(e).queue;ll(e,g,t,ee,n===null?Ad:function(){return pl(e),n(o)})}function fl(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pl(e){var t=fl(e).next.queue;zi(e,t,{},hn())}function Cs(){return en(ro)}function dl(){return Ht().memoizedState}function hl(){return Ht().memoizedState}function Id(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=er(n);var o=tr(t,e,n);o!==null&&(gn(o,t,n),Mi(o,t,n)),t={cache:$a()},e.payload=t;return}t=t.return}}function Rd(e,t,n){var o=hn();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zo(e)?vl(t,n):(n=Fa(e,t,n,o),n!==null&&(gn(n,e,o),ml(n,t,o)))}function gl(e,t,n){var o=hn();zi(e,t,n,o)}function zi(e,t,n,o){var g={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zo(e))vl(t,g);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=t.lastRenderedReducer,_!==null))try{var P=t.lastRenderedState,J=_(P,n);if(g.hasEagerState=!0,g.eagerState=J,cn(J,P))return To(e,t,g,0),Nt===null&&bo(),!1}catch{}finally{}if(n=Fa(e,t,g,o),n!==null)return gn(n,e,o),ml(n,t,o),!0}return!1}function _s(e,t,n,o){if(o={lane:2,revertLane:nu(),action:o,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(t)throw Error(ae(479))}else t=Fa(e,n,o,2),t!==null&&gn(t,e,2)}function zo(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function vl(e,t){Zr=Mo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ml(e,t,n){if((n&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Ee(e,n)}}var Go={readContext:en,use:Uo,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},yl={readContext:en,use:Uo,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:tl,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Bo(4194308,4,ol.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){Bo(4,2,e,t)},useMemo:function(e,t){var n=an();t=t===void 0?null:t;var o=e();if(Nr){Ye(!0);try{e()}finally{Ye(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=an();if(n!==void 0){var g=n(t);if(Nr){Ye(!0);try{n(t)}finally{Ye(!1)}}}else g=t;return o.memoizedState=o.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},o.queue=e,e=e.dispatch=Rd.bind(null,ht,e),[o.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:function(e){e=ys(e);var t=e.queue,n=gl.bind(null,ht,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Es,useDeferredValue:function(e,t){var n=an();return bs(n,e,t)},useTransition:function(){var e=ys(!1);return e=ll.bind(null,ht,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=ht,g=an();if(Ct){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),Nt===null)throw Error(ae(349));(bt&124)!==0||zc(o,t,n)}g.memoizedState=n;var _={value:n,getSnapshot:t};return g.queue=_,tl(jc.bind(null,o,_,e),[e]),o.flags|=2048,$r(9,xo(),Gc.bind(null,o,_,n,t),null),n},useId:function(){var e=an(),t=Nt.identifierPrefix;if(Ct){var n=Gn,o=zn;n=(o&~(1<<32-Me(o)-1)).toString(32)+n,t=""+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=bd++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Cs,useFormState:Qc,useActionState:Qc,useOptimistic:function(e){var t=an();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=_s.bind(null,ht,!0,n),n.dispatch=t,[e,t]},useMemoCache:gs,useCacheRefresh:function(){return an().memoizedState=Id.bind(null,ht)}},Sl={readContext:en,use:Uo,useCallback:sl,useContext:en,useEffect:nl,useImperativeHandle:al,useInsertionEffect:rl,useLayoutEffect:il,useMemo:ul,useReducer:Po,useRef:el,useState:function(){return Po(Fn)},useDebugValue:Es,useDeferredValue:function(e,t){var n=Ht();return cl(n,It.memoizedState,e,t)},useTransition:function(){var e=Po(Fn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:Bc,useId:dl,useHostTransitionStatus:Cs,useFormState:Zc,useActionState:Zc,useOptimistic:function(e,t){var n=Ht();return Vc(n,It,e,t)},useMemoCache:gs,useCacheRefresh:hl},wd={readContext:en,use:Uo,useCallback:sl,useContext:en,useEffect:nl,useImperativeHandle:al,useInsertionEffect:rl,useLayoutEffect:il,useMemo:ul,useReducer:ms,useRef:el,useState:function(){return ms(Fn)},useDebugValue:Es,useDeferredValue:function(e,t){var n=Ht();return It===null?bs(n,e,t):cl(n,It.memoizedState,e,t)},useTransition:function(){var e=ms(Fn)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:xi(e),t]},useSyncExternalStore:Bc,useId:dl,useHostTransitionStatus:Cs,useFormState:$c,useActionState:$c,useOptimistic:function(e,t){var n=Ht();return It!==null?Vc(n,It,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gs,useCacheRefresh:hl},ei=null,Gi=0;function jo(e){var t=Gi;return Gi+=1,ei===null&&(ei=[]),Lc(ei,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ho(e,t){throw t.$$typeof===E?Error(ae(525)):(e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function El(e){var t=e._init;return t(e._payload)}function bl(e){function t(ge,fe){if(e){var ye=ge.deletions;ye===null?(ge.deletions=[fe],ge.flags|=16):ye.push(fe)}}function n(ge,fe){if(!e)return null;for(;fe!==null;)t(ge,fe),fe=fe.sibling;return null}function o(ge){for(var fe=new Map;ge!==null;)ge.key!==null?fe.set(ge.key,ge):fe.set(ge.index,ge),ge=ge.sibling;return fe}function g(ge,fe){return ge=Bn(ge,fe),ge.index=0,ge.sibling=null,ge}function _(ge,fe,ye){return ge.index=ye,e?(ye=ge.alternate,ye!==null?(ye=ye.index,ye<fe?(ge.flags|=67108866,fe):ye):(ge.flags|=67108866,fe)):(ge.flags|=1048576,fe)}function P(ge){return e&&ge.alternate===null&&(ge.flags|=67108866),ge}function J(ge,fe,ye,ke){return fe===null||fe.tag!==6?(fe=qa(ye,ge.mode,ke),fe.return=ge,fe):(fe=g(fe,ye),fe.return=ge,fe)}function ce(ge,fe,ye,ke){var nt=ye.type;return nt===m?Ne(ge,fe,ye.props.children,ke,ye.key):fe!==null&&(fe.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===S&&El(nt)===fe.type)?(fe=g(fe,ye.props),ji(fe,ye),fe.return=ge,fe):(fe=_o(ye.type,ye.key,ye.props,null,ge.mode,ke),ji(fe,ye),fe.return=ge,fe)}function Se(ge,fe,ye,ke){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=Wa(ye,ge.mode,ke),fe.return=ge,fe):(fe=g(fe,ye.children||[]),fe.return=ge,fe)}function Ne(ge,fe,ye,ke,nt){return fe===null||fe.tag!==7?(fe=Cr(ye,ge.mode,ke,nt),fe.return=ge,fe):(fe=g(fe,ye),fe.return=ge,fe)}function Pe(ge,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=qa(""+fe,ge.mode,ye),fe.return=ge,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:return ye=_o(fe.type,fe.key,fe.props,null,ge.mode,ye),ji(ye,fe),ye.return=ge,ye;case v:return fe=Wa(fe,ge.mode,ye),fe.return=ge,fe;case S:var ke=fe._init;return fe=ke(fe._payload),Pe(ge,fe,ye)}if(O(fe)||A(fe))return fe=Cr(fe,ge.mode,ye,null),fe.return=ge,fe;if(typeof fe.then=="function")return Pe(ge,jo(fe),ye);if(fe.$$typeof===c)return Pe(ge,wo(ge,fe),ye);Ho(ge,fe)}return null}function Te(ge,fe,ye,ke){var nt=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return nt!==null?null:J(ge,fe,""+ye,ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:return ye.key===nt?ce(ge,fe,ye,ke):null;case v:return ye.key===nt?Se(ge,fe,ye,ke):null;case S:return nt=ye._init,ye=nt(ye._payload),Te(ge,fe,ye,ke)}if(O(ye)||A(ye))return nt!==null?null:Ne(ge,fe,ye,ke,null);if(typeof ye.then=="function")return Te(ge,fe,jo(ye),ke);if(ye.$$typeof===c)return Te(ge,fe,wo(ge,ye),ke);Ho(ge,ye)}return null}function Ce(ge,fe,ye,ke,nt){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ge=ge.get(ye)||null,J(fe,ge,""+ke,nt);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case C:return ge=ge.get(ke.key===null?ye:ke.key)||null,ce(fe,ge,ke,nt);case v:return ge=ge.get(ke.key===null?ye:ke.key)||null,Se(fe,ge,ke,nt);case S:var gt=ke._init;return ke=gt(ke._payload),Ce(ge,fe,ye,ke,nt)}if(O(ke)||A(ke))return ge=ge.get(ye)||null,Ne(fe,ge,ke,nt,null);if(typeof ke.then=="function")return Ce(ge,fe,ye,jo(ke),nt);if(ke.$$typeof===c)return Ce(ge,fe,ye,wo(fe,ke),nt);Ho(fe,ke)}return null}function lt(ge,fe,ye,ke){for(var nt=null,gt=null,it=fe,ct=fe=0,Qt=null;it!==null&&ct<ye.length;ct++){it.index>ct?(Qt=it,it=null):Qt=it.sibling;var Tt=Te(ge,it,ye[ct],ke);if(Tt===null){it===null&&(it=Qt);break}e&&it&&Tt.alternate===null&&t(ge,it),fe=_(Tt,fe,ct),gt===null?nt=Tt:gt.sibling=Tt,gt=Tt,it=Qt}if(ct===ye.length)return n(ge,it),Ct&&Ar(ge,ct),nt;if(it===null){for(;ct<ye.length;ct++)it=Pe(ge,ye[ct],ke),it!==null&&(fe=_(it,fe,ct),gt===null?nt=it:gt.sibling=it,gt=it);return Ct&&Ar(ge,ct),nt}for(it=o(it);ct<ye.length;ct++)Qt=Ce(it,ge,ct,ye[ct],ke),Qt!==null&&(e&&Qt.alternate!==null&&it.delete(Qt.key===null?ct:Qt.key),fe=_(Qt,fe,ct),gt===null?nt=Qt:gt.sibling=Qt,gt=Qt);return e&&it.forEach(function(yr){return t(ge,yr)}),Ct&&Ar(ge,ct),nt}function ut(ge,fe,ye,ke){if(ye==null)throw Error(ae(151));for(var nt=null,gt=null,it=fe,ct=fe=0,Qt=null,Tt=ye.next();it!==null&&!Tt.done;ct++,Tt=ye.next()){it.index>ct?(Qt=it,it=null):Qt=it.sibling;var yr=Te(ge,it,Tt.value,ke);if(yr===null){it===null&&(it=Qt);break}e&&it&&yr.alternate===null&&t(ge,it),fe=_(yr,fe,ct),gt===null?nt=yr:gt.sibling=yr,gt=yr,it=Qt}if(Tt.done)return n(ge,it),Ct&&Ar(ge,ct),nt;if(it===null){for(;!Tt.done;ct++,Tt=ye.next())Tt=Pe(ge,Tt.value,ke),Tt!==null&&(fe=_(Tt,fe,ct),gt===null?nt=Tt:gt.sibling=Tt,gt=Tt);return Ct&&Ar(ge,ct),nt}for(it=o(it);!Tt.done;ct++,Tt=ye.next())Tt=Ce(it,ge,ct,Tt.value,ke),Tt!==null&&(e&&Tt.alternate!==null&&it.delete(Tt.key===null?ct:Tt.key),fe=_(Tt,fe,ct),gt===null?nt=Tt:gt.sibling=Tt,gt=Tt);return e&&it.forEach(function(Oh){return t(ge,Oh)}),Ct&&Ar(ge,ct),nt}function wt(ge,fe,ye,ke){if(typeof ye=="object"&&ye!==null&&ye.type===m&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case C:e:{for(var nt=ye.key;fe!==null;){if(fe.key===nt){if(nt=ye.type,nt===m){if(fe.tag===7){n(ge,fe.sibling),ke=g(fe,ye.props.children),ke.return=ge,ge=ke;break e}}else if(fe.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===S&&El(nt)===fe.type){n(ge,fe.sibling),ke=g(fe,ye.props),ji(ke,ye),ke.return=ge,ge=ke;break e}n(ge,fe);break}else t(ge,fe);fe=fe.sibling}ye.type===m?(ke=Cr(ye.props.children,ge.mode,ke,ye.key),ke.return=ge,ge=ke):(ke=_o(ye.type,ye.key,ye.props,null,ge.mode,ke),ji(ke,ye),ke.return=ge,ge=ke)}return P(ge);case v:e:{for(nt=ye.key;fe!==null;){if(fe.key===nt)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){n(ge,fe.sibling),ke=g(fe,ye.children||[]),ke.return=ge,ge=ke;break e}else{n(ge,fe);break}else t(ge,fe);fe=fe.sibling}ke=Wa(ye,ge.mode,ke),ke.return=ge,ge=ke}return P(ge);case S:return nt=ye._init,ye=nt(ye._payload),wt(ge,fe,ye,ke)}if(O(ye))return lt(ge,fe,ye,ke);if(A(ye)){if(nt=A(ye),typeof nt!="function")throw Error(ae(150));return ye=nt.call(ye),ut(ge,fe,ye,ke)}if(typeof ye.then=="function")return wt(ge,fe,jo(ye),ke);if(ye.$$typeof===c)return wt(ge,fe,wo(ge,ye),ke);Ho(ge,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(n(ge,fe.sibling),ke=g(fe,ye),ke.return=ge,ge=ke):(n(ge,fe),ke=qa(ye,ge.mode,ke),ke.return=ge,ge=ke),P(ge)):n(ge,fe)}return function(ge,fe,ye,ke){try{Gi=0;var nt=wt(ge,fe,ye,ke);return ei=null,nt}catch(it){if(it===Ni||it===Lo)throw it;var gt=ln(29,it,null,ge.mode);return gt.lanes=ke,gt.return=ge,gt}finally{}}}var ti=bl(!0),Tl=bl(!1),Cn=I(null),Nn=null;function rr(e){var t=e.alternate;Z(Wt,Wt.current&1),Z(Cn,e),Nn===null&&(t===null||Qr.current!==null||t.memoizedState!==null)&&(Nn=e)}function Cl(e){if(e.tag===22){if(Z(Wt,Wt.current),Z(Cn,e),Nn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Nn=e)}}else ir()}function ir(){Z(Wt,Wt.current),Z(Cn,Cn.current)}function Vn(e){W(Cn),Nn===e&&(Nn=null),W(Wt)}var Wt=I(0);function Fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||hu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function As(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:u({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Is={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=hn(),g=er(o);g.payload=t,n!=null&&(g.callback=n),t=tr(e,g,o),t!==null&&(gn(t,e,o),Mi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=hn(),g=er(o);g.tag=1,g.payload=t,n!=null&&(g.callback=n),t=tr(e,g,o),t!==null&&(gn(t,e,o),Mi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),o=er(n);o.tag=2,t!=null&&(o.callback=t),t=tr(e,o,n),t!==null&&(gn(t,e,n),Mi(t,e,n))}};function _l(e,t,n,o,g,_,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,_,P):t.prototype&&t.prototype.isPureReactComponent?!Ci(n,o)||!Ci(g,_):!0}function Al(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function Dr(e,t){var n=t;if("ref"in t){n={};for(var o in t)o!=="ref"&&(n[o]=t[o])}if(e=e.defaultProps){n===t&&(n=u({},n));for(var g in e)n[g]===void 0&&(n[g]=e[g])}return n}var Vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Il(e){Vo(e)}function Rl(e){console.error(e)}function wl(e){Vo(e)}function qo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Ol(e,t,n){try{var o=e.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rs(e,t,n){return n=er(n),n.tag=3,n.payload={element:null},n.callback=function(){qo(e,t)},n}function Ll(e){return e=er(e),e.tag=3,e}function Nl(e,t,n,o){var g=n.type.getDerivedStateFromError;if(typeof g=="function"){var _=o.value;e.payload=function(){return g(_)},e.callback=function(){Ol(t,n,o)}}var P=n.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(e.callback=function(){Ol(t,n,o),typeof g!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var J=o.stack;this.componentDidCatch(o.value,{componentStack:J!==null?J:""})})}function Od(e,t,n,o,g){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=n.alternate,t!==null&&wi(t,n,g,!0),n=Cn.current,n!==null){switch(n.tag){case 13:return Nn===null?Zs():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=g,o===ns?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([o]):t.add(o),$s(e,o,g)),!1;case 22:return n.flags|=65536,o===ns?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([o]):n.add(o)),$s(e,o,g)),!1}throw Error(ae(435,n.tag))}return $s(e,o,g),Zs(),!1}if(Ct)return t=Cn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=g,o!==Xa&&(e=Error(ae(422),{cause:o}),Ri(Sn(e,n)))):(o!==Xa&&(t=Error(ae(423),{cause:o}),Ri(Sn(t,n))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,o=Sn(o,n),g=Rs(e.stateNode,o,g),os(e,g),xt!==4&&(xt=2)),!1;var _=Error(ae(520),{cause:o});if(_=Sn(_,n),Yi===null?Yi=[_]:Yi.push(_),xt!==4&&(xt=2),t===null)return!0;o=Sn(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=g&-g,n.lanes|=e,e=Rs(n.stateNode,o,e),os(n,e),!1;case 1:if(t=n.type,_=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(lr===null||!lr.has(_))))return n.flags|=65536,g&=-g,n.lanes|=g,g=Ll(g),Nl(g,e,n,o),os(n,g),!1}n=n.return}while(n!==null);return!1}var Dl=Error(ae(461)),Yt=!1;function Zt(e,t,n,o){t.child=e===null?Tl(t,null,n,o):ti(t,e.child,n,o)}function Ml(e,t,n,o,g){n=n.render;var _=t.ref;if("ref"in o){var P={};for(var J in o)J!=="ref"&&(P[J]=o[J])}else P=o;return Or(t),o=ls(e,t,n,P,_,g),J=fs(),e!==null&&!Yt?(ps(e,t,g),qn(e,t,g)):(Ct&&J&&Ka(t),t.flags|=1,Zt(e,t,o,g),t.child)}function kl(e,t,n,o,g){if(e===null){var _=n.type;return typeof _=="function"&&!Va(_)&&_.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=_,Ul(e,t,_,o,g)):(e=_o(n.type,null,o,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(_=e.child,!Us(e,g)){var P=_.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(P,o)&&e.ref===t.ref)return qn(e,t,g)}return t.flags|=1,e=Bn(_,o),e.ref=t.ref,e.return=t,t.child=e}function Ul(e,t,n,o,g){if(e!==null){var _=e.memoizedProps;if(Ci(_,o)&&e.ref===t.ref)if(Yt=!1,t.pendingProps=o=_,Us(e,g))(e.flags&131072)!==0&&(Yt=!0);else return t.lanes=e.lanes,qn(e,t,g)}return ws(e,t,n,o,g)}function Pl(e,t,n){var o=t.pendingProps,g=o.children,_=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((t.flags&128)!==0){if(o=_!==null?_.baseLanes|n:n,e!==null){for(g=t.child=e.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;t.childLanes=_&~o}else t.childLanes=0,t.child=null;return xl(e,t,o,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oo(t,_!==null?_.cachePool:null),_!==null?Uc(t,_):ss(),Cl(t);else return t.lanes=t.childLanes=536870912,xl(e,t,_!==null?_.baseLanes|n:n,n)}else _!==null?(Oo(t,_.cachePool),Uc(t,_),ir(),t.memoizedState=null):(e!==null&&Oo(t,null),ss(),ir());return Zt(e,t,g,n),t.child}function xl(e,t,n,o){var g=ts();return g=g===null?null:{parent:qt._currentValue,pool:g},t.memoizedState={baseLanes:n,cachePool:g},e!==null&&Oo(t,null),ss(),Cl(t),e!==null&&wi(e,t,o,!0),null}function Wo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ae(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ws(e,t,n,o,g){return Or(t),n=ls(e,t,n,o,void 0,g),o=fs(),e!==null&&!Yt?(ps(e,t,g),qn(e,t,g)):(Ct&&o&&Ka(t),t.flags|=1,Zt(e,t,n,g),t.child)}function Bl(e,t,n,o,g,_){return Or(t),t.updateQueue=null,n=xc(t,o,n,g),Pc(e),o=fs(),e!==null&&!Yt?(ps(e,t,_),qn(e,t,_)):(Ct&&o&&Ka(t),t.flags|=1,Zt(e,t,n,_),t.child)}function zl(e,t,n,o,g){if(Or(t),t.stateNode===null){var _=qr,P=n.contextType;typeof P=="object"&&P!==null&&(_=en(P)),_=new n(o,_),t.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Is,t.stateNode=_,_._reactInternals=t,_=t.stateNode,_.props=o,_.state=t.memoizedState,_.refs={},rs(t),P=n.contextType,_.context=typeof P=="object"&&P!==null?en(P):qr,_.state=t.memoizedState,P=n.getDerivedStateFromProps,typeof P=="function"&&(As(t,n,P,o),_.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&Is.enqueueReplaceState(_,_.state,null),Ui(t,o,_,g),ki(),_.state=t.memoizedState),typeof _.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){_=t.stateNode;var J=t.memoizedProps,ce=Dr(n,J);_.props=ce;var Se=_.context,Ne=n.contextType;P=qr,typeof Ne=="object"&&Ne!==null&&(P=en(Ne));var Pe=n.getDerivedStateFromProps;Ne=typeof Pe=="function"||typeof _.getSnapshotBeforeUpdate=="function",J=t.pendingProps!==J,Ne||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(J||Se!==P)&&Al(t,_,o,P),$n=!1;var Te=t.memoizedState;_.state=Te,Ui(t,o,_,g),ki(),Se=t.memoizedState,J||Te!==Se||$n?(typeof Pe=="function"&&(As(t,n,Pe,o),Se=t.memoizedState),(ce=$n||_l(t,n,ce,o,Te,Se,P))?(Ne||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=Se),_.props=o,_.state=Se,_.context=P,o=ce):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{_=t.stateNode,is(e,t),P=t.memoizedProps,Ne=Dr(n,P),_.props=Ne,Pe=t.pendingProps,Te=_.context,Se=n.contextType,ce=qr,typeof Se=="object"&&Se!==null&&(ce=en(Se)),J=n.getDerivedStateFromProps,(Se=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Pe||Te!==ce)&&Al(t,_,o,ce),$n=!1,Te=t.memoizedState,_.state=Te,Ui(t,o,_,g),ki();var Ce=t.memoizedState;P!==Pe||Te!==Ce||$n||e!==null&&e.dependencies!==null&&Ro(e.dependencies)?(typeof J=="function"&&(As(t,n,J,o),Ce=t.memoizedState),(Ne=$n||_l(t,n,Ne,o,Te,Ce,ce)||e!==null&&e.dependencies!==null&&Ro(e.dependencies))?(Se||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(o,Ce,ce),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(o,Ce,ce)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Ce),_.props=o,_.state=Ce,_.context=ce,o=Ne):(typeof _.componentDidUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&Te===e.memoizedState||(t.flags|=1024),o=!1)}return _=o,Wo(e,t),o=(t.flags&128)!==0,_||o?(_=t.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:_.render(),t.flags|=1,e!==null&&o?(t.child=ti(t,e.child,null,g),t.child=ti(t,null,n,g)):Zt(e,t,n,g),t.memoizedState=_.state,e=t.child):e=qn(e,t,g),e}function Gl(e,t,n,o){return Ii(),t.flags|=256,Zt(e,t,n,o),t.child}var Os={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ls(e){return{baseLanes:e,cachePool:Rc()}}function Ns(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=_n),e}function jl(e,t,n){var o=t.pendingProps,g=!1,_=(t.flags&128)!==0,P;if((P=_)||(P=e!==null&&e.memoizedState===null?!1:(Wt.current&2)!==0),P&&(g=!0,t.flags&=-129),P=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ct){if(g?rr(t):ir(),Ct){var J=Pt,ce;if(ce=J){e:{for(ce=J,J=Ln;ce.nodeType!==8;){if(!J){J=null;break e}if(ce=wn(ce.nextSibling),ce===null){J=null;break e}}J=ce}J!==null?(t.memoizedState={dehydrated:J,treeContext:_r!==null?{id:zn,overflow:Gn}:null,retryLane:536870912,hydrationErrors:null},ce=ln(18,null,null,0),ce.stateNode=J,ce.return=t,t.child=ce,nn=t,Pt=null,ce=!0):ce=!1}ce||Rr(t)}if(J=t.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return hu(J)?t.lanes=32:t.lanes=536870912,null;Vn(t)}return J=o.children,o=o.fallback,g?(ir(),g=t.mode,J=Ko({mode:"hidden",children:J},g),o=Cr(o,g,n,null),J.return=t,o.return=t,J.sibling=o,t.child=J,g=t.child,g.memoizedState=Ls(n),g.childLanes=Ns(e,P,n),t.memoizedState=Os,o):(rr(t),Ds(t,J))}if(ce=e.memoizedState,ce!==null&&(J=ce.dehydrated,J!==null)){if(_)t.flags&256?(rr(t),t.flags&=-257,t=Ms(e,t,n)):t.memoizedState!==null?(ir(),t.child=e.child,t.flags|=128,t=null):(ir(),g=o.fallback,J=t.mode,o=Ko({mode:"visible",children:o.children},J),g=Cr(g,J,n,null),g.flags|=2,o.return=t,g.return=t,o.sibling=g,t.child=o,ti(t,e.child,null,n),o=t.child,o.memoizedState=Ls(n),o.childLanes=Ns(e,P,n),t.memoizedState=Os,t=g);else if(rr(t),hu(J)){if(P=J.nextSibling&&J.nextSibling.dataset,P)var Se=P.dgst;P=Se,o=Error(ae(419)),o.stack="",o.digest=P,Ri({value:o,source:null,stack:null}),t=Ms(e,t,n)}else if(Yt||wi(e,t,n,!1),P=(n&e.childLanes)!==0,Yt||P){if(P=Nt,P!==null&&(o=n&-n,o=(o&42)!==0?1:je(o),o=(o&(P.suspendedLanes|n))!==0?0:o,o!==0&&o!==ce.retryLane))throw ce.retryLane=o,Vr(e,o),gn(P,e,o),Dl;J.data==="$?"||Zs(),t=Ms(e,t,n)}else J.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=ce.treeContext,Pt=wn(J.nextSibling),nn=t,Ct=!0,Ir=null,Ln=!1,e!==null&&(bn[Tn++]=zn,bn[Tn++]=Gn,bn[Tn++]=_r,zn=e.id,Gn=e.overflow,_r=t),t=Ds(t,o.children),t.flags|=4096);return t}return g?(ir(),g=o.fallback,J=t.mode,ce=e.child,Se=ce.sibling,o=Bn(ce,{mode:"hidden",children:o.children}),o.subtreeFlags=ce.subtreeFlags&65011712,Se!==null?g=Bn(Se,g):(g=Cr(g,J,n,null),g.flags|=2),g.return=t,o.return=t,o.sibling=g,t.child=o,o=g,g=t.child,J=e.child.memoizedState,J===null?J=Ls(n):(ce=J.cachePool,ce!==null?(Se=qt._currentValue,ce=ce.parent!==Se?{parent:Se,pool:Se}:ce):ce=Rc(),J={baseLanes:J.baseLanes|n,cachePool:ce}),g.memoizedState=J,g.childLanes=Ns(e,P,n),t.memoizedState=Os,o):(rr(t),n=e.child,e=n.sibling,n=Bn(n,{mode:"visible",children:o.children}),n.return=t,n.sibling=null,e!==null&&(P=t.deletions,P===null?(t.deletions=[e],t.flags|=16):P.push(e)),t.child=n,t.memoizedState=null,n)}function Ds(e,t){return t=Ko({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ko(e,t){return e=ln(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ms(e,t,n){return ti(t,e.child,null,n),e=Ds(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hl(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Za(e.return,t,n)}function ks(e,t,n,o,g){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:g}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=n,_.tailMode=g)}function Fl(e,t,n){var o=t.pendingProps,g=o.revealOrder,_=o.tail;if(Zt(e,t,o.children,n),o=Wt.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hl(e,n,t);else if(e.tag===19)Hl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Z(Wt,o),g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Fo(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),ks(t,!1,g,n,_);break;case"backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Fo(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}ks(t,!0,n,null,_);break;case"together":ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(wi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Us(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ro(e)))}function Ld(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Jn(t,qt,e.memoizedState.cache),Ii();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Jn(t,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jl(e,t,n):(rr(t),e=qn(e,t,n),e!==null?e.sibling:null);rr(t);break;case 19:var g=(e.flags&128)!==0;if(o=(n&t.childLanes)!==0,o||(wi(e,t,n,!1),o=(n&t.childLanes)!==0),g){if(o)return Fl(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(Wt,Wt.current),o)break;return null;case 22:case 23:return t.lanes=0,Pl(e,t,n);case 24:Jn(t,qt,e.memoizedState.cache)}return qn(e,t,n)}function Vl(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Yt=!0;else{if(!Us(e,n)&&(t.flags&128)===0)return Yt=!1,Ld(e,t,n);Yt=(e.flags&131072)!==0}else Yt=!1,Ct&&(t.flags&1048576)!==0&&Ec(t,Io,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,g=o._init;if(o=g(o._payload),t.type=o,typeof o=="function")Va(o)?(e=Dr(o,e),t.tag=1,t=zl(null,t,o,e,n)):(t.tag=0,t=ws(null,t,o,e,n));else{if(o!=null){if(g=o.$$typeof,g===l){t.tag=11,t=Ml(null,t,o,e,n);break e}else if(g===T){t.tag=14,t=kl(null,t,o,e,n);break e}}throw t=w(o)||o,Error(ae(306,t,""))}}return t;case 0:return ws(e,t,t.type,t.pendingProps,n);case 1:return o=t.type,g=Dr(o,t.pendingProps),zl(e,t,o,g,n);case 3:e:{if(K(t,t.stateNode.containerInfo),e===null)throw Error(ae(387));o=t.pendingProps;var _=t.memoizedState;g=_.element,is(e,t),Ui(t,o,null,n);var P=t.memoizedState;if(o=P.cache,Jn(t,qt,o),o!==_.cache&&Ja(t,[qt],n,!0),ki(),o=P.element,_.isDehydrated)if(_={element:o,isDehydrated:!1,cache:P.cache},t.updateQueue.baseState=_,t.memoizedState=_,t.flags&256){t=Gl(e,t,o,n);break e}else if(o!==g){g=Sn(Error(ae(424)),t),Ri(g),t=Gl(e,t,o,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pt=wn(e.firstChild),nn=t,Ct=!0,Ir=null,Ln=!0,n=Tl(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ii(),o===g){t=qn(e,t,n);break e}Zt(e,t,o,n)}t=t.child}return t;case 26:return Wo(e,t),e===null?(n=Xf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ct||(n=t.type,e=t.pendingProps,o=sa(B.current).createElement(n),o[tt]=t,o[$e]=e,$t(o,n,e),St(o),t.stateNode=o):t.memoizedState=Xf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),e===null&&Ct&&(o=t.stateNode=Wf(t.type,t.pendingProps,B.current),nn=t,Ln=!0,g=Pt,dr(t.type)?(gu=g,Pt=wn(o.firstChild)):Pt=g),Zt(e,t,t.pendingProps.children,n),Wo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ct&&((g=o=Pt)&&(o=ih(o,t.type,t.pendingProps,Ln),o!==null?(t.stateNode=o,nn=t,Pt=wn(o.firstChild),Ln=!1,g=!0):g=!1),g||Rr(t)),X(t),g=t.type,_=t.pendingProps,P=e!==null?e.memoizedProps:null,o=_.children,fu(g,_)?o=null:P!==null&&fu(g,P)&&(t.flags|=32),t.memoizedState!==null&&(g=ls(e,t,Td,null,null,n),ro._currentValue=g),Wo(e,t),Zt(e,t,o,n),t.child;case 6:return e===null&&Ct&&((e=n=Pt)&&(n=oh(n,t.pendingProps,Ln),n!==null?(t.stateNode=n,nn=t,Pt=null,e=!0):e=!1),e||Rr(t)),null;case 13:return jl(e,t,n);case 4:return K(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ti(t,null,o,n):Zt(e,t,o,n),t.child;case 11:return Ml(e,t,t.type,t.pendingProps,n);case 7:return Zt(e,t,t.pendingProps,n),t.child;case 8:return Zt(e,t,t.pendingProps.children,n),t.child;case 12:return Zt(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Jn(t,t.type,o.value),Zt(e,t,o.children,n),t.child;case 9:return g=t.type._context,o=t.pendingProps.children,Or(t),g=en(g),o=o(g),t.flags|=1,Zt(e,t,o,n),t.child;case 14:return kl(e,t,t.type,t.pendingProps,n);case 15:return Ul(e,t,t.type,t.pendingProps,n);case 19:return Fl(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},e===null?(n=Ko(o,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Bn(e.child,o),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pl(e,t,n);case 24:return Or(t),o=en(qt),e===null?(g=ts(),g===null&&(g=Nt,_=$a(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=n),g=_),t.memoizedState={parent:o,cache:g},rs(t),Jn(t,qt,g)):((e.lanes&n)!==0&&(is(e,t),Ui(t,null,null,n),ki()),g=e.memoizedState,_=t.memoizedState,g.parent!==o?(g={parent:o,cache:o},t.memoizedState=g,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=g),Jn(t,qt,o)):(o=_.cache,Jn(t,qt,o),o!==g.cache&&Ja(t,[qt],n,!0))),Zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(ae(156,t.tag))}function Wn(e){e.flags|=4}function ql(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(t)){if(t=Cn.current,t!==null&&((bt&4194048)===bt?Nn!==null:(bt&62914560)!==bt&&(bt&536870912)===0||t!==Nn))throw Di=ns,wc;e.flags|=8192}}function Yo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?D():536870912,e.lanes|=t,oi|=t)}function Hi(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,o|=g.subtreeFlags&65011712,o|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Nd(e,t,n){var o=t.pendingProps;switch(Ya(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return Ut(t),null;case 3:return n=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Hn(qt),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?Wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cc())),Ut(t),null;case 26:return n=t.memoizedState,e===null?(Wn(t),n!==null?(Ut(t),ql(t,n)):(Ut(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wn(t),Ut(t),ql(t,n)):(Ut(t),t.flags&=-16777217):(e.memoizedProps!==o&&Wn(t),Ut(t),t.flags&=-16777217),null;case 27:se(t),n=B.current;var g=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Wn(t);else{if(!o){if(t.stateNode===null)throw Error(ae(166));return Ut(t),null}e=V.current,Ai(t)?bc(t):(e=Wf(g,o,n),t.stateNode=e,Wn(t))}return Ut(t),null;case 5:if(se(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Wn(t);else{if(!o){if(t.stateNode===null)throw Error(ae(166));return Ut(t),null}if(e=V.current,Ai(t))bc(t);else{switch(g=sa(B.current),e){case 1:e=g.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=g.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=g.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=g.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?g.createElement(n,{is:o.is}):g.createElement(n)}}e[tt]=t,e[$e]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)e.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=e;e:switch($t(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wn(t)}}return Ut(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Wn(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(ae(166));if(e=B.current,Ai(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,g=nn,g!==null)switch(g.tag){case 27:case 5:o=g.memoizedProps}e[tt]=t,e=!!(e.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||zf(e.nodeValue,n)),e||Rr(t)}else e=sa(e).createTextNode(o),e[tt]=t,t.stateNode=e}return Ut(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Ai(t),o!==null&&o.dehydrated!==null){if(e===null){if(!g)throw Error(ae(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(ae(317));g[tt]=t}else Ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ut(t),g=!1}else g=Cc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return t.flags&256?(Vn(t),t):(Vn(t),null)}if(Vn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=o!==null,e=e!==null&&e.memoizedState!==null,n){o=t.child,g=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(g=o.alternate.memoizedState.cachePool.pool);var _=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(_=o.memoizedState.cachePool.pool),_!==g&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Yo(t,t.updateQueue),Ut(t),null;case 4:return q(),e===null&&au(t.stateNode.containerInfo),Ut(t),null;case 10:return Hn(t.type),Ut(t),null;case 19:if(W(Wt),g=t.memoizedState,g===null)return Ut(t),null;if(o=(t.flags&128)!==0,_=g.rendering,_===null)if(o)Hi(g,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(_=Fo(e),_!==null){for(t.flags|=128,Hi(g,!1),e=_.updateQueue,t.updateQueue=e,Yo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Sc(n,e),n=n.sibling;return Z(Wt,Wt.current&1|2),t.child}e=e.sibling}g.tail!==null&&be()>Zo&&(t.flags|=128,o=!0,Hi(g,!1),t.lanes=4194304)}else{if(!o)if(e=Fo(_),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Yo(t,e),Hi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!Ct)return Ut(t),null}else 2*be()-g.renderingStartTime>Zo&&n!==536870912&&(t.flags|=128,o=!0,Hi(g,!1),t.lanes=4194304);g.isBackwards?(_.sibling=t.child,t.child=_):(e=g.last,e!==null?e.sibling=_:t.child=_,g.last=_)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=be(),t.sibling=null,e=Wt.current,Z(Wt,o?e&1|2:e&1),t):(Ut(t),null);case 22:case 23:return Vn(t),us(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(n&536870912)!==0&&(t.flags&128)===0&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),n=t.updateQueue,n!==null&&Yo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),e!==null&&W(Lr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(qt),Ut(t),null;case 25:return null;case 30:return null}throw Error(ae(156,t.tag))}function Dd(e,t){switch(Ya(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(qt),q(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(Vn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Wt),null;case 4:return q(),null;case 10:return Hn(t.type),null;case 22:case 23:return Vn(t),us(),e!==null&&W(Lr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(qt),null;case 25:return null;default:return null}}function Wl(e,t){switch(Ya(t),t.tag){case 3:Hn(qt),q();break;case 26:case 27:case 5:se(t);break;case 4:q();break;case 13:Vn(t);break;case 19:W(Wt);break;case 10:Hn(t.type);break;case 22:case 23:Vn(t),us(),e!==null&&W(Lr);break;case 24:Hn(qt)}}function Fi(e,t){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var g=o.next;n=g;do{if((n.tag&e)===e){o=void 0;var _=n.create,P=n.inst;o=_(),P.destroy=o}n=n.next}while(n!==g)}}catch(J){Ot(t,t.return,J)}}function or(e,t,n){try{var o=t.updateQueue,g=o!==null?o.lastEffect:null;if(g!==null){var _=g.next;o=_;do{if((o.tag&e)===e){var P=o.inst,J=P.destroy;if(J!==void 0){P.destroy=void 0,g=t;var ce=n,Se=J;try{Se()}catch(Ne){Ot(g,ce,Ne)}}}o=o.next}while(o!==_)}}catch(Ne){Ot(t,t.return,Ne)}}function Kl(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{kc(t,n)}catch(o){Ot(e,e.return,o)}}}function Yl(e,t,n){n.props=Dr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){Ot(e,t,o)}}function Vi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(g){Ot(e,t,g)}}function Dn(e,t){var n=e.ref,o=e.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(g){Ot(e,t,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(g){Ot(e,t,g)}else n.current=null}function Xl(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(g){Ot(e,e.return,g)}}function Ps(e,t,n){try{var o=e.stateNode;$d(o,e.type,n,t),o[$e]=t}catch(g){Ot(e,e.return,g)}}function Ql(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dr(e.type)||e.tag===4}function xs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ql(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bs(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=aa));else if(o!==4&&(o===27&&dr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Bs(e,t,n),e=e.sibling;e!==null;)Bs(e,t,n),e=e.sibling}function Xo(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(o===27&&dr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xo(e,t,n),e=e.sibling;e!==null;)Xo(e,t,n),e=e.sibling}function Zl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,g=t.attributes;g.length;)t.removeAttributeNode(g[0]);$t(t,o,n),t[tt]=e,t[$e]=n}catch(_){Ot(e,e.return,_)}}var Kn=!1,Gt=!1,zs=!1,Jl=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function Md(e,t){if(e=e.containerInfo,cu=da,e=cc(e),xa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var g=o.anchorOffset,_=o.focusNode;o=o.focusOffset;try{n.nodeType,_.nodeType}catch{n=null;break e}var P=0,J=-1,ce=-1,Se=0,Ne=0,Pe=e,Te=null;t:for(;;){for(var Ce;Pe!==n||g!==0&&Pe.nodeType!==3||(J=P+g),Pe!==_||o!==0&&Pe.nodeType!==3||(ce=P+o),Pe.nodeType===3&&(P+=Pe.nodeValue.length),(Ce=Pe.firstChild)!==null;)Te=Pe,Pe=Ce;for(;;){if(Pe===e)break t;if(Te===n&&++Se===g&&(J=P),Te===_&&++Ne===o&&(ce=P),(Ce=Pe.nextSibling)!==null)break;Pe=Te,Te=Pe.parentNode}Pe=Ce}n=J===-1||ce===-1?null:{start:J,end:ce}}else n=null}n=n||{start:0,end:0}}else n=null;for(lu={focusedElem:e,selectionRange:n},da=!1,Xt=t;Xt!==null;)if(t=Xt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Xt=e;else for(;Xt!==null;){switch(t=Xt,_=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,n=t,g=_.memoizedProps,_=_.memoizedState,o=n.stateNode;try{var lt=Dr(n.type,g,n.elementType===n.type);e=o.getSnapshotBeforeUpdate(lt,_),o.__reactInternalSnapshotBeforeUpdate=e}catch(ut){Ot(n,n.return,ut)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(ae(163))}if(e=t.sibling,e!==null){e.return=t.return,Xt=e;break}Xt=t.return}}function $l(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:ar(e,n),o&4&&Fi(5,n);break;case 1:if(ar(e,n),o&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(P){Ot(n,n.return,P)}else{var g=Dr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(g,t,e.__reactInternalSnapshotBeforeUpdate)}catch(P){Ot(n,n.return,P)}}o&64&&Kl(n),o&512&&Vi(n,n.return);break;case 3:if(ar(e,n),o&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{kc(e,t)}catch(P){Ot(n,n.return,P)}}break;case 27:t===null&&o&4&&Zl(n);case 26:case 5:ar(e,n),t===null&&o&4&&Xl(n),o&512&&Vi(n,n.return);break;case 12:ar(e,n);break;case 13:ar(e,n),o&4&&nf(e,n),o&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Hd.bind(null,n),ah(e,n))));break;case 22:if(o=n.memoizedState!==null||Kn,!o){t=t!==null&&t.memoizedState!==null||Gt,g=Kn;var _=Gt;Kn=o,(Gt=t)&&!_?sr(e,n,(n.subtreeFlags&8772)!==0):ar(e,n),Kn=g,Gt=_}break;case 30:break;default:ar(e,n)}}function ef(e){var t=e.alternate;t!==null&&(e.alternate=null,ef(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Et(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mt=null,sn=!1;function Yn(e,t,n){for(n=n.child;n!==null;)tf(e,t,n),n=n.sibling}function tf(e,t,n){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ue,n)}catch{}switch(n.tag){case 26:Gt||Dn(n,t),Yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Gt||Dn(n,t);var o=Mt,g=sn;dr(n.type)&&(Mt=n.stateNode,sn=!1),Yn(e,t,n),$i(n.stateNode),Mt=o,sn=g;break;case 5:Gt||Dn(n,t);case 6:if(o=Mt,g=sn,Mt=null,Yn(e,t,n),Mt=o,sn=g,Mt!==null)if(sn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(n.stateNode)}catch(_){Ot(n,t,_)}else try{Mt.removeChild(n.stateNode)}catch(_){Ot(n,t,_)}break;case 18:Mt!==null&&(sn?(e=Mt,Vf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),so(e)):Vf(Mt,n.stateNode));break;case 4:o=Mt,g=sn,Mt=n.stateNode.containerInfo,sn=!0,Yn(e,t,n),Mt=o,sn=g;break;case 0:case 11:case 14:case 15:Gt||or(2,n,t),Gt||or(4,n,t),Yn(e,t,n);break;case 1:Gt||(Dn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"&&Yl(n,t,o)),Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:Gt=(o=Gt)||n.memoizedState!==null,Yn(e,t,n),Gt=o;break;default:Yn(e,t,n)}}function nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(n){Ot(t,t.return,n)}}function kd(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jl),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jl),t;default:throw Error(ae(435,e.tag))}}function Gs(e,t){var n=kd(e);t.forEach(function(o){var g=Fd.bind(null,e,o);n.has(o)||(n.add(o),o.then(g,g))})}function fn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var g=n[o],_=e,P=t,J=P;e:for(;J!==null;){switch(J.tag){case 27:if(dr(J.type)){Mt=J.stateNode,sn=!1;break e}break;case 5:Mt=J.stateNode,sn=!1;break e;case 3:case 4:Mt=J.stateNode.containerInfo,sn=!0;break e}J=J.return}if(Mt===null)throw Error(ae(160));tf(_,P,g),Mt=null,sn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rf(t,e),t=t.sibling}var Rn=null;function rf(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(t,e),pn(e),o&4&&(or(3,e,e.return),Fi(3,e),or(5,e,e.return));break;case 1:fn(t,e),pn(e),o&512&&(Gt||n===null||Dn(n,n.return)),o&64&&Kn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var g=Rn;if(fn(t,e),pn(e),o&512&&(Gt||n===null||Dn(n,n.return)),o&4){var _=n!==null?n.memoizedState:null;if(o=e.memoizedState,n===null)if(o===null)if(e.stateNode===null){e:{o=e.type,n=e.memoizedProps,g=g.ownerDocument||g;t:switch(o){case"title":_=g.getElementsByTagName("title")[0],(!_||_[kt]||_[tt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(o),g.head.insertBefore(_,g.querySelector("head > title"))),$t(_,o,n),_[tt]=e,St(_),o=_;break e;case"link":var P=Jf("link","href",g).get(o+(n.href||""));if(P){for(var J=0;J<P.length;J++)if(_=P[J],_.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&_.getAttribute("rel")===(n.rel==null?null:n.rel)&&_.getAttribute("title")===(n.title==null?null:n.title)&&_.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){P.splice(J,1);break t}}_=g.createElement(o),$t(_,o,n),g.head.appendChild(_);break;case"meta":if(P=Jf("meta","content",g).get(o+(n.content||""))){for(J=0;J<P.length;J++)if(_=P[J],_.getAttribute("content")===(n.content==null?null:""+n.content)&&_.getAttribute("name")===(n.name==null?null:n.name)&&_.getAttribute("property")===(n.property==null?null:n.property)&&_.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&_.getAttribute("charset")===(n.charSet==null?null:n.charSet)){P.splice(J,1);break t}}_=g.createElement(o),$t(_,o,n),g.head.appendChild(_);break;default:throw Error(ae(468,o))}_[tt]=e,St(_),o=_}e.stateNode=o}else $f(g,e.type,e.stateNode);else e.stateNode=Zf(g,o,e.memoizedProps);else _!==o?(_===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):_.count--,o===null?$f(g,e.type,e.stateNode):Zf(g,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ps(e,e.memoizedProps,n.memoizedProps)}break;case 27:fn(t,e),pn(e),o&512&&(Gt||n===null||Dn(n,n.return)),n!==null&&o&4&&Ps(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fn(t,e),pn(e),o&512&&(Gt||n===null||Dn(n,n.return)),e.flags&32){g=e.stateNode;try{xr(g,"")}catch(Ce){Ot(e,e.return,Ce)}}o&4&&e.stateNode!=null&&(g=e.memoizedProps,Ps(e,g,n!==null?n.memoizedProps:g)),o&1024&&(zs=!0);break;case 6:if(fn(t,e),pn(e),o&4){if(e.stateNode===null)throw Error(ae(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(Ce){Ot(e,e.return,Ce)}}break;case 3:if(la=null,g=Rn,Rn=ua(t.containerInfo),fn(t,e),Rn=g,pn(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{so(t.containerInfo)}catch(Ce){Ot(e,e.return,Ce)}zs&&(zs=!1,of(e));break;case 4:o=Rn,Rn=ua(e.stateNode.containerInfo),fn(t,e),pn(e),Rn=o;break;case 12:fn(t,e),pn(e);break;case 13:fn(t,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ws=be()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gs(e,o)));break;case 22:g=e.memoizedState!==null;var ce=n!==null&&n.memoizedState!==null,Se=Kn,Ne=Gt;if(Kn=Se||g,Gt=Ne||ce,fn(t,e),Gt=Ne,Kn=Se,pn(e),o&8192)e:for(t=e.stateNode,t._visibility=g?t._visibility&-2:t._visibility|1,g&&(n===null||ce||Kn||Gt||Mr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){ce=n=t;try{if(_=ce.stateNode,g)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{J=ce.stateNode;var Pe=ce.memoizedProps.style,Te=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;J.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Ce){Ot(ce,ce.return,Ce)}}}else if(t.tag===6){if(n===null){ce=t;try{ce.stateNode.nodeValue=g?"":ce.memoizedProps}catch(Ce){Ot(ce,ce.return,Ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,Gs(e,n))));break;case 19:fn(t,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gs(e,o)));break;case 30:break;case 21:break;default:fn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{for(var n,o=e.return;o!==null;){if(Ql(o)){n=o;break}o=o.return}if(n==null)throw Error(ae(160));switch(n.tag){case 27:var g=n.stateNode,_=xs(e);Xo(e,_,g);break;case 5:var P=n.stateNode;n.flags&32&&(xr(P,""),n.flags&=-33);var J=xs(e);Xo(e,J,P);break;case 3:case 4:var ce=n.stateNode.containerInfo,Se=xs(e);Bs(e,Se,ce);break;default:throw Error(ae(161))}}catch(Ne){Ot(e,e.return,Ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ar(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$l(e,t.alternate,t),t=t.sibling}function Mr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:or(4,t,t.return),Mr(t);break;case 1:Dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Yl(t,t.return,n),Mr(t);break;case 27:$i(t.stateNode);case 26:case 5:Dn(t,t.return),Mr(t);break;case 22:t.memoizedState===null&&Mr(t);break;case 30:Mr(t);break;default:Mr(t)}e=e.sibling}}function sr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,g=e,_=t,P=_.flags;switch(_.tag){case 0:case 11:case 15:sr(g,_,n),Fi(4,_);break;case 1:if(sr(g,_,n),o=_,g=o.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Se){Ot(o,o.return,Se)}if(o=_,g=o.updateQueue,g!==null){var J=o.stateNode;try{var ce=g.shared.hiddenCallbacks;if(ce!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ce.length;g++)Mc(ce[g],J)}catch(Se){Ot(o,o.return,Se)}}n&&P&64&&Kl(_),Vi(_,_.return);break;case 27:Zl(_);case 26:case 5:sr(g,_,n),n&&o===null&&P&4&&Xl(_),Vi(_,_.return);break;case 12:sr(g,_,n);break;case 13:sr(g,_,n),n&&P&4&&nf(g,_);break;case 22:_.memoizedState===null&&sr(g,_,n),Vi(_,_.return);break;case 30:break;default:sr(g,_,n)}t=t.sibling}}function js(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Oi(n))}function Hs(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e))}function Mn(e,t,n,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)af(e,t,n,o),t=t.sibling}function af(e,t,n,o){var g=t.flags;switch(t.tag){case 0:case 11:case 15:Mn(e,t,n,o),g&2048&&Fi(9,t);break;case 1:Mn(e,t,n,o);break;case 3:Mn(e,t,n,o),g&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oi(e)));break;case 12:if(g&2048){Mn(e,t,n,o),e=t.stateNode;try{var _=t.memoizedProps,P=_.id,J=_.onPostCommit;typeof J=="function"&&J(P,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(ce){Ot(t,t.return,ce)}}else Mn(e,t,n,o);break;case 13:Mn(e,t,n,o);break;case 23:break;case 22:_=t.stateNode,P=t.alternate,t.memoizedState!==null?_._visibility&2?Mn(e,t,n,o):qi(e,t):_._visibility&2?Mn(e,t,n,o):(_._visibility|=2,ni(e,t,n,o,(t.subtreeFlags&10256)!==0)),g&2048&&js(P,t);break;case 24:Mn(e,t,n,o),g&2048&&Hs(t.alternate,t);break;default:Mn(e,t,n,o)}}function ni(e,t,n,o,g){for(g=g&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var _=e,P=t,J=n,ce=o,Se=P.flags;switch(P.tag){case 0:case 11:case 15:ni(_,P,J,ce,g),Fi(8,P);break;case 23:break;case 22:var Ne=P.stateNode;P.memoizedState!==null?Ne._visibility&2?ni(_,P,J,ce,g):qi(_,P):(Ne._visibility|=2,ni(_,P,J,ce,g)),g&&Se&2048&&js(P.alternate,P);break;case 24:ni(_,P,J,ce,g),g&&Se&2048&&Hs(P.alternate,P);break;default:ni(_,P,J,ce,g)}t=t.sibling}}function qi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,o=t,g=o.flags;switch(o.tag){case 22:qi(n,o),g&2048&&js(o.alternate,o);break;case 24:qi(n,o),g&2048&&Hs(o.alternate,o);break;default:qi(n,o)}t=t.sibling}}var Wi=8192;function ri(e){if(e.subtreeFlags&Wi)for(e=e.child;e!==null;)sf(e),e=e.sibling}function sf(e){switch(e.tag){case 26:ri(e),e.flags&Wi&&e.memoizedState!==null&&Sh(Rn,e.memoizedState,e.memoizedProps);break;case 5:ri(e);break;case 3:case 4:var t=Rn;Rn=ua(e.stateNode.containerInfo),ri(e),Rn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Wi,Wi=16777216,ri(e),Wi=t):ri(e));break;default:ri(e)}}function uf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];Xt=o,lf(o,e)}uf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cf(e),e=e.sibling}function cf(e){switch(e.tag){case 0:case 11:case 15:Ki(e),e.flags&2048&&or(9,e,e.return);break;case 3:Ki(e);break;case 12:Ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qo(e)):Ki(e);break;default:Ki(e)}}function Qo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];Xt=o,lf(o,e)}uf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:or(8,t,t.return),Qo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qo(t));break;default:Qo(t)}e=e.sibling}}function lf(e,t){for(;Xt!==null;){var n=Xt;switch(n.tag){case 0:case 11:case 15:or(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oi(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,Xt=o;else e:for(n=e;Xt!==null;){o=Xt;var g=o.sibling,_=o.return;if(ef(o),o===n){Xt=null;break e}if(g!==null){g.return=_,Xt=g;break e}Xt=_}}}var Ud={getCacheForType:function(e){var t=en(qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Pd=typeof WeakMap=="function"?WeakMap:Map,_t=0,Nt=null,vt=null,bt=0,At=0,dn=null,ur=!1,ii=!1,Fs=!1,Xn=0,xt=0,cr=0,kr=0,Vs=0,_n=0,oi=0,Yi=null,un=null,qs=!1,Ws=0,Zo=1/0,Jo=null,lr=null,Jt=0,fr=null,ai=null,si=0,Ks=0,Ys=null,ff=null,Xi=0,Xs=null;function hn(){if((_t&2)!==0&&bt!==0)return bt&-bt;if(R.T!==null){var e=Yr;return e!==0?e:nu()}return xe()}function pf(){_n===0&&(_n=(bt&536870912)===0||Ct?x():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),_n}function gn(e,t,n){(e===Nt&&(At===2||At===9)||e.cancelPendingCommit!==null)&&(ui(e,0),pr(e,bt,_n,!1)),te(e,n),((_t&2)===0||e!==Nt)&&(e===Nt&&((_t&2)===0&&(kr|=n),xt===4&&pr(e,bt,_n,!1)),kn(e))}function df(e,t,n){if((_t&6)!==0)throw Error(ae(327));var o=!n&&(t&124)===0&&(t&e.expiredLanes)===0||j(e,t),g=o?zd(e,t):Js(e,t,!0),_=o;do{if(g===0){ii&&!o&&pr(e,t,0,!1);break}else{if(n=e.current.alternate,_&&!xd(n)){g=Js(e,t,!1),_=!1;continue}if(g===2){if(_=t,e.errorRecoveryDisabledLanes&_)var P=0;else P=e.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){t=P;e:{var J=e;g=Yi;var ce=J.current.memoizedState.isDehydrated;if(ce&&(ui(J,P).flags|=256),P=Js(J,P,!1),P!==2){if(Fs&&!ce){J.errorRecoveryDisabledLanes|=_,kr|=_,g=4;break e}_=un,un=g,_!==null&&(un===null?un=_:un.push.apply(un,_))}g=P}if(_=!1,g!==2)continue}}if(g===1){ui(e,0),pr(e,t,0,!0);break}e:{switch(o=e,_=g,_){case 0:case 1:throw Error(ae(345));case 4:if((t&4194048)!==t)break;case 6:pr(o,t,_n,!ur);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(ae(329))}if((t&62914560)===t&&(g=Ws+300-be(),10<g)){if(pr(o,t,_n,!ur),F(o,0,!0)!==0)break e;o.timeoutHandle=Hf(hf.bind(null,o,n,un,Jo,qs,t,_n,kr,oi,ur,_,2,-0,0),g);break e}hf(o,n,un,Jo,qs,t,_n,kr,oi,ur,_,0,-0,0)}}break}while(!0);kn(e)}function hf(e,t,n,o,g,_,P,J,ce,Se,Ne,Pe,Te,Ce){if(e.timeoutHandle=-1,Pe=t.subtreeFlags,(Pe&8192||(Pe&16785408)===16785408)&&(no={stylesheets:null,count:0,unsuspend:yh},sf(t),Pe=Eh(),Pe!==null)){e.cancelPendingCommit=Pe(bf.bind(null,e,t,_,n,o,g,P,J,ce,Ne,1,Te,Ce)),pr(e,_,P,!Se);return}bf(e,t,_,n,o,g,P,J,ce)}function xd(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var g=n[o],_=g.getSnapshot;g=g.value;try{if(!cn(_(),g))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t,n,o){t&=~Vs,t&=~kr,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var g=t;0<g;){var _=31-Me(g),P=1<<_;o[_]=-1,g&=~P}n!==0&&me(e,n,t)}function $o(){return(_t&6)===0?(Qi(0),!1):!0}function Qs(){if(vt!==null){if(At===0)var e=vt.return;else e=vt,jn=wr=null,ds(e),ei=null,Gi=0,e=vt;for(;e!==null;)Wl(e.alternate,e),e=e.return;vt=null}}function ui(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,th(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qs(),Nt=e,vt=n=Bn(e.current,null),bt=t,At=0,dn=null,ur=!1,ii=j(e,t),Fs=!1,oi=_n=Vs=kr=cr=xt=0,un=Yi=null,qs=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var g=31-Me(o),_=1<<g;t|=e[g],o&=~_}return Xn=t,bo(),n}function gf(e,t){ht=null,R.H=Go,t===Ni||t===Lo?(t=Nc(),At=3):t===wc?(t=Nc(),At=4):At=t===Dl?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dn=t,vt===null&&(xt=1,qo(e,Sn(t,e.current)))}function vf(){var e=R.H;return R.H=Go,e===null?Go:e}function mf(){var e=R.A;return R.A=Ud,e}function Zs(){xt=4,ur||(bt&4194048)!==bt&&Cn.current!==null||(ii=!0),(cr&134217727)===0&&(kr&134217727)===0||Nt===null||pr(Nt,bt,_n,!1)}function Js(e,t,n){var o=_t;_t|=2;var g=vf(),_=mf();(Nt!==e||bt!==t)&&(Jo=null,ui(e,t)),t=!1;var P=xt;e:do try{if(At!==0&&vt!==null){var J=vt,ce=dn;switch(At){case 8:Qs(),P=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var Se=At;if(At=0,dn=null,ci(e,J,ce,Se),n&&ii){P=0;break e}break;default:Se=At,At=0,dn=null,ci(e,J,ce,Se)}}Bd(),P=xt;break}catch(Ne){gf(e,Ne)}while(!0);return t&&e.shellSuspendCounter++,jn=wr=null,_t=o,R.H=g,R.A=_,vt===null&&(Nt=null,bt=0,bo()),P}function Bd(){for(;vt!==null;)yf(vt)}function zd(e,t){var n=_t;_t|=2;var o=vf(),g=mf();Nt!==e||bt!==t?(Jo=null,Zo=be()+500,ui(e,t)):ii=j(e,t);e:do try{if(At!==0&&vt!==null){t=vt;var _=dn;t:switch(At){case 1:At=0,dn=null,ci(e,t,_,1);break;case 2:case 9:if(Oc(_)){At=0,dn=null,Sf(t);break}t=function(){At!==2&&At!==9||Nt!==e||(At=7),kn(e)},_.then(t,t);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Oc(_)?(At=0,dn=null,Sf(t)):(At=0,dn=null,ci(e,t,_,7));break;case 5:var P=null;switch(vt.tag){case 26:P=vt.memoizedState;case 5:case 27:var J=vt;if(!P||ep(P)){At=0,dn=null;var ce=J.sibling;if(ce!==null)vt=ce;else{var Se=J.return;Se!==null?(vt=Se,ea(Se)):vt=null}break t}}At=0,dn=null,ci(e,t,_,5);break;case 6:At=0,dn=null,ci(e,t,_,6);break;case 8:Qs(),xt=6;break e;default:throw Error(ae(462))}}Gd();break}catch(Ne){gf(e,Ne)}while(!0);return jn=wr=null,R.H=o,R.A=g,_t=n,vt!==null?0:(Nt=null,bt=0,bo(),xt)}function Gd(){for(;vt!==null&&!Ie();)yf(vt)}function yf(e){var t=Vl(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?ea(e):vt=t}function Sf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Bl(n,t,t.pendingProps,t.type,void 0,bt);break;case 11:t=Bl(n,t,t.pendingProps,t.type.render,t.ref,bt);break;case 5:ds(t);default:Wl(n,t),t=vt=Sc(t,Xn),t=Vl(n,t,Xn)}e.memoizedProps=e.pendingProps,t===null?ea(e):vt=t}function ci(e,t,n,o){jn=wr=null,ds(t),ei=null,Gi=0;var g=t.return;try{if(Od(e,g,t,n,bt)){xt=1,qo(e,Sn(n,e.current)),vt=null;return}}catch(_){if(g!==null)throw vt=g,_;xt=1,qo(e,Sn(n,e.current)),vt=null;return}t.flags&32768?(Ct||o===1?e=!0:ii||(bt&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ef(t,e)):ea(t)}function ea(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,ur);return}e=t.return;var n=Nd(t.alternate,t,Xn);if(n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);xt===0&&(xt=5)}function Ef(e,t){do{var n=Dd(e.alternate,e);if(n!==null){n.flags&=32767,vt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){vt=e;return}vt=e=n}while(e!==null);xt=6,vt=null}function bf(e,t,n,o,g,_,P,J,ce){e.cancelPendingCommit=null;do ta();while(Jt!==0);if((_t&6)!==0)throw Error(ae(327));if(t!==null){if(t===e.current)throw Error(ae(177));if(_=t.lanes|t.childLanes,_|=Ha,re(e,n,_,P,J,ce),e===Nt&&(vt=Nt=null,bt=0),ai=t,fr=e,si=n,Ks=_,Ys=g,ff=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vd(Ve,function(){return If(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,g=z.p,z.p=2,P=_t,_t|=4;try{Md(e,t,n)}finally{_t=P,z.p=g,R.T=o}}Jt=1,Tf(),Cf(),_f()}}function Tf(){if(Jt===1){Jt=0;var e=fr,t=ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var o=z.p;z.p=2;var g=_t;_t|=4;try{rf(t,e);var _=lu,P=cc(e.containerInfo),J=_.focusedElem,ce=_.selectionRange;if(P!==J&&J&&J.ownerDocument&&uc(J.ownerDocument.documentElement,J)){if(ce!==null&&xa(J)){var Se=ce.start,Ne=ce.end;if(Ne===void 0&&(Ne=Se),"selectionStart"in J)J.selectionStart=Se,J.selectionEnd=Math.min(Ne,J.value.length);else{var Pe=J.ownerDocument||document,Te=Pe&&Pe.defaultView||window;if(Te.getSelection){var Ce=Te.getSelection(),lt=J.textContent.length,ut=Math.min(ce.start,lt),wt=ce.end===void 0?ut:Math.min(ce.end,lt);!Ce.extend&&ut>wt&&(P=wt,wt=ut,ut=P);var ge=sc(J,ut),fe=sc(J,wt);if(ge&&fe&&(Ce.rangeCount!==1||Ce.anchorNode!==ge.node||Ce.anchorOffset!==ge.offset||Ce.focusNode!==fe.node||Ce.focusOffset!==fe.offset)){var ye=Pe.createRange();ye.setStart(ge.node,ge.offset),Ce.removeAllRanges(),ut>wt?(Ce.addRange(ye),Ce.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),Ce.addRange(ye))}}}}for(Pe=[],Ce=J;Ce=Ce.parentNode;)Ce.nodeType===1&&Pe.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Pe.length;J++){var ke=Pe[J];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}da=!!cu,lu=cu=null}finally{_t=g,z.p=o,R.T=n}}e.current=t,Jt=2}}function Cf(){if(Jt===2){Jt=0;var e=fr,t=ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var o=z.p;z.p=2;var g=_t;_t|=4;try{$l(e,t.alternate,t)}finally{_t=g,z.p=o,R.T=n}}Jt=3}}function _f(){if(Jt===4||Jt===3){Jt=0,He();var e=fr,t=ai,n=si,o=ff;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Jt=5:(Jt=0,ai=fr=null,Af(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(lr=null),Ke(n),t=t.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ue,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=R.T,g=z.p,z.p=2,R.T=null;try{for(var _=e.onRecoverableError,P=0;P<o.length;P++){var J=o[P];_(J.value,{componentStack:J.stack})}}finally{R.T=t,z.p=g}}(si&3)!==0&&ta(),kn(e),g=e.pendingLanes,(n&4194090)!==0&&(g&42)!==0?e===Xs?Xi++:(Xi=0,Xs=e):Xi=0,Qi(0)}}function Af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Oi(t)))}function ta(e){return Tf(),Cf(),_f(),If()}function If(){if(Jt!==5)return!1;var e=fr,t=Ks;Ks=0;var n=Ke(si),o=R.T,g=z.p;try{z.p=32>n?32:n,R.T=null,n=Ys,Ys=null;var _=fr,P=si;if(Jt=0,ai=fr=null,si=0,(_t&6)!==0)throw Error(ae(331));var J=_t;if(_t|=4,cf(_.current),af(_,_.current,P,n),_t=J,Qi(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ue,_)}catch{}return!0}finally{z.p=g,R.T=o,Af(e,t)}}function Rf(e,t,n){t=Sn(n,t),t=Rs(e.stateNode,t,2),e=tr(e,t,2),e!==null&&(te(e,2),kn(e))}function Ot(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(lr===null||!lr.has(o))){e=Sn(n,e),n=Ll(2),o=tr(t,n,2),o!==null&&(Nl(n,o,t,e),te(o,2),kn(o));break}}t=t.return}}function $s(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Pd;var g=new Set;o.set(t,g)}else g=o.get(t),g===void 0&&(g=new Set,o.set(t,g));g.has(n)||(Fs=!0,g.add(n),e=jd.bind(null,e,t,n),t.then(e,e))}function jd(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Nt===e&&(bt&n)===n&&(xt===4||xt===3&&(bt&62914560)===bt&&300>be()-Ws?(_t&2)===0&&ui(e,0):Vs|=n,oi===bt&&(oi=0)),kn(e)}function wf(e,t){t===0&&(t=D()),e=Vr(e,t),e!==null&&(te(e,t),kn(e))}function Hd(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wf(e,n)}function Fd(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(ae(314))}o!==null&&o.delete(t),wf(e,n)}function Vd(e,t){return ve(e,t)}var na=null,li=null,eu=!1,ra=!1,tu=!1,Ur=0;function kn(e){e!==li&&e.next===null&&(li===null?na=li=e:li=li.next=e),ra=!0,eu||(eu=!0,Wd())}function Qi(e,t){if(!tu&&ra){tu=!0;do for(var n=!1,o=na;o!==null;){if(e!==0){var g=o.pendingLanes;if(g===0)var _=0;else{var P=o.suspendedLanes,J=o.pingedLanes;_=(1<<31-Me(42|e)+1)-1,_&=g&~(P&~J),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(n=!0,Df(o,_))}else _=bt,_=F(o,o===Nt?_:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(_&3)===0||j(o,_)||(n=!0,Df(o,_));o=o.next}while(n);tu=!1}}function qd(){Of()}function Of(){ra=eu=!1;var e=0;Ur!==0&&(eh()&&(e=Ur),Ur=0);for(var t=be(),n=null,o=na;o!==null;){var g=o.next,_=Lf(o,t);_===0?(o.next=null,n===null?na=g:n.next=g,g===null&&(li=n)):(n=o,(e!==0||(_&3)!==0)&&(ra=!0)),o=g}Qi(e)}function Lf(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,g=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var P=31-Me(_),J=1<<P,ce=g[P];ce===-1?((J&n)===0||(J&o)!==0)&&(g[P]=G(J,t)):ce<=t&&(e.expiredLanes|=J),_&=~J}if(t=Nt,n=bt,n=F(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,n===0||e===t&&(At===2||At===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_e(o),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||j(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(o!==null&&_e(o),Ke(n)){case 2:case 8:n=Be;break;case 32:n=Ve;break;case 268435456:n=ot;break;default:n=Ve}return o=Nf.bind(null,e),n=ve(n,o),e.callbackPriority=t,e.callbackNode=n,t}return o!==null&&o!==null&&_e(o),e.callbackPriority=2,e.callbackNode=null,2}function Nf(e,t){if(Jt!==0&&Jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ta()&&e.callbackNode!==n)return null;var o=bt;return o=F(e,e===Nt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(df(e,o,t),Lf(e,be()),e.callbackNode!=null&&e.callbackNode===n?Nf.bind(null,e):null)}function Df(e,t){if(ta())return null;df(e,t,!0)}function Wd(){nh(function(){(_t&6)!==0?ve(we,qd):Of()})}function nu(){return Ur===0&&(Ur=x()),Ur}function Mf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Kd(e,t,n,o,g){if(t==="submit"&&n&&n.stateNode===g){var _=Mf((g[$e]||null).action),P=o.submitter;P&&(t=(t=P[$e]||null)?Mf(t.formAction):P.getAttribute("formAction"),t!==null&&(_=t,P=null));var J=new yo("action","action",null,o,g);e.push({event:J,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var ce=P?kf(g,P):new FormData(g);Ts(n,{pending:!0,data:ce,method:g.method,action:_},null,ce)}}else typeof _=="function"&&(J.preventDefault(),ce=P?kf(g,P):new FormData(g),Ts(n,{pending:!0,data:ce,method:g.method,action:_},_,ce))},currentTarget:g}]})}}for(var ru=0;ru<ja.length;ru++){var iu=ja[ru],Yd=iu.toLowerCase(),Xd=iu[0].toUpperCase()+iu.slice(1);In(Yd,"on"+Xd)}In(pc,"onAnimationEnd"),In(dc,"onAnimationIteration"),In(hc,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(pd,"onTransitionRun"),In(dd,"onTransitionStart"),In(hd,"onTransitionCancel"),In(gc,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],g=o.event;o=o.listeners;e:{var _=void 0;if(t)for(var P=o.length-1;0<=P;P--){var J=o[P],ce=J.instance,Se=J.currentTarget;if(J=J.listener,ce!==_&&g.isPropagationStopped())break e;_=J,g.currentTarget=Se;try{_(g)}catch(Ne){Vo(Ne)}g.currentTarget=null,_=ce}else for(P=0;P<o.length;P++){if(J=o[P],ce=J.instance,Se=J.currentTarget,J=J.listener,ce!==_&&g.isPropagationStopped())break e;_=J,g.currentTarget=Se;try{_(g)}catch(Ne){Vo(Ne)}g.currentTarget=null,_=ce}}}}function mt(e,t){var n=t[Qe];n===void 0&&(n=t[Qe]=new Set);var o=e+"__bubble";n.has(o)||(Pf(t,e,2,!1),n.add(o))}function ou(e,t,n){var o=0;t&&(o|=4),Pf(n,e,o,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function au(e){if(!e[ia]){e[ia]=!0,rn.forEach(function(n){n!=="selectionchange"&&(Qd.has(n)||ou(n,!1,e),ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,ou("selectionchange",!1,t))}}function Pf(e,t,n,o){switch(ap(t)){case 2:var g=Ch;break;case 8:g=_h;break;default:g=Eu}n=g.bind(null,t,n,e),g=void 0,!wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),o?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function su(e,t,n,o,g){var _=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var P=o.tag;if(P===3||P===4){var J=o.stateNode.containerInfo;if(J===g)break;if(P===4)for(P=o.return;P!==null;){var ce=P.tag;if((ce===3||ce===4)&&P.stateNode.containerInfo===g)return;P=P.return}for(;J!==null;){if(P=Xe(J),P===null)return;if(ce=P.tag,ce===5||ce===6||ce===26||ce===27){o=_=P;continue e}J=J.parentNode}}o=o.return}Hu(function(){var Se=_,Ne=Ia(n),Pe=[];e:{var Te=vc.get(e);if(Te!==void 0){var Ce=yo,lt=e;switch(e){case"keypress":if(vo(n)===0)break e;case"keydown":case"keyup":Ce=Vp;break;case"focusin":lt="focus",Ce=Da;break;case"focusout":lt="blur",Ce=Da;break;case"beforeblur":case"afterblur":Ce=Da;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Kp;break;case pc:case dc:case hc:Ce=Up;break;case gc:Ce=Xp;break;case"scroll":case"scrollend":Ce=Lp;break;case"wheel":Ce=Zp;break;case"copy":case"cut":case"paste":Ce=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Ku;break;case"toggle":case"beforetoggle":Ce=$p}var ut=(t&4)!==0,wt=!ut&&(e==="scroll"||e==="scrollend"),ge=ut?Te!==null?Te+"Capture":null:Te;ut=[];for(var fe=Se,ye;fe!==null;){var ke=fe;if(ye=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ye===null||ge===null||(ke=vi(fe,ge),ke!=null&&ut.push(Ji(fe,ke,ye))),wt)break;fe=fe.return}0<ut.length&&(Te=new Ce(Te,lt,null,n,Ne),Pe.push({event:Te,listeners:ut}))}}if((t&7)===0){e:{if(Te=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",Te&&n!==Aa&&(lt=n.relatedTarget||n.fromElement)&&(Xe(lt)||lt[yt]))break e;if((Ce||Te)&&(Te=Ne.window===Ne?Ne:(Te=Ne.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ce?(lt=n.relatedTarget||n.toElement,Ce=Se,lt=lt?Xe(lt):null,lt!==null&&(wt=ue(lt),ut=lt.tag,lt!==wt||ut!==5&&ut!==27&&ut!==6)&&(lt=null)):(Ce=null,lt=Se),Ce!==lt)){if(ut=qu,ke="onMouseLeave",ge="onMouseEnter",fe="mouse",(e==="pointerout"||e==="pointerover")&&(ut=Ku,ke="onPointerLeave",ge="onPointerEnter",fe="pointer"),wt=Ce==null?Te:Ze(Ce),ye=lt==null?Te:Ze(lt),Te=new ut(ke,fe+"leave",Ce,n,Ne),Te.target=wt,Te.relatedTarget=ye,ke=null,Xe(Ne)===Se&&(ut=new ut(ge,fe+"enter",lt,n,Ne),ut.target=ye,ut.relatedTarget=wt,ke=ut),wt=ke,Ce&&lt)t:{for(ut=Ce,ge=lt,fe=0,ye=ut;ye;ye=fi(ye))fe++;for(ye=0,ke=ge;ke;ke=fi(ke))ye++;for(;0<fe-ye;)ut=fi(ut),fe--;for(;0<ye-fe;)ge=fi(ge),ye--;for(;fe--;){if(ut===ge||ge!==null&&ut===ge.alternate)break t;ut=fi(ut),ge=fi(ge)}ut=null}else ut=null;Ce!==null&&xf(Pe,Te,Ce,ut,!1),lt!==null&&wt!==null&&xf(Pe,wt,lt,ut,!0)}}e:{if(Te=Se?Ze(Se):window,Ce=Te.nodeName&&Te.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Te.type==="file")var nt=tc;else if($u(Te))if(nc)nt=cd;else{nt=sd;var gt=ad}else Ce=Te.nodeName,!Ce||Ce.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Se&&_a(Se.elementType)&&(nt=tc):nt=ud;if(nt&&(nt=nt(e,Se))){ec(Pe,nt,n,Ne);break e}gt&&gt(e,Te,Se),e==="focusout"&&Se&&Te.type==="number"&&Se.memoizedProps.value!=null&&Ca(Te,"number",Te.value)}switch(gt=Se?Ze(Se):window,e){case"focusin":($u(gt)||gt.contentEditable==="true")&&(jr=gt,Ba=Se,_i=null);break;case"focusout":_i=Ba=jr=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,lc(Pe,n,Ne);break;case"selectionchange":if(fd)break;case"keydown":case"keyup":lc(Pe,n,Ne)}var it;if(ka)e:{switch(e){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Gr?Zu(e,n)&&(ct="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ct="onCompositionStart");ct&&(Yu&&n.locale!=="ko"&&(Gr||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Gr&&(it=Fu()):(Zn=Ne,Oa="value"in Zn?Zn.value:Zn.textContent,Gr=!0)),gt=oa(Se,ct),0<gt.length&&(ct=new Wu(ct,e,null,n,Ne),Pe.push({event:ct,listeners:gt}),it?ct.data=it:(it=Ju(n),it!==null&&(ct.data=it)))),(it=td?nd(e,n):rd(e,n))&&(ct=oa(Se,"onBeforeInput"),0<ct.length&&(gt=new Wu("onBeforeInput","beforeinput",null,n,Ne),Pe.push({event:gt,listeners:ct}),gt.data=it)),Kd(Pe,e,Se,n,Ne)}Uf(Pe,t)})}function Ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function oa(e,t){for(var n=t+"Capture",o=[];e!==null;){var g=e,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=vi(e,n),g!=null&&o.unshift(Ji(e,g,_)),g=vi(e,t),g!=null&&o.push(Ji(e,g,_))),e.tag===3)return o;e=e.return}return[]}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xf(e,t,n,o,g){for(var _=t._reactName,P=[];n!==null&&n!==o;){var J=n,ce=J.alternate,Se=J.stateNode;if(J=J.tag,ce!==null&&ce===o)break;J!==5&&J!==26&&J!==27||Se===null||(ce=Se,g?(Se=vi(n,_),Se!=null&&P.unshift(Ji(n,Se,ce))):g||(Se=vi(n,_),Se!=null&&P.push(Ji(n,Se,ce)))),n=n.return}P.length!==0&&e.push({event:t,listeners:P})}var Zd=/\r\n?/g,Jd=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(Zd,`
`).replace(Jd,"")}function zf(e,t){return t=Bf(t),Bf(e)===t}function aa(){}function Rt(e,t,n,o,g,_){switch(n){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||xr(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&xr(e,""+o);break;case"className":at(e,"class",o);break;case"tabIndex":at(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":at(e,n,o);break;case"style":Gu(e,o,_);break;case"data":if(t!=="object"){at(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=ho(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(n==="formAction"?(t!=="input"&&Rt(e,t,"name",g.name,g,null),Rt(e,t,"formEncType",g.formEncType,g,null),Rt(e,t,"formMethod",g.formMethod,g,null),Rt(e,t,"formTarget",g.formTarget,g,null)):(Rt(e,t,"encType",g.encType,g,null),Rt(e,t,"method",g.method,g,null),Rt(e,t,"target",g.target,g,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=ho(""+o),e.setAttribute(n,o);break;case"onClick":o!=null&&(e.onclick=aa);break;case"onScroll":o!=null&&mt("scroll",e);break;case"onScrollEnd":o!=null&&mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(ae(61));if(n=o.__html,n!=null){if(g.children!=null)throw Error(ae(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":o===!0?e.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":mt("beforetoggle",e),mt("toggle",e),Sr(e,"popover",o);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=wp.get(n)||n,Sr(e,n,o))}}function uu(e,t,n,o,g,_){switch(n){case"style":Gu(e,o,_);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(ae(61));if(n=o.__html,n!=null){if(g.children!=null)throw Error(ae(60));e.innerHTML=n}}break;case"children":typeof o=="string"?xr(e,o):(typeof o=="number"||typeof o=="bigint")&&xr(e,""+o);break;case"onScroll":o!=null&&mt("scroll",e);break;case"onScrollEnd":o!=null&&mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Un.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(g=n.endsWith("Capture"),t=n.slice(2,g?n.length-7:void 0),_=e[$e]||null,_=_!=null?_[n]:null,typeof _=="function"&&e.removeEventListener(t,_,g),typeof o=="function")){typeof _!="function"&&_!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,g);break e}n in e?e[n]=o:o===!0?e.setAttribute(n,""):Sr(e,n,o)}}}function $t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",e),mt("load",e);var o=!1,g=!1,_;for(_ in n)if(n.hasOwnProperty(_)){var P=n[_];if(P!=null)switch(_){case"src":o=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,t));default:Rt(e,t,_,P,n,null)}}g&&Rt(e,t,"srcSet",n.srcSet,n,null),o&&Rt(e,t,"src",n.src,n,null);return;case"input":mt("invalid",e);var J=_=P=g=null,ce=null,Se=null;for(o in n)if(n.hasOwnProperty(o)){var Ne=n[o];if(Ne!=null)switch(o){case"name":g=Ne;break;case"type":P=Ne;break;case"checked":ce=Ne;break;case"defaultChecked":Se=Ne;break;case"value":_=Ne;break;case"defaultValue":J=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(ae(137,t));break;default:Rt(e,t,o,Ne,n,null)}}Pu(e,_,J,ce,Se,P,g,!1),fo(e);return;case"select":mt("invalid",e),o=P=_=null;for(g in n)if(n.hasOwnProperty(g)&&(J=n[g],J!=null))switch(g){case"value":_=J;break;case"defaultValue":P=J;break;case"multiple":o=J;default:Rt(e,t,g,J,n,null)}t=_,n=P,e.multiple=!!o,t!=null?Pr(e,!!o,t,!1):n!=null&&Pr(e,!!o,n,!0);return;case"textarea":mt("invalid",e),_=g=o=null;for(P in n)if(n.hasOwnProperty(P)&&(J=n[P],J!=null))switch(P){case"value":o=J;break;case"defaultValue":g=J;break;case"children":_=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(ae(91));break;default:Rt(e,t,P,J,n,null)}Bu(e,o,g,_),fo(e);return;case"option":for(ce in n)if(n.hasOwnProperty(ce)&&(o=n[ce],o!=null))switch(ce){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Rt(e,t,ce,o,n,null)}return;case"dialog":mt("beforetoggle",e),mt("toggle",e),mt("cancel",e),mt("close",e);break;case"iframe":case"object":mt("load",e);break;case"video":case"audio":for(o=0;o<Zi.length;o++)mt(Zi[o],e);break;case"image":mt("error",e),mt("load",e);break;case"details":mt("toggle",e);break;case"embed":case"source":case"link":mt("error",e),mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in n)if(n.hasOwnProperty(Se)&&(o=n[Se],o!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(ae(137,t));default:Rt(e,t,Se,o,n,null)}return;default:if(_a(t)){for(Ne in n)n.hasOwnProperty(Ne)&&(o=n[Ne],o!==void 0&&uu(e,t,Ne,o,n,void 0));return}}for(J in n)n.hasOwnProperty(J)&&(o=n[J],o!=null&&Rt(e,t,J,o,n,null))}function $d(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,P=null,J=null,ce=null,Se=null,Ne=null;for(Ce in n){var Pe=n[Ce];if(n.hasOwnProperty(Ce)&&Pe!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":ce=Pe;default:o.hasOwnProperty(Ce)||Rt(e,t,Ce,null,o,Pe)}}for(var Te in o){var Ce=o[Te];if(Pe=n[Te],o.hasOwnProperty(Te)&&(Ce!=null||Pe!=null))switch(Te){case"type":_=Ce;break;case"name":g=Ce;break;case"checked":Se=Ce;break;case"defaultChecked":Ne=Ce;break;case"value":P=Ce;break;case"defaultValue":J=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(ae(137,t));break;default:Ce!==Pe&&Rt(e,t,Te,Ce,o,Pe)}}Ta(e,P,J,ce,Se,Ne,_,g);return;case"select":Ce=P=J=Te=null;for(_ in n)if(ce=n[_],n.hasOwnProperty(_)&&ce!=null)switch(_){case"value":break;case"multiple":Ce=ce;default:o.hasOwnProperty(_)||Rt(e,t,_,null,o,ce)}for(g in o)if(_=o[g],ce=n[g],o.hasOwnProperty(g)&&(_!=null||ce!=null))switch(g){case"value":Te=_;break;case"defaultValue":J=_;break;case"multiple":P=_;default:_!==ce&&Rt(e,t,g,_,o,ce)}t=J,n=P,o=Ce,Te!=null?Pr(e,!!n,Te,!1):!!o!=!!n&&(t!=null?Pr(e,!!n,t,!0):Pr(e,!!n,n?[]:"",!1));return;case"textarea":Ce=Te=null;for(J in n)if(g=n[J],n.hasOwnProperty(J)&&g!=null&&!o.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Rt(e,t,J,null,o,g)}for(P in o)if(g=o[P],_=n[P],o.hasOwnProperty(P)&&(g!=null||_!=null))switch(P){case"value":Te=g;break;case"defaultValue":Ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(ae(91));break;default:g!==_&&Rt(e,t,P,g,o,_)}xu(e,Te,Ce);return;case"option":for(var lt in n)if(Te=n[lt],n.hasOwnProperty(lt)&&Te!=null&&!o.hasOwnProperty(lt))switch(lt){case"selected":e.selected=!1;break;default:Rt(e,t,lt,null,o,Te)}for(ce in o)if(Te=o[ce],Ce=n[ce],o.hasOwnProperty(ce)&&Te!==Ce&&(Te!=null||Ce!=null))switch(ce){case"selected":e.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Rt(e,t,ce,Te,o,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in n)Te=n[ut],n.hasOwnProperty(ut)&&Te!=null&&!o.hasOwnProperty(ut)&&Rt(e,t,ut,null,o,Te);for(Se in o)if(Te=o[Se],Ce=n[Se],o.hasOwnProperty(Se)&&Te!==Ce&&(Te!=null||Ce!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(ae(137,t));break;default:Rt(e,t,Se,Te,o,Ce)}return;default:if(_a(t)){for(var wt in n)Te=n[wt],n.hasOwnProperty(wt)&&Te!==void 0&&!o.hasOwnProperty(wt)&&uu(e,t,wt,void 0,o,Te);for(Ne in o)Te=o[Ne],Ce=n[Ne],!o.hasOwnProperty(Ne)||Te===Ce||Te===void 0&&Ce===void 0||uu(e,t,Ne,Te,o,Ce);return}}for(var ge in n)Te=n[ge],n.hasOwnProperty(ge)&&Te!=null&&!o.hasOwnProperty(ge)&&Rt(e,t,ge,null,o,Te);for(Pe in o)Te=o[Pe],Ce=n[Pe],!o.hasOwnProperty(Pe)||Te===Ce||Te==null&&Ce==null||Rt(e,t,Pe,Te,o,Ce)}var cu=null,lu=null;function sa(e){return e.nodeType===9?e:e.ownerDocument}function Gf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=null;function eh(){var e=window.event;return e&&e.type==="popstate"?e===pu?!1:(pu=e,!0):(pu=null,!1)}var Hf=typeof setTimeout=="function"?setTimeout:void 0,th=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,nh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(rh)}:Hf;function rh(e){setTimeout(function(){throw e})}function dr(e){return e==="head"}function Vf(e,t){var n=t,o=0,g=0;do{var _=n.nextSibling;if(e.removeChild(n),_&&_.nodeType===8)if(n=_.data,n==="/$"){if(0<o&&8>o){n=o;var P=e.ownerDocument;if(n&1&&$i(P.documentElement),n&2&&$i(P.body),n&4)for(n=P.head,$i(n),P=n.firstChild;P;){var J=P.nextSibling,ce=P.nodeName;P[kt]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&P.rel.toLowerCase()==="stylesheet"||n.removeChild(P),P=J}}if(g===0){e.removeChild(_),so(t);return}g--}else n==="$"||n==="$?"||n==="$!"?g++:o=n.charCodeAt(0)-48;else o=0;n=_}while(n);so(t)}function du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":du(n),Et(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ih(e,t,n,o){for(;e.nodeType===1;){var g=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[kt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=wn(e.nextSibling),e===null)break}return null}function oh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wn(e.nextSibling),e===null))return null;return e}function hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ah(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var gu=null;function qf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Wf(e,t,n){switch(t=sa(n),e){case"html":if(e=t.documentElement,!e)throw Error(ae(452));return e;case"head":if(e=t.head,!e)throw Error(ae(453));return e;case"body":if(e=t.body,!e)throw Error(ae(454));return e;default:throw Error(ae(451))}}function $i(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Et(e)}var An=new Map,Kf=new Set;function ua(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=z.d;z.d={f:sh,r:uh,D:ch,C:lh,L:fh,m:ph,X:hh,S:dh,M:gh};function sh(){var e=Qn.f(),t=$o();return e||t}function uh(e){var t=We(e);t!==null&&t.tag===5&&t.type==="form"?pl(t):Qn.r(e)}var pi=typeof document>"u"?null:document;function Yf(e,t,n){var o=pi;if(o&&typeof t=="string"&&t){var g=yn(t);g='link[rel="'+e+'"][href="'+g+'"]',typeof n=="string"&&(g+='[crossorigin="'+n+'"]'),Kf.has(g)||(Kf.add(g),e={rel:e,crossOrigin:n,href:t},o.querySelector(g)===null&&(t=o.createElement("link"),$t(t,"link",e),St(t),o.head.appendChild(t)))}}function ch(e){Qn.D(e),Yf("dns-prefetch",e,null)}function lh(e,t){Qn.C(e,t),Yf("preconnect",e,t)}function fh(e,t,n){Qn.L(e,t,n);var o=pi;if(o&&e&&t){var g='link[rel="preload"][as="'+yn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(g+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(g+='[imagesizes="'+yn(n.imageSizes)+'"]')):g+='[href="'+yn(e)+'"]';var _=g;switch(t){case"style":_=di(e);break;case"script":_=hi(e)}An.has(_)||(e=u({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(_,e),o.querySelector(g)!==null||t==="style"&&o.querySelector(eo(_))||t==="script"&&o.querySelector(to(_))||(t=o.createElement("link"),$t(t,"link",e),St(t),o.head.appendChild(t)))}}function ph(e,t){Qn.m(e,t);var n=pi;if(n&&e){var o=t&&typeof t.as=="string"?t.as:"script",g='link[rel="modulepreload"][as="'+yn(o)+'"][href="'+yn(e)+'"]',_=g;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hi(e)}if(!An.has(_)&&(e=u({rel:"modulepreload",href:e},t),An.set(_,e),n.querySelector(g)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(to(_)))return}o=n.createElement("link"),$t(o,"link",e),St(o),n.head.appendChild(o)}}}function dh(e,t,n){Qn.S(e,t,n);var o=pi;if(o&&e){var g=st(o).hoistableStyles,_=di(e);t=t||"default";var P=g.get(_);if(!P){var J={loading:0,preload:null};if(P=o.querySelector(eo(_)))J.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(_))&&vu(e,n);var ce=P=o.createElement("link");St(ce),$t(ce,"link",e),ce._p=new Promise(function(Se,Ne){ce.onload=Se,ce.onerror=Ne}),ce.addEventListener("load",function(){J.loading|=1}),ce.addEventListener("error",function(){J.loading|=2}),J.loading|=4,ca(P,t,o)}P={type:"stylesheet",instance:P,count:1,state:J},g.set(_,P)}}}function hh(e,t){Qn.X(e,t);var n=pi;if(n&&e){var o=st(n).hoistableScripts,g=hi(e),_=o.get(g);_||(_=n.querySelector(to(g)),_||(e=u({src:e,async:!0},t),(t=An.get(g))&&mu(e,t),_=n.createElement("script"),St(_),$t(_,"link",e),n.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},o.set(g,_))}}function gh(e,t){Qn.M(e,t);var n=pi;if(n&&e){var o=st(n).hoistableScripts,g=hi(e),_=o.get(g);_||(_=n.querySelector(to(g)),_||(e=u({src:e,async:!0,type:"module"},t),(t=An.get(g))&&mu(e,t),_=n.createElement("script"),St(_),$t(_,"link",e),n.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},o.set(g,_))}}function Xf(e,t,n,o){var g=(g=B.current)?ua(g):null;if(!g)throw Error(ae(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=di(n.href),n=st(g).hoistableStyles,o=n.get(t),o||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=di(n.href);var _=st(g).hoistableStyles,P=_.get(e);if(P||(g=g.ownerDocument||g,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,P),(_=g.querySelector(eo(e)))&&!_._p&&(P.instance=_,P.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),_||vh(g,e,n,P.state))),t&&o===null)throw Error(ae(528,""));return P}if(t&&o!==null)throw Error(ae(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hi(n),n=st(g).hoistableScripts,o=n.get(t),o||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(ae(444,e))}}function di(e){return'href="'+yn(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Qf(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function vh(e,t,n,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),$t(t,"link",n),St(t),e.head.appendChild(t))}function hi(e){return'[src="'+yn(e)+'"]'}function to(e){return"script[async]"+e}function Zf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+yn(n.href)+'"]');if(o)return t.instance=o,St(o),o;var g=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),St(o),$t(o,"style",g),ca(o,n.precedence,e),t.instance=o;case"stylesheet":g=di(n.href);var _=e.querySelector(eo(g));if(_)return t.state.loading|=4,t.instance=_,St(_),_;o=Qf(n),(g=An.get(g))&&vu(o,g),_=(e.ownerDocument||e).createElement("link"),St(_);var P=_;return P._p=new Promise(function(J,ce){P.onload=J,P.onerror=ce}),$t(_,"link",o),t.state.loading|=4,ca(_,n.precedence,e),t.instance=_;case"script":return _=hi(n.src),(g=e.querySelector(to(_)))?(t.instance=g,St(g),g):(o=n,(g=An.get(_))&&(o=u({},n),mu(o,g)),e=e.ownerDocument||e,g=e.createElement("script"),St(g),$t(g,"link",o),e.head.appendChild(g),t.instance=g);case"void":return null;default:throw Error(ae(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,ca(o,n.precedence,e));return t.instance}function ca(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=o.length?o[o.length-1]:null,_=g,P=0;P<o.length;P++){var J=o[P];if(J.dataset.precedence===t)_=J;else if(_!==g)break}_?_.parentNode.insertBefore(e,_.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var la=null;function Jf(e,t,n){if(la===null){var o=new Map,g=la=new Map;g.set(n,o)}else g=la,o=g.get(n),o||(o=new Map,g.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),g=0;g<n.length;g++){var _=n[g];if(!(_[kt]||_[tt]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(t)||"";P=e+P;var J=o.get(P);J?J.push(_):o.set(P,[_])}}return o}function $f(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function mh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var no=null;function yh(){}function Sh(e,t,n){if(no===null)throw Error(ae(475));var o=no;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var g=di(n.href),_=e.querySelector(eo(g));if(_){e=_._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=fa.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=_,St(_);return}_=e.ownerDocument||e,n=Qf(n),(g=An.get(g))&&vu(n,g),_=_.createElement("link"),St(_);var P=_;P._p=new Promise(function(J,ce){P.onload=J,P.onerror=ce}),$t(_,"link",n),t.instance=_}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(o.count++,t=fa.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}function Eh(){if(no===null)throw Error(ae(475));var e=no;return e.stylesheets&&e.count===0&&yu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&yu(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function fa(){if(this.count--,this.count===0){if(this.stylesheets)yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pa=null;function yu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pa=new Map,t.forEach(bh,e),pa=null,fa.call(e))}function bh(e,t){if(!(t.state.loading&4)){var n=pa.get(e);if(n)var o=n.get(null);else{n=new Map,pa.set(e,n);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var P=g[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(n.set(P.dataset.precedence,P),o=P)}o&&n.set(null,o)}g=t.instance,P=g.getAttribute("data-precedence"),_=n.get(P)||o,_===o&&n.set(null,g),n.set(P,g),this.count++,o=fa.bind(this),g.addEventListener("load",o),g.addEventListener("error",o),_?_.parentNode.insertBefore(g,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),t.state.loading|=4}}var ro={$$typeof:c,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Th(e,t,n,o,g,_,P,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H(0),this.hiddenUpdates=H(null),this.identifierPrefix=o,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function tp(e,t,n,o,g,_,P,J,ce,Se,Ne,Pe){return e=new Th(e,t,n,P,J,ce,Se,Pe),t=1,_===!0&&(t|=24),_=ln(3,null,null,t),e.current=_,_.stateNode=e,t=$a(),t.refCount++,e.pooledCache=t,t.refCount++,_.memoizedState={element:o,isDehydrated:n,cache:t},rs(_),e}function np(e){return e?(e=qr,e):qr}function rp(e,t,n,o,g,_){g=np(g),o.context===null?o.context=g:o.pendingContext=g,o=er(t),o.payload={element:n},_=_===void 0?null:_,_!==null&&(o.callback=_),n=tr(e,o,t),n!==null&&(gn(n,e,t),Mi(n,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Su(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function op(e){if(e.tag===13){var t=Vr(e,67108864);t!==null&&gn(t,e,67108864),Su(e,67108864)}}var da=!0;function Ch(e,t,n,o){var g=R.T;R.T=null;var _=z.p;try{z.p=2,Eu(e,t,n,o)}finally{z.p=_,R.T=g}}function _h(e,t,n,o){var g=R.T;R.T=null;var _=z.p;try{z.p=8,Eu(e,t,n,o)}finally{z.p=_,R.T=g}}function Eu(e,t,n,o){if(da){var g=bu(o);if(g===null)su(e,t,o,ha,n),sp(e,o);else if(Ih(g,e,t,n,o))o.stopPropagation();else if(sp(e,o),t&4&&-1<Ah.indexOf(e)){for(;g!==null;){var _=We(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=pe(_.pendingLanes);if(P!==0){var J=_;for(J.pendingLanes|=2,J.entangledLanes|=2;P;){var ce=1<<31-Me(P);J.entanglements[1]|=ce,P&=~ce}kn(_),(_t&6)===0&&(Zo=be()+500,Qi(0))}}break;case 13:J=Vr(_,2),J!==null&&gn(J,_,2),$o(),Su(_,2)}if(_=bu(o),_===null&&su(e,t,o,ha,n),_===g)break;g=_}g!==null&&o.stopPropagation()}else su(e,t,o,null,n)}}function bu(e){return e=Ia(e),Tu(e)}var ha=null;function Tu(e){if(ha=null,e=Xe(e),e!==null){var t=ue(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Oe(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ha=e,null}function ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case we:return 2;case Be:return 8;case Ve:case Ge:return 32;case ot:return 268435456;default:return 32}default:return 32}}var Cu=!1,hr=null,gr=null,vr=null,io=new Map,oo=new Map,mr=[],Ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sp(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function ao(e,t,n,o,g,_){return e===null||e.nativeEvent!==_?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:_,targetContainers:[g]},t!==null&&(t=We(t),t!==null&&op(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Ih(e,t,n,o,g){switch(t){case"focusin":return hr=ao(hr,e,t,n,o,g),!0;case"dragenter":return gr=ao(gr,e,t,n,o,g),!0;case"mouseover":return vr=ao(vr,e,t,n,o,g),!0;case"pointerover":var _=g.pointerId;return io.set(_,ao(io.get(_)||null,e,t,n,o,g)),!0;case"gotpointercapture":return _=g.pointerId,oo.set(_,ao(oo.get(_)||null,e,t,n,o,g)),!0}return!1}function up(e){var t=Xe(e.target);if(t!==null){var n=ue(t);if(n!==null){if(t=n.tag,t===13){if(t=Oe(n),t!==null){e.blockedOn=t,Le(e.priority,function(){if(n.tag===13){var o=hn();o=je(o);var g=Vr(n,o);g!==null&&gn(g,n,o),Su(n,o)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bu(e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Aa=o,n.target.dispatchEvent(o),Aa=null}else return t=We(n),t!==null&&op(t),e.blockedOn=n,!1;t.shift()}return!0}function cp(e,t,n){ga(e)&&n.delete(t)}function Rh(){Cu=!1,hr!==null&&ga(hr)&&(hr=null),gr!==null&&ga(gr)&&(gr=null),vr!==null&&ga(vr)&&(vr=null),io.forEach(cp),oo.forEach(cp)}function va(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Rh)))}var ma=null;function lp(e){ma!==e&&(ma=e,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,function(){ma===e&&(ma=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],g=e[t+2];if(typeof o!="function"){if(Tu(o||n)===null)continue;break}var _=We(n);_!==null&&(e.splice(t,3),t-=3,Ts(_,{pending:!0,data:g,method:n.method,action:o},o,g))}}))}function so(e){function t(ce){return va(ce,e)}hr!==null&&va(hr,e),gr!==null&&va(gr,e),vr!==null&&va(vr,e),io.forEach(t),oo.forEach(t);for(var n=0;n<mr.length;n++){var o=mr[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)up(n),n.blockedOn===null&&mr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var g=n[o],_=n[o+1],P=g[$e]||null;if(typeof _=="function")P||lp(n);else if(P){var J=null;if(_&&_.hasAttribute("formAction")){if(g=_,P=_[$e]||null)J=P.formAction;else if(Tu(g)!==null)continue}else J=P.action;typeof J=="function"?n[o+1]=J:(n.splice(o,3),o-=3),lp(n)}}}function _u(e){this._internalRoot=e}ya.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));var n=t.current,o=hn();rp(n,o,e,t,null,null)},ya.prototype.unmount=_u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),$o(),t[yt]=null}};function ya(e){this._internalRoot=e}ya.prototype.unstable_scheduleHydration=function(e){if(e){var t=xe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mr.length&&t!==0&&t<mr[n].priority;n++);mr.splice(n,0,e),n===0&&up(e)}};var fp=Lt.version;if(fp!=="19.1.0")throw Error(ae(527,fp,"19.1.0"));z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=N(t),e=e!==null?L(e):null,e=e===null?null:e.stateNode,e};var wh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{Ue=Sa.inject(wh),qe=Sa}catch{}}return co.createRoot=function(e,t){if(!ie(e))throw Error(ae(299));var n=!1,o="",g=Il,_=Rl,P=wl,J=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(g=t.onUncaughtError),t.onCaughtError!==void 0&&(_=t.onCaughtError),t.onRecoverableError!==void 0&&(P=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(J=t.unstable_transitionCallbacks)),t=tp(e,1,!1,null,null,n,o,g,_,P,J,null),e[yt]=t.current,au(e),new _u(t)},co.hydrateRoot=function(e,t,n){if(!ie(e))throw Error(ae(299));var o=!1,g="",_=Il,P=Rl,J=wl,ce=null,Se=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(g=n.identifierPrefix),n.onUncaughtError!==void 0&&(_=n.onUncaughtError),n.onCaughtError!==void 0&&(P=n.onCaughtError),n.onRecoverableError!==void 0&&(J=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(ce=n.unstable_transitionCallbacks),n.formState!==void 0&&(Se=n.formState)),t=tp(e,1,!0,t,n??null,o,g,_,P,J,ce,Se),t.context=np(null),n=t.current,o=hn(),o=je(o),g=er(o),g.callback=null,tr(n,g,o),n=o,t.current.lanes=n,te(t,n),kn(t),e[yt]=t.current,au(e),new ya(t)},co.version="19.1.0",co}var bp;function Bh(){if(bp)return Ru.exports;bp=1;function Je(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Je)}catch(Lt){console.error(Lt)}}return Je(),Ru.exports=xh(),Ru.exports}var zh=Bh();function Gh(Je){throw new Error('Could not dynamically require "'+Je+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tp={},Cp;function jh(){return Cp||(Cp=1,function(){(()=>{var Je={781:(ae,ie,ue)=>{ue.r(ie),ue.d(ie,{AmazonConnectStreamsSite:()=>Z});let Oe;function he(V){if(Oe)throw new Error("Global Provider is already set");Oe=V}function N(V){if(!Oe)throw new Error(V??"Attempted to get Global AmazonConnectProvider that has not been set.");return Oe}function L(V){const M=new Uint8Array(Math.ceil(V/2));return crypto.getRandomValues(M),Array.from(M,B=>B.toString(16).padStart(2,"0")).join("").substring(0,V)}function u(){return"randomUUID"in crypto?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,V=>{const M=parseInt(V);return(M^crypto.getRandomValues(new Uint8Array(1))[0]&15>>M/4).toString(16)})}function E(){var V,M,B,Y;return{origin:(M=(V=document==null?void 0:document.location)===null||V===void 0?void 0:V.origin)!==null&&M!==void 0?M:"unknown",path:(Y=(B=document==null?void 0:document.location)===null||B===void 0?void 0:B.pathname)!==null&&Y!==void 0?Y:"unknown"}}class C{constructor(){this.idsByHandler=new Map,this.handlersById=new Map}add(M){const B=this.idsByHandler.get(M);if(B)return{handlerId:B};const Y=u();return this.idsByHandler.set(M,Y),this.handlersById.set(Y,M),{handlerId:Y}}getIdByHandler(M){var B;return(B=this.idsByHandler.get(M))!==null&&B!==void 0?B:null}getHandlerById(M){var B;return(B=this.handlersById.get(M))!==null&&B!==void 0?B:null}get(){return[...this.idsByHandler.entries()].map(([M,B])=>({handler:M,handlerId:B}))}delete(M){const B=this.idsByHandler.get(M);return B&&this.handlersById.delete(B),this.idsByHandler.delete(M),{isEmpty:this.idsByHandler.size<1}}size(){return this.idsByHandler.size}}class v{constructor(){this.simpleSubscriptions=new Map,this.paramSubscriptions=new Map}add({namespace:M,key:B,parameter:Y},K){var q,X,se,le,ve;if(Y){if(!this.paramSubscriptions.has(M)){this.paramSubscriptions.set(M,new Map([[B,new Map([[Y,K]])]]));return}if(!(!((q=this.paramSubscriptions.get(M))===null||q===void 0)&&q.has(B))){(X=this.paramSubscriptions.get(M))===null||X===void 0||X.set(B,new Map([[Y,K]]));return}(le=(se=this.paramSubscriptions.get(M))===null||se===void 0?void 0:se.get(B))===null||le===void 0||le.set(Y,K)}else if(this.simpleSubscriptions.has(M))(ve=this.simpleSubscriptions.get(M))===null||ve===void 0||ve.set(B,K);else{this.simpleSubscriptions.set(M,new Map([[B,K]]));return}}delete({namespace:M,key:B,parameter:Y}){var K,q,X,se;Y?!((q=(K=this.paramSubscriptions.get(M))===null||K===void 0?void 0:K.get(B))===null||q===void 0)&&q.delete(Y)&&this.paramSubscriptions.get(M).get(B).size<1&&((X=this.paramSubscriptions.get(M))===null||X===void 0||X.delete(B),this.paramSubscriptions.get(M).size<1&&this.paramSubscriptions.delete(M)):!((se=this.simpleSubscriptions.get(M))===null||se===void 0)&&se.delete(B)&&this.simpleSubscriptions.get(M).size<1&&this.simpleSubscriptions.delete(M)}get({namespace:M,key:B,parameter:Y}){var K,q,X;return Y?(X=(q=this.paramSubscriptions.get(M))===null||q===void 0?void 0:q.get(B))===null||X===void 0?void 0:X.get(Y):(K=this.simpleSubscriptions.get(M))===null||K===void 0?void 0:K.get(B)}getOrAdd(M,B){let Y=this.get(M);return Y||(Y=B(),this.add(M,Y)),Y}addOrUpdate(M,B,Y){let K=this.get(M);return K?K=Y(K):K=B(),this.add(M,K),K}getAllSubscriptions(){const M=Array.from(this.simpleSubscriptions.keys()).flatMap(Y=>Array.from(this.simpleSubscriptions.get(Y).keys()).flatMap(K=>({namespace:Y,key:K}))),B=Array.from(this.paramSubscriptions.keys()).flatMap(Y=>Array.from(this.paramSubscriptions.get(Y).keys()).flatMap(K=>Array.from(this.paramSubscriptions.get(Y).get(K).keys()).flatMap(q=>({namespace:Y,key:K,parameter:q}))));return[...M,...B]}}class m{constructor(){this.subscriptions=new v}add(M,B){return this.subscriptions.getOrAdd(M,()=>new C).add(B)}get(M){var B,Y;return(Y=(B=this.subscriptions.get(M))===null||B===void 0?void 0:B.get())!==null&&Y!==void 0?Y:[]}getById(M,B){var Y,K;return(K=(Y=this.subscriptions.get(M))===null||Y===void 0?void 0:Y.getHandlerById(B))!==null&&K!==void 0?K:null}delete(M,B){var Y,K;(K=(Y=this.subscriptions.get(M))===null||Y===void 0?void 0:Y.delete(B).isEmpty)!==null&&K!==void 0&&K&&this.subscriptions.delete(M)}size(M){var B,Y;return(Y=(B=this.subscriptions.get(M))===null||B===void 0?void 0:B.size())!==null&&Y!==void 0?Y:0}isEmpty(M){return this.size(M)===0}getAllSubscriptions(){return this.subscriptions.getAllSubscriptions()}getAllSubscriptionHandlerIds(){return this.subscriptions.getAllSubscriptions().reduce((M,B)=>M.concat(this.get(B).map(({handlerId:Y})=>({topic:B,handlerId:Y}))),[])}}function f({metricData:V,time:M,namespace:B},Y){var K,q;return{type:"metric",namespace:B,metricName:V.metricName,unit:V.unit,value:V.value,time:M,dimensions:(K=V.dimensions)!==null&&K!==void 0?K:{},optionalDimensions:(q=V.optionalDimensions)!==null&&q!==void 0?q:{},messageOrigin:Y}}class a extends Error{constructor({reason:M,namespace:B,errorKey:Y,details:K}){super(`ConnectError with error key "${Y}"`),this.errorType=a.ErrorType,this.namespace=B,this.errorKey=Y,this.reason=M,this.details=K??{}}}a.ErrorType="ConnectError";const d="clientTimeout";function p(V,M){const{namespace:B,command:Y,data:K}=V;return{namespace:B,reason:"Client Timeout",details:{command:Y,requestData:K,timeoutMs:M},errorKey:d}}const c=30*1e3;function l(V,M,B,Y){const K=Math.max(1,c);return new Promise((q,X)=>{let se=!1;const le=setTimeout(()=>{B({timeoutMs:K,request:V}),X(p(V,K)),se=!0},K);M(_e=>{clearTimeout(le),se||(_e.isError?X(new a(_e)):q(_e.data))})})}class s{constructor(M){this.requestMap=new Map,this.logger=new oe({provider:M,source:"core.requestManager"})}processRequest(M){const{requestId:B}=M;return l(M,Y=>this.requestMap.set(B,Y),({request:Y,timeoutMs:K})=>this.handleTimeout(Y,K))}processResponse(M){const{requestId:B}=M,Y=this.requestMap.get(B);if(!Y){this.logger.error("Returned a response message with no handler",{message:M});return}Y(M),this.requestMap.delete(B)}handleTimeout(M,B){const{requestId:Y,namespace:K,command:q}=M;this.requestMap.delete(Y),this.logger.error("Client request timeout",{requestId:Y,namespace:K,command:q,timeoutMs:B})}}function i(V,M,B,Y){const K=u();return{type:"request",namespace:V,command:M,requestId:K,data:B,messageOrigin:Y}}var T=function(V,M){var B={};for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&M.indexOf(Y)<0&&(B[Y]=V[Y]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,Y=Object.getOwnPropertySymbols(V);K<Y.length;K++)M.indexOf(Y[K])<0&&Object.prototype.propertyIsEnumerable.call(V,Y[K])&&(B[Y[K]]=V[Y[K]]);return B};function S(V){try{switch(V.type){case"acknowledge":case"error":case"childConnectionClose":return V;case"childDownstreamMessage":return Object.assign(Object.assign({},V),{message:S(V.message)});case"publish":{const{data:M}=V,B=T(V,["data"]);return Object.assign({},B)}case"response":{if(V.isError)return Object.assign(Object.assign({},V),{details:{command:V.details.command}});{const{data:M}=V,B=T(V,["data"]);return Object.assign({},B)}}default:return V}}catch(M){return{messageDetails:"error when sanitizing downstream message",message:V,error:M}}}class y{constructor(M,B){this.provider=M,this.relayChildUpstreamMessage=B,this.messagePorts=new Map,this.logger=new oe({provider:M,source:"childConnectionManager"})}addChannel({connectionId:M,port:B,providerId:Y}){if(this.messagePorts.has(M)){this.logger.error("Attempted to add child connection that already exists. No action",{connectionId:M});return}const K=this.createMessageHandler(M,Y);B.addEventListener("message",K),B.start(),this.messagePorts.set(M,{port:B,handler:K,providerId:Y}),this.relayChildUpstreamMessage({type:"childUpstream",connectionId:M,sourceProviderId:Y,parentProviderId:this.provider.id,message:{type:"childConnectionReady"}}),this.logger.debug("Child port added",{connectionId:M})}handleDownstreamMessage({connectionId:M,message:B,targetProviderId:Y}){const K=this.messagePorts.get(M);if(!K){this.logger.warn("Attempted to route downstream message to child message port that does not exist",{connectionId:M,message:S(B)});return}const{port:q,providerId:X}=K;if(X&&X!==Y){this.logger.error("Downstream target message did not match target provider id. Not sending message.",{connectionId:M,targetProviderId:Y,actualProviderId:X,message:S(B)});return}q.postMessage(B)}handleCloseMessage({connectionId:M}){const B=this.messagePorts.get(M);if(!B){this.logger.warn("Attempted to close child message port that was not found",{connectionId:M});return}const{port:Y,handler:K}=B;Y.removeEventListener("message",K),Y.close(),this.messagePorts.delete(M),this.logger.debug("Removed child message channel",{connectionId:M})}createMessageHandler(M,B){return Y=>this.relayChildUpstreamMessage({type:"childUpstream",sourceProviderId:B,parentProviderId:this.provider.id,connectionId:M,message:Y.data})}}class h{constructor(M){this.errorHandlers=new Set,this.logger=new oe({provider:M,source:"core.proxy.error"})}invoke(M){const{message:B,key:Y,details:K,isFatal:q,connectionStatus:X}=M;this.logger.error(B,{key:Y,details:K,isFatal:q,connectionStatus:X},{duplicateMessageToConsole:!0,remoteIgnore:!0}),[...this.errorHandlers].forEach(se=>{try{se(M)}catch(le){this.logger.error("An error occurred within a AmazonConnectErrorHandler",{handlerError:le,originalError:M})}})}onError(M){this.errorHandlers.add(M)}offError(M){this.errorHandlers.delete(M)}}class b{constructor(M){this.status="notConnected",this.changeHandlers=new Set,this.logger=new oe({source:"core.proxy.connection-status-manager",provider:M,mixin:()=>({status:this.status})})}getStatus(){return this.status}update(M){this.status=M.status,this.logger.trace("Proxy Connection Status Changed",{status:M.status}),[...this.changeHandlers].forEach(B=>{try{B(M)}catch(Y){this.logger.error("An error occurred within a ProxyConnectionChangedHandler",{error:Y})}})}onChange(M){this.changeHandlers.add(M)}offChange(M){this.changeHandlers.delete(M)}}var A=function(V,M,B,Y){function K(q){return q instanceof B?q:new B(function(X){X(q)})}return new(B||(B=Promise))(function(q,X){function se(_e){try{ve(Y.next(_e))}catch(Ie){X(Ie)}}function le(_e){try{ve(Y.throw(_e))}catch(Ie){X(Ie)}}function ve(_e){_e.done?q(_e.value):K(_e.value).then(se,le)}ve((Y=Y.apply(V,M||[])).next())})},r=function(V,M){var B={};for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&M.indexOf(Y)<0&&(B[Y]=V[Y]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,Y=Object.getOwnPropertySymbols(V);K<Y.length;K++)M.indexOf(Y[K])<0&&Object.prototype.propertyIsEnumerable.call(V,Y[K])&&(B[Y[K]]=V[Y[K]]);return B};class w{constructor(M){this.provider=M,this.logger=new oe({source:"core.proxy",provider:M,mixin:()=>({proxyType:this.proxyType,connectionId:this.connectionId})}),this.requestManager=new s(M),this.status=new b(M),this.errorService=new h(M),this.upstreamMessageQueue=[],this.connectionEstablished=!1,this.isInitialized=!1,this.subscriptions=new m,this.connectionId=null,this.channelManager=new y(M,this.sendOrQueueMessageToSubject.bind(this))}init(){if(this.isInitialized)throw new Error("Proxy already initialized");this.isInitialized=!0,this.initProxy()}request(M,B,Y,K){const q=i(M,B,Y,K??this.getUpstreamMessageOrigin()),X=this.requestManager.processRequest(q);return this.sendOrQueueMessageToSubject(q),X}subscribe(M,B,Y){const{handlerId:K}=this.subscriptions.add(M,B),q={type:"subscribe",topic:M,messageOrigin:Y??this.getUpstreamMessageOrigin(),handlerId:K};this.sendOrQueueMessageToSubject(q)}unsubscribe(M,B,Y){if(this.subscriptions.delete(M,B),this.subscriptions.isEmpty(M)){const K={type:"unsubscribe",topic:M,messageOrigin:Y??this.getUpstreamMessageOrigin()};this.sendOrQueueMessageToSubject(K)}}log(M){const B=Q(M,this.addContextToLogger(),this.getUpstreamMessageOrigin());this.sendOrQueueMessageToSubject(B)}sendLogMessage(M){if(M.type!=="log"){this.logger.error("Attempted to send invalid log message",{message:M});return}M.context=Object.assign(Object.assign({},M.context),this.addContextToLogger()),this.sendOrQueueMessageToSubject(M)}sendMetric({metricData:M,time:B,namespace:Y}){const K=f({metricData:M,time:B,namespace:Y},this.getUpstreamMessageOrigin());this.sendOrQueueMessageToSubject(K)}sendMetricMessage(M){if(M.type!=="metric"){this.logger.error("Attempted to send invalid metric message",{metricMessage:M});return}this.sendOrQueueMessageToSubject(M)}sendOrQueueMessageToSubject(M){this.connectionEstablished?this.sendMessageToSubject(M):this.upstreamMessageQueue.push(M)}consumerMessageHandler(M){if(!this.isInitialized){this.logger.error("Attempted to process message from subject prior to proxy being initializing. Message not processed",{originalMessageEventData:M.data});return}const{data:B}=M;if(!("type"in B)){this.logger.warn("Unknown inbound message",{originalMessageEventData:B});return}const Y=B;this.handleMessageFromSubject(Y)}handleMessageFromSubject(M){this.handleDefaultMessageFromSubject(M)}handleDefaultMessageFromSubject(M){switch(M.type){case"acknowledge":this.handleConnectionAcknowledge(M);break;case"response":this.handleResponse(M);break;case"publish":this.handlePublish(M);break;case"error":this.handleError(M);break;case"childDownstreamMessage":this.channelManager.handleDownstreamMessage(M);break;case"childConnectionClose":this.channelManager.handleCloseMessage(M);break;default:this.logger.error("Unknown inbound message",{originalMessageEventData:M});return}}handleConnectionAcknowledge(M){for(this.connectionId=M.connectionId,this.status.update({status:"ready",connectionId:M.connectionId}),this.connectionEstablished=!0;this.upstreamMessageQueue.length;){const B=this.upstreamMessageQueue.shift();this.sendMessageToSubject(B)}}handleResponse(M){this.requestManager.processResponse(M)}handlePublish(M){const{handlerId:B,topic:Y}=M;if(B){const K=this.subscriptions.getById(Y,B);K&&this.handleAsyncSubscriptionHandlerInvoke({handler:K,handlerId:B},M)}else this.subscriptions.get(Y).map(K=>void this.handleAsyncSubscriptionHandlerInvoke(K,M))}handleError(M){if(M.isFatal){const{message:B,type:Y}=M,K=r(M,["message","type"]);this.status.update({status:"error",reason:B,details:K})}this.publishError({message:M.message,key:M.key,details:M.details,isFatal:M.isFatal,proxyStatus:M.status})}publishError(M){const B=Object.assign(Object.assign({},M),{connectionStatus:this.connectionStatus});this.errorService.invoke(B)}handleAsyncSubscriptionHandlerInvoke(M,B){return A(this,arguments,void 0,function*({handler:Y,handlerId:K},{topic:q,data:X}){try{yield Y(X)}catch(se){this.logger.error("An error occurred when handling subscription",{topic:q,error:se,handlerId:K})}})}get connectionStatus(){return this.status.getStatus()}onError(M){this.errorService.onError(M)}offError(M){this.errorService.offError(M)}onConnectionStatusChange(M){this.status.onChange(M)}offConnectionStatusChange(M){this.status.offChange(M)}addChildChannel(M){this.channelManager.addChannel(M)}resetConnection(M){var B;this.connectionEstablished=!1,this.status.update({status:"reset",reason:M});const Y=this.subscriptions.getAllSubscriptionHandlerIds();this.logger.info("Resetting proxy",{reason:M,subscriptionHandlerCount:(B=Y==null?void 0:Y.length)!==null&&B!==void 0?B:-1}),Y==null||Y.map(({topic:K,handlerId:q})=>({type:"subscribe",topic:K,messageOrigin:this.getUpstreamMessageOrigin(),handlerId:q})).forEach(K=>this.sendOrQueueMessageToSubject(K))}}class O{constructor({config:M,proxyFactory:B}){if(this._id=u(),!B)throw new Error("Attempted to get Proxy before setting up factory");if(!M)throw new Error("Failed to include config");this.proxyFactory=B,this._config=M}get id(){return this._id}getProxy(){return this.proxy||(this.proxy=this.proxyFactory(this),this.proxy.init()),this.proxy}get config(){return Object.assign({},this._config)}onError(M){this.getProxy().onError(M)}offError(M){this.getProxy().offError(M)}static initializeProvider(M){const B=new oe({source:"core.amazonConnect.init",provider:M});if(this.isInitialized){const Y="Error: Attempted to initialize provider more than one time.";throw B.error(Y),new Error(Y)}return he(M),this.isInitialized=!0,M.getProxy(),M}}O.isInitialized=!1;var R;(function(V){V[V.trace=1]="trace",V[V.debug=2]="debug",V[V.info=3]="info",V[V.warn=4]="warn",V[V.error=5]="error"})(R||(R={}));function z(V,M,B){if(B)switch(V){case R.error:console.error(M,B);break;case R.warn:console.warn(M,B);break;case R.info:console.info(M,B);break;case R.debug:console.debug(M,B);break;case R.trace:console.trace(M,B);break;default:console.log(M,B);break}else switch(V){case R.error:console.error(M);break;case R.warn:console.warn(M);break;case R.info:console.info(M);break;case R.debug:console.debug(M);break;case R.trace:console.trace(M);break;default:console.log(M);break}}class ee{constructor(M){this.mixin=M}getTransformedData(M,B){return this.mixin?Object.assign(Object.assign({},B??{}),this.mixin(B??{},M)):B}}class oe{constructor(M){this._proxy=null,this._logToConsoleLevel=null,this.loggerId=L(8),typeof M=="string"?(this.source=M,this.dataTransformer=new ee(void 0)):(this.source=M.source,M.provider&&typeof M.provider=="function"?this.providerFactory=M.provider:this.provider=M.provider,this.dataTransformer=new ee(M.mixin),this.logOptions=M.options)}trace(M,B,Y){this.log(R.trace,M,B,Y)}debug(M,B,Y){this.log(R.debug,M,B,Y)}info(M,B,Y){this.log(R.info,M,B,Y)}warn(M,B,Y){this.log(R.warn,M,B,Y)}error(M,B,Y){this.log(R.error,M,B,Y)}log(M,B,Y,K){const q=this.dataTransformer.getTransformedData(M,Y);this.ignoreRemote(K)||this.getProxy().log({level:M,source:this.source,loggerId:this.loggerId,message:B,data:q}),this.applyDuplicateMessageToConsole(M,K)&&z(M,B,q)}getProvider(){return this.provider||(this.provider=this.providerFactory?this.providerFactory():N()),this.provider}getProxy(){return this._proxy||(this._proxy=this.getProvider().getProxy()),this._proxy}applyDuplicateMessageToConsole(M,B){return(B==null?void 0:B.duplicateMessageToConsole)||this.getLogConsoleLevel()<=M}getLogConsoleLevel(){var M,B,Y,K;return this._logToConsoleLevel||(this._logToConsoleLevel=!((M=this.logOptions)===null||M===void 0)&&M.minLogToConsoleLevelOverride?this.logOptions.minLogToConsoleLevelOverride:(K=(Y=(B=this.getProvider().config)===null||B===void 0?void 0:B.logging)===null||Y===void 0?void 0:Y.minLogToConsoleLevel)!==null&&K!==void 0?K:R.error),this._logToConsoleLevel}ignoreRemote(M){var B,Y,K;return((Y=(B=this.logOptions)===null||B===void 0?void 0:B.remoteIgnore)!==null&&Y!==void 0?Y:!1)||((K=M==null?void 0:M.remoteIgnore)!==null&&K!==void 0?K:!1)}}function Q({level:V,source:M,message:B,loggerId:Y,data:K},q,X){const se=K?JSON.parse(JSON.stringify(K)):void 0;return{type:"log",level:V,time:new Date,source:M,message:B,loggerId:Y,data:se,context:q,messageOrigin:X}}class I extends w{constructor(M){super(M),this.postMessageHandler=this.listenForInitialMessage.bind(this),this.proxyLogger=new oe({source:"siteProxy",provider:M})}initProxy(){this.status.update({status:"connecting"}),window.addEventListener("message",this.postMessageHandler)}resetConnection(M){super.resetConnection(M),this.messagePort=void 0,this.status.update({status:"connecting"})}sendMessageToSubject(M){this.messagePort?this.messagePort.postMessage(M):this.proxyLogger.error("Failed to send UpstreamMessage. MessagePort not set",{messageType:M.type})}addContextToLogger(){return{}}listenForInitialMessage(M){if(this.verifyEventSource(M)){if(!this.verifyOrigin(M))return;if(M.data.type!=="cross-domain-adapter-init"){this.invalidInitMessageHandler(M.data);return}if(this.messagePort&&(this.resetConnection("Subsequent Message Port Detected"),this.proxyLogger.info("Subsequent message port received. Resetting connection")),this.messagePort=M.ports[0],!this.messagePort)throw new Error("message port not provided by iframe");this.messagePort.onmessage=this.consumerMessageHandler.bind(this),this.status.update({status:"initializing"}),this.messagePort.postMessage({type:"cross-domain-site-ready",providerId:this.provider.id}),this.proxyLogger.debug("CDA Post message handler removed")}}verifyOrigin(M){const B=M.origin;if(!B)return this.proxyLogger.warn("No origin provided in event. Ignoring event."),!1;let Y;try{Y=new URL(this.provider.config.instanceUrl).origin}catch(K){return this.proxyLogger.error("Unable to parse expected origin from config. Cannot match",{error:K,eventOrigin:B,configInstanceUrl:this.provider.config.instanceUrl},{duplicateMessageToConsole:!0}),!1}return B!==Y?(M.data.type==="cross-domain-adapter-init"&&this.proxyLogger.warn("Origin of message with type 'cross-domain-adapter-init' did not expected instance value. Ignoring",{expectedOrigin:Y,eventOrigin:B},{duplicateMessageToConsole:!0}),!1):!0}}class W extends I{constructor(M){super(M),this.ccpIFrame=null}get proxyType(){return"streams-site"}setCCPIframe(M){const B=!!this.ccpIFrame;this.ccpIFrame=M,B&&this.resetConnection("CCP IFrame Updated")}getUpstreamMessageOrigin(){return Object.assign({_type:"streams-site",providerId:this.provider.id},E())}verifyEventSource(M){const B=this.ccpIFrame;if(!B)return this.proxyLogger.error("CCP Iframe not provided to proxy. Unable to verify event to Connect to CCP.",{origin:M.origin}),!1;const Y=M.source===B.contentWindow;return Y||this.proxyLogger.warn("Message came from unexpected iframe. Not a valid CCP. Will not connect",{origin:M.origin}),Y}invalidInitMessageHandler(){}}class Z extends O{constructor(M){super({config:M,proxyFactory:B=>new W(B)})}static init(M){const B=new Z(M);return Z.initializeProvider(B),{provider:B}}static get default(){return N("AmazonConnectStreamsSite has not been initialized")}setCCPIframe(M){this.getProxy().setCCPIframe(M)}}},825:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ae.lily=ie,ie.agentApp={};var ue={CCP:"ccp",GUIDES:"customviews"};ie.agentApp.initCCP=ie.core.initCCP,ie.agentApp.isInitialized=function(v){},ie.agentApp.initAppCommunication=function(v,m){var f=document.getElementById(v),a=new ie.IFrameConduit(m,window,f),d=[ie.AgentEvents.UPDATE,ie.ContactEvents.VIEW,ie.EventType.ACKNOWLEDGE,ie.EventType.TERMINATED,ie.TaskEvents.CREATED,ie.EmailEvents.CREATED];f.addEventListener("load",function(p){d.forEach(function(c){ie.core.getUpstream().onUpstream(c,function(l){a.sendUpstream(c,l)})})})};var Oe=function(m){var f=m.indexOf("ccp-v2");return m.slice(0,f-1)},he=function(m){var f=Oe(m)+"/logout";return ie.fetch(f,{credentials:"include"}).then(function(){var a=ie.core.getEventBus();return a.trigger(ie.EventType.TERMINATE),!0}).catch(function(a){return ie.getLog().error("An error occured on logout."+a).withException(a),window.location.href=f,!1})},N=function(m){ie.agentApp.AppRegistry.delete(m)},L=function(m,f,a){var d=a.customViewsParams,p=d.contact,c=d.disableAutoDestroy,l=d.iframeSuffix,s=d.terminateCustomViewOptions,i=s===void 0?{}:s,T=a.customViewsParams.contactFlowId,S,y;p!==void 0&&(S=u(p),S&&c!==!0&&typeof p!="string"&&p.onDestroy(function(r){ie.core.terminateCustomView(m,l,{timeout:i.timeout||5e3,hideIframe:i.hideIframe!==void 0?i.hideIframe:!0,resolveIframe:i.resolveIframe!==void 0?i.resolveIframe:!0})}),T||console.warn("[CustomViews]: Need to provide a contactFlowId when defining contact parameter for initalizing customviews application")),l?y="".concat(ue.GUIDES).concat(l):y="".concat(ue.GUIDES);var h="iframe[id='".concat(y,"']"),b=(f==null?void 0:f.querySelector(h))||document.getElementById(y)||window.top.document.getElementById(y);if(b){var A=AWS.util.uuid.v4();S?b.src="".concat(m,"?contactFlowId=").concat(T,"&currentContactId=").concat(S,"&agentAppTabId=").concat(A,"-tab"):T&&(b.src="".concat(m,"?contactFlowId=").concat(T,"&agentAppTabId=").concat(A,"-tab"))}else throw new Error("[CustomViews]: No iframe found for the app: ",y)},u=function(m){if(typeof m=="string")return m;try{return m.getContactId()}catch{console.error("[CustomViews]: Invalid Contact Provided: ",m);return}},E=function(m,f,a){var d={ccpUrl:m,ccpLoadTimeout:1e4,loginPopup:!0,loginUrl:Oe(m)+"/login",softphone:{allowFramedSoftphone:!0,disableRingtone:!1,allowFramedVideoCall:!0,allowFramedScreenSharing:!0,allowFramedScreenSharingPopUp:!1}},p=ie.merge(d,a.ccpParams);ie.core.initCCP(f,p)},C=function(m){var f=/[?&]?[^=?&]+=[^=?&]+/g;return f.test(m)};ie.agentApp.initApp=function(v,m,f,a){a=a||{};var d=f.endsWith("/")||C(f)?f:f+"/",p=a.onLoad?a.onLoad:null,c={endpoint:d,style:a.style,onLoad:p},l;if(v===ue.CCP_DR)l=ue.CCP;else if(v===ue.GUIDES&&a.customViewsParams){var s=a.customViewsParams.iframeSuffix;if(s?l="".concat(ue.GUIDES).concat(s):l="".concat(ue.GUIDES),ie.agentApp.AppRegistry.get(l)!==void 0)throw new Error("[CustomViews]: Custom views application with the same name already exists. Please provide a different iframeSuffix for the custom views application.")}else l=v;var i=typeof m=="string"?document.getElementById(m):m;ie.agentApp.AppRegistry.register(l,c,i),ie.agentApp.AppRegistry.start(l,function(T){var S=T.endpoint,y=T.containerDOM;return{init:function(){switch(v){case ue.CCP:return a.ccpParams=a.ccpParams?a.ccpParams:{},a.style&&(a.ccpParams.style=a.style),E(S,y,a);case ue.GUIDES:return a.customViewsParams!==void 0?(ie.agentApp.initAppCommunication(l,S,y),L(S,y,a)):ie.agentApp.initAppCommunication(l,S,y);default:return ie.agentApp.initAppCommunication(l,S,y)}},destroy:function(){switch(v){case ue.CCP:return he(S);case ue.GUIDES:return a.customViewsParams!==void 0?N(l):null;default:return null}}}})},ie.agentApp.stopApp=function(v){return ie.agentApp.AppRegistry.stop(v)}})()},961:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie;var ue={CCP:"ccp"};function Oe(){var he={},N=function(u,E,C,v){var m=document.createElement("iframe");return m.src=E,m.style=C||"width: 100%; height:100%;",m.id=u,m["aria-label"]=u,m.onload=v,m.allow="clipboard-read; clipboard-write",m.setAttribute("sandbox","allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),m};return{register:function(u,E,C){he[u]={containerDOM:C,endpoint:E.endpoint,style:E.style,instance:void 0,onLoad:E.onLoad}},start:function(u,E){if(he[u]){var C=he[u].containerDOM,v=he[u].endpoint,m=he[u].style,f=he[u].onLoad;if(u!==ue.CCP){var a=N(u,v,m,f);C.appendChild(a)}return he[u].instance=E(he[u]),he[u].instance.init()}},get:function(u){return he[u]},delete:function(u){delete he[u]},stop:function(u){if(he[u]){var E=he[u],C=E.containerDOM.querySelector("iframe");if(u.includes("customviews")){var v="iframe[id='".concat(u,"']");C=E.containerDOM.querySelector(v)}E.containerDOM.removeChild(C);var m;return E.instance&&(m=E.instance.destroy(),delete E.instance),m}}}}ae.connect.agentApp.AppRegistry=Oe()})()},610:()=>{function ae(s,i){var T=Object.keys(s);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(s);i&&(S=S.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),T.push.apply(T,S)}return T}function ie(s){for(var i=1;i<arguments.length;i++){var T=arguments[i]!=null?arguments[i]:{};i%2?ae(Object(T),!0).forEach(function(S){p(s,S,T[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(T)):ae(Object(T)).forEach(function(S){Object.defineProperty(s,S,Object.getOwnPropertyDescriptor(T,S))})}return s}function ue(s,i){return N(s)||he(s,i)||m(s,i)||Oe()}function Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function he(s,i){var T=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(T!=null){var S,y,h,b,A=[],r=!0,w=!1;try{if(h=(T=T.call(s)).next,i!==0)for(;!(r=(S=h.call(T)).done)&&(A.push(S.value),A.length!==i);r=!0);}catch(O){w=!0,y=O}finally{try{if(!r&&T.return!=null&&(b=T.return(),Object(b)!==b))return}finally{if(w)throw y}}return A}}function N(s){if(Array.isArray(s))return s}function L(s){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},L(s)}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return i};var s,i={},T=Object.prototype,S=T.hasOwnProperty,y=Object.defineProperty||function(be,Ae,we){be[Ae]=we.value},h=typeof Symbol=="function"?Symbol:{},b=h.iterator||"@@iterator",A=h.asyncIterator||"@@asyncIterator",r=h.toStringTag||"@@toStringTag";function w(be,Ae,we){return Object.defineProperty(be,Ae,{value:we,enumerable:!0,configurable:!0,writable:!0}),be[Ae]}try{w({},"")}catch{w=function(we,Be,Ve){return we[Be]=Ve}}function O(be,Ae,we,Be){var Ve=Ae&&Ae.prototype instanceof W?Ae:W,Ge=Object.create(Ve.prototype),ot=new Ie(Be||[]);return y(Ge,"_invoke",{value:se(be,we,ot)}),Ge}function R(be,Ae,we){try{return{type:"normal",arg:be.call(Ae,we)}}catch(Be){return{type:"throw",arg:Be}}}i.wrap=O;var z="suspendedStart",ee="suspendedYield",oe="executing",Q="completed",I={};function W(){}function Z(){}function V(){}var M={};w(M,b,function(){return this});var B=Object.getPrototypeOf,Y=B&&B(B(He([])));Y&&Y!==T&&S.call(Y,b)&&(M=Y);var K=V.prototype=W.prototype=Object.create(M);function q(be){["next","throw","return"].forEach(function(Ae){w(be,Ae,function(we){return this._invoke(Ae,we)})})}function X(be,Ae){function we(Ve,Ge,ot,De){var Re=R(be[Ve],be,Ge);if(Re.type!=="throw"){var Ue=Re.arg,qe=Ue.value;return qe&&L(qe)=="object"&&S.call(qe,"__await")?Ae.resolve(qe.__await).then(function(Ye){we("next",Ye,ot,De)},function(Ye){we("throw",Ye,ot,De)}):Ae.resolve(qe).then(function(Ye){Ue.value=Ye,ot(Ue)},function(Ye){return we("throw",Ye,ot,De)})}De(Re.arg)}var Be;y(this,"_invoke",{value:function(Ge,ot){function De(){return new Ae(function(Re,Ue){we(Ge,ot,Re,Ue)})}return Be=Be?Be.then(De,De):De()}})}function se(be,Ae,we){var Be=z;return function(Ve,Ge){if(Be===oe)throw Error("Generator is already running");if(Be===Q){if(Ve==="throw")throw Ge;return{value:s,done:!0}}for(we.method=Ve,we.arg=Ge;;){var ot=we.delegate;if(ot){var De=le(ot,we);if(De){if(De===I)continue;return De}}if(we.method==="next")we.sent=we._sent=we.arg;else if(we.method==="throw"){if(Be===z)throw Be=Q,we.arg;we.dispatchException(we.arg)}else we.method==="return"&&we.abrupt("return",we.arg);Be=oe;var Re=R(be,Ae,we);if(Re.type==="normal"){if(Be=we.done?Q:ee,Re.arg===I)continue;return{value:Re.arg,done:we.done}}Re.type==="throw"&&(Be=Q,we.method="throw",we.arg=Re.arg)}}}function le(be,Ae){var we=Ae.method,Be=be.iterator[we];if(Be===s)return Ae.delegate=null,we==="throw"&&be.iterator.return&&(Ae.method="return",Ae.arg=s,le(be,Ae),Ae.method==="throw")||we!=="return"&&(Ae.method="throw",Ae.arg=new TypeError("The iterator does not provide a '"+we+"' method")),I;var Ve=R(Be,be.iterator,Ae.arg);if(Ve.type==="throw")return Ae.method="throw",Ae.arg=Ve.arg,Ae.delegate=null,I;var Ge=Ve.arg;return Ge?Ge.done?(Ae[be.resultName]=Ge.value,Ae.next=be.nextLoc,Ae.method!=="return"&&(Ae.method="next",Ae.arg=s),Ae.delegate=null,I):Ge:(Ae.method="throw",Ae.arg=new TypeError("iterator result is not an object"),Ae.delegate=null,I)}function ve(be){var Ae={tryLoc:be[0]};1 in be&&(Ae.catchLoc=be[1]),2 in be&&(Ae.finallyLoc=be[2],Ae.afterLoc=be[3]),this.tryEntries.push(Ae)}function _e(be){var Ae=be.completion||{};Ae.type="normal",delete Ae.arg,be.completion=Ae}function Ie(be){this.tryEntries=[{tryLoc:"root"}],be.forEach(ve,this),this.reset(!0)}function He(be){if(be||be===""){var Ae=be[b];if(Ae)return Ae.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var we=-1,Be=function Ve(){for(;++we<be.length;)if(S.call(be,we))return Ve.value=be[we],Ve.done=!1,Ve;return Ve.value=s,Ve.done=!0,Ve};return Be.next=Be}}throw new TypeError(L(be)+" is not iterable")}return Z.prototype=V,y(K,"constructor",{value:V,configurable:!0}),y(V,"constructor",{value:Z,configurable:!0}),Z.displayName=w(V,r,"GeneratorFunction"),i.isGeneratorFunction=function(be){var Ae=typeof be=="function"&&be.constructor;return!!Ae&&(Ae===Z||(Ae.displayName||Ae.name)==="GeneratorFunction")},i.mark=function(be){return Object.setPrototypeOf?Object.setPrototypeOf(be,V):(be.__proto__=V,w(be,r,"GeneratorFunction")),be.prototype=Object.create(K),be},i.awrap=function(be){return{__await:be}},q(X.prototype),w(X.prototype,A,function(){return this}),i.AsyncIterator=X,i.async=function(be,Ae,we,Be,Ve){Ve===void 0&&(Ve=Promise);var Ge=new X(O(be,Ae,we,Be),Ve);return i.isGeneratorFunction(Ae)?Ge:Ge.next().then(function(ot){return ot.done?ot.value:Ge.next()})},q(K),w(K,r,"Generator"),w(K,b,function(){return this}),w(K,"toString",function(){return"[object Generator]"}),i.keys=function(be){var Ae=Object(be),we=[];for(var Be in Ae)we.push(Be);return we.reverse(),function Ve(){for(;we.length;){var Ge=we.pop();if(Ge in Ae)return Ve.value=Ge,Ve.done=!1,Ve}return Ve.done=!0,Ve}},i.values=He,Ie.prototype={constructor:Ie,reset:function(Ae){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(_e),!Ae)for(var we in this)we.charAt(0)==="t"&&S.call(this,we)&&!isNaN(+we.slice(1))&&(this[we]=s)},stop:function(){this.done=!0;var Ae=this.tryEntries[0].completion;if(Ae.type==="throw")throw Ae.arg;return this.rval},dispatchException:function(Ae){if(this.done)throw Ae;var we=this;function Be(Ue,qe){return ot.type="throw",ot.arg=Ae,we.next=Ue,qe&&(we.method="next",we.arg=s),!!qe}for(var Ve=this.tryEntries.length-1;Ve>=0;--Ve){var Ge=this.tryEntries[Ve],ot=Ge.completion;if(Ge.tryLoc==="root")return Be("end");if(Ge.tryLoc<=this.prev){var De=S.call(Ge,"catchLoc"),Re=S.call(Ge,"finallyLoc");if(De&&Re){if(this.prev<Ge.catchLoc)return Be(Ge.catchLoc,!0);if(this.prev<Ge.finallyLoc)return Be(Ge.finallyLoc)}else if(De){if(this.prev<Ge.catchLoc)return Be(Ge.catchLoc,!0)}else{if(!Re)throw Error("try statement without catch or finally");if(this.prev<Ge.finallyLoc)return Be(Ge.finallyLoc)}}}},abrupt:function(Ae,we){for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Ve=this.tryEntries[Be];if(Ve.tryLoc<=this.prev&&S.call(Ve,"finallyLoc")&&this.prev<Ve.finallyLoc){var Ge=Ve;break}}Ge&&(Ae==="break"||Ae==="continue")&&Ge.tryLoc<=we&&we<=Ge.finallyLoc&&(Ge=null);var ot=Ge?Ge.completion:{};return ot.type=Ae,ot.arg=we,Ge?(this.method="next",this.next=Ge.finallyLoc,I):this.complete(ot)},complete:function(Ae,we){if(Ae.type==="throw")throw Ae.arg;return Ae.type==="break"||Ae.type==="continue"?this.next=Ae.arg:Ae.type==="return"?(this.rval=this.arg=Ae.arg,this.method="return",this.next="end"):Ae.type==="normal"&&we&&(this.next=we),I},finish:function(Ae){for(var we=this.tryEntries.length-1;we>=0;--we){var Be=this.tryEntries[we];if(Be.finallyLoc===Ae)return this.complete(Be.completion,Be.afterLoc),_e(Be),I}},catch:function(Ae){for(var we=this.tryEntries.length-1;we>=0;--we){var Be=this.tryEntries[we];if(Be.tryLoc===Ae){var Ve=Be.completion;if(Ve.type==="throw"){var Ge=Ve.arg;_e(Be)}return Ge}}throw Error("illegal catch attempt")},delegateYield:function(Ae,we,Be){return this.delegate={iterator:He(Ae),resultName:we,nextLoc:Be},this.method==="next"&&(this.arg=s),I}},i}function E(s,i,T,S,y,h,b){try{var A=s[h](b),r=A.value}catch(w){return void T(w)}A.done?i(r):Promise.resolve(r).then(S,y)}function C(s){return function(){var i=this,T=arguments;return new Promise(function(S,y){var h=s.apply(i,T);function b(r){E(h,S,y,b,A,"next",r)}function A(r){E(h,S,y,b,A,"throw",r)}b(void 0)})}}function v(s,i){var T=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!T){if(Array.isArray(s)||(T=m(s))||i){T&&(s=T);var S=0,y=function(){};return{s:y,n:function(){return S>=s.length?{done:!0}:{done:!1,value:s[S++]}},e:function(w){throw w},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,b=!0,A=!1;return{s:function(){T=T.call(s)},n:function(){var w=T.next();return b=w.done,w},e:function(w){A=!0,h=w},f:function(){try{b||T.return==null||T.return()}finally{if(A)throw h}}}}function m(s,i){if(s){if(typeof s=="string")return f(s,i);var T={}.toString.call(s).slice(8,-1);return T==="Object"&&s.constructor&&(T=s.constructor.name),T==="Map"||T==="Set"?Array.from(s):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?f(s,i):void 0}}function f(s,i){(i==null||i>s.length)&&(i=s.length);for(var T=0,S=Array(i);T<i;T++)S[T]=s[T];return S}function a(s,i,T){return Object.defineProperty(s,"prototype",{writable:!1}),s}function d(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function p(s,i,T){return(i=c(i))in s?Object.defineProperty(s,i,{value:T,enumerable:!0,configurable:!0,writable:!0}):s[i]=T,s}function c(s){var i=l(s,"string");return L(i)=="symbol"?i:i+""}function l(s,i){if(L(s)!="object"||!s)return s;var T=s[Symbol.toPrimitive];if(T!==void 0){var S=T.call(s,i);if(L(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}(function(){var s=this||globalThis,i=s.connect||{};s.connect=i,s.lily=i,i.AgentStateType=i.makeEnum(["init","routable","not_routable","offline","system","error"]),i.AgentStatusType=i.AgentStateType,i.AgentAvailStates=i.makeEnum(["Init","Busy","AfterCallWork","CallingCustomer","Dialing","Joining","PendingAvailable","PendingBusy"]),i.AgentErrorStates=i.makeEnum(["Error","AgentHungUp","BadAddressAgent","BadAddressCustomer","Default","FailedConnectAgent","FailedConnectCustomer","InvalidLocale","LineEngagedAgent","LineEngagedCustomer","MissedCallAgent","MissedCallCustomer","MultipleCcpWindows","RealtimeCommunicationError"]),i.EndpointType=i.makeEnum(["phone_number","agent","queue"]),i.AddressType=i.EndpointType,i.ConnectionType=i.makeEnum(["agent","inbound","outbound","monitoring"]),i.ConnectionStateType=i.makeEnum(["init","connecting","connected","hold","disconnected","silent_monitor","barge"]),i.ConnectionStatusType=i.ConnectionStateType,i.CONNECTION_ACTIVE_STATES=i.set([i.ConnectionStateType.CONNECTING,i.ConnectionStateType.CONNECTED,i.ConnectionStateType.HOLD,i.ConnectionStateType.SILENT_MONITOR,i.ConnectionStateType.BARGE]),i.CONNECTION_CONNECTED_STATES=i.set([i.ConnectionStateType.CONNECTED,i.ConnectionStateType.SILENT_MONITOR,i.ConnectionStateType.BARGE]),i.ContactStateType=i.makeEnum(["init","incoming","pending","connecting","connected","missed","error","ended","rejected","paused"]),i.ContactStatusType=i.ContactStateType,i.CONTACT_ACTIVE_STATES=i.makeEnum(["paused","incoming","pending","connecting","connected"]),i.ContactType=i.makeEnum(["voice","queue_callback","chat","task","email"]),i.ContactInitiationMethod=i.makeEnum(["inbound","outbound","transfer","queue_transfer","callback","api","disconnect","webrtc_api","agent_reply"]),i.MonitoringMode=i.makeEnum(["SILENT_MONITOR","BARGE"]),i.MonitoringErrorTypes=i.makeEnum(["invalid_target_state"]),i.ChannelType=i.makeEnum(["VOICE","CHAT","TASK"]),i.MediaType=i.makeEnum(["softphone","chat","task","email"]),i.SoftphoneCallType=i.makeEnum(["audio_video","video_only","audio_only","none"]),i.SoftphoneErrorTypes=i.makeEnum(["unsupported_browser","microphone_not_shared","signalling_handshake_failure","signalling_connection_failure","ice_collection_timeout","user_busy_error","webrtc_error","realtime_communication_error","vdi_strategy_not_supported","vdi_redir_not_supported","other"]),i.ClickType=i.makeEnum(["Accept","Reject","Hangup"]),i.VoiceIdErrorTypes=i.makeEnum(["no_speaker_id_found","speaker_id_not_enrolled","get_speaker_id_failed","get_speaker_status_failed","opt_out_speaker_failed","opt_out_speaker_in_lcms_failed","delete_speaker_failed","start_session_failed","evaluate_speaker_failed","session_not_exists","describe_session_failed","enroll_speaker_failed","update_speaker_id_failed","update_speaker_id_in_lcms_failed","not_supported_on_conference_calls","enroll_speaker_timeout","evaluate_speaker_timeout","get_domain_id_failed","no_domain_id_found"]),i.CTIExceptions=i.makeEnum(["AccessDeniedException","InvalidStateException","BadEndpointException","InvalidAgentARNException","InvalidConfigurationException","InvalidContactTypeException","PaginationException","RefreshTokenExpiredException","SendDataFailedException","UnauthorizedException","QuotaExceededException"]),i.VoiceIdStreamingStatus=i.makeEnum(["ONGOING","ENDED","PENDING_CONFIGURATION"]),i.VoiceIdAuthenticationDecision=i.makeEnum(["ACCEPT","REJECT","NOT_ENOUGH_SPEECH","SPEAKER_NOT_ENROLLED","SPEAKER_OPTED_OUT","SPEAKER_ID_NOT_PROVIDED","SPEAKER_EXPIRED"]),i.VoiceIdFraudDetectionDecision=i.makeEnum(["NOT_ENOUGH_SPEECH","HIGH_RISK","LOW_RISK"]),i.ContactFlowAuthenticationDecision=i.makeEnum(["Authenticated","NotAuthenticated","Inconclusive","NotEnrolled","OptedOut","NotEnabled","Error"]),i.ContactFlowFraudDetectionDecision=i.makeEnum(["HighRisk","LowRisk","Inconclusive","NotEnabled","Error"]),i.CustomerAuthenticationStatus=i.makeEnum(["AUTHENTICATED","FAILED","TIMEOUT"]),i.VideoCapability=i.makeEnum(["SEND"]),i.ScreenShareCapability=i.makeEnum(["SEND"]),i.VoiceIdEnrollmentRequestStatus=i.makeEnum(["NOT_ENOUGH_SPEECH","IN_PROGRESS","COMPLETED","FAILED"]),i.VoiceIdSpeakerStatus=i.makeEnum(["OPTED_OUT","ENROLLED","PENDING"]),i.VoiceIdConstants={EVALUATE_SESSION_DELAY:1e4,EVALUATION_MAX_POLL_TIMES:24,EVALUATION_POLLING_INTERVAL:5e3,ENROLLMENT_MAX_POLL_TIMES:120,ENROLLMENT_POLLING_INTERVAL:5e3,START_SESSION_DELAY:8e3},i.AgentPermissions={OUTBOUND_CALL:"outboundCall",VOICE_ID:"voiceId"};var T=a(function I(){d(this,I)});p(T,"isEnabled",function(){var I=i.isCRM()?i.core.getClient():i.core.getApiProxyClient();return new Promise(function(W,Z){I.call(i.ApiProxyClientMethods.QR_INTEGRATION_EXISTS,null,{success:function(M){i.getLog().info("Quick Responses isEnabled succeeded").withObject(M).sendInternalLogToServer(),W(M)},failure:function(M){i.getLog().error("Quick Responses isEnabled failed").withException(M).sendInternalLogToServer(),Z(M)}})})}),p(T,"searchQuickResponses",function(I){var W=i.isCRM()?i.core.getClient():i.core.getApiProxyClient(),Z=I!=null&&I.contactId?new h(I.contactId).getAttributes():void 0;return new Promise(function(V,M){W.call(i.ApiProxyClientMethods.QR_SEARCH_QUICK_RESPONSES,ie(ie({},I),{},{attributes:Z}),{success:function(Y){i.getLog().info("searchQuickResponses succeeded").withObject(Y).sendInternalLogToServer(),V(Y)},failure:function(Y){i.getLog().error("searchQuickResponses failed").withException(Y).sendInternalLogToServer(),M(Y)}})})});var S=function(){if(!i.agent.initialized)throw new i.StateError("The agent is not yet initialized!")};S.prototype._getData=function(){return i.core.getAgentDataProvider().getAgentData()},S.prototype._createContactAPI=function(I){return new i.Contact(I.contactId)},S.prototype.onRefresh=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.REFRESH,I)},S.prototype.onRoutable=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.ROUTABLE,I)},S.prototype.onNotRoutable=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.NOT_ROUTABLE,I)},S.prototype.onOffline=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.OFFLINE,I)},S.prototype.onError=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.ERROR,I)},S.prototype.onSoftphoneError=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.SOFTPHONE_ERROR,I)},S.prototype.onWebSocketConnectionLost=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.WEBSOCKET_CONNECTION_LOST,I)},S.prototype.onWebSocketConnectionGained=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.WEBSOCKET_CONNECTION_GAINED,I)},S.prototype.onAfterCallWork=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.ACW,I)},S.prototype.onStateChange=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.STATE_CHANGE,I)},S.prototype.onMuteToggle=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.MUTE_TOGGLE,I)},S.prototype.onLocalMediaStreamCreated=function(I){return i.core.getEventBus().subscribe(i.AgentEvents.LOCAL_MEDIA_STREAM_CREATED,I)},S.prototype.onSpeakerDeviceChanged=function(I){return i.core.getEventBus().subscribe(i.ConfigurationEvents.SPEAKER_DEVICE_CHANGED,I)},S.prototype.onMicrophoneDeviceChanged=function(I){return i.core.getEventBus().subscribe(i.ConfigurationEvents.MICROPHONE_DEVICE_CHANGED,I)},S.prototype.onRingerDeviceChanged=function(I){return i.core.getEventBus().subscribe(i.ConfigurationEvents.RINGER_DEVICE_CHANGED,I)},S.prototype.onCameraDeviceChanged=function(I){return i.core.getEventBus().subscribe(i.ConfigurationEvents.CAMERA_DEVICE_CHANGED,I)},S.prototype.onBackgroundBlurChanged=function(I){return i.core.getEventBus().subscribe(i.ConfigurationEvents.BACKGROUND_BLUR_CHANGED,I)},S.prototype.mute=function(){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.EventType.MUTE,data:{mute:!0}})},S.prototype.unmute=function(){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.EventType.MUTE,data:{mute:!1}})},S.prototype.setSpeakerDevice=function(I){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ConfigurationEvents.SET_SPEAKER_DEVICE,data:{deviceId:I}})},S.prototype.setMicrophoneDevice=function(I){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ConfigurationEvents.SET_MICROPHONE_DEVICE,data:{deviceId:I}})},S.prototype.setRingerDevice=function(I){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ConfigurationEvents.SET_RINGER_DEVICE,data:{deviceId:I}})},S.prototype.setCameraDevice=function(I){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ConfigurationEvents.CAMERA_DEVICE_CHANGED,data:{deviceId:I}})},S.prototype.setBackgroundBlur=function(I){i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ConfigurationEvents.BACKGROUND_BLUR_CHANGED,data:{isBackgroundBlurEnabled:I}})},S.prototype.getState=function(){return this._getData().snapshot.state},S.prototype.getNextState=function(){return this._getData().snapshot.nextState},S.prototype.getAvailabilityState=function(){return this._getData().snapshot.agentAvailabilityState},S.prototype.getStatus=S.prototype.getState,S.prototype.getStateDuration=function(){return i.now()-this._getData().snapshot.state.startTimestamp.getTime()+i.core.getSkew()},S.prototype.getStatusDuration=S.prototype.getStateDuration,S.prototype.getPermissions=function(){return this.getConfiguration().permissions},S.prototype.getContacts=function(I){var W=this;return this._getData().snapshot.contacts.map(function(Z){return W._createContactAPI(Z)}).filter(function(Z){return!I||Z.getType()===I})},S.prototype.getConfiguration=function(){return this._getData().configuration},S.prototype.getAgentStates=function(){return this.getConfiguration().agentStates},S.prototype.getRoutingProfile=function(){return this.getConfiguration().routingProfile},S.prototype.getChannelConcurrency=function(I){var W=this.getRoutingProfile().channelConcurrencyMap;return W||(W=Object.keys(i.ChannelType).reduce(function(Z,V){return V!=="TASK"&&(Z[i.ChannelType[V]]=1),Z},{})),I?W[I]||0:W},S.prototype.getName=function(){return this.getConfiguration().name},S.prototype.getAgentARN=function(){return this.getConfiguration().agentARN},S.prototype.getExtension=function(){return this.getConfiguration().extension},S.prototype.getDialableCountries=function(){return this.getConfiguration().dialableCountries},S.prototype.isSoftphoneEnabled=function(){return this.getConfiguration().softphoneEnabled},S.prototype.setConfiguration=function(I,W){var Z=i.core.getClient();I&&I.agentPreferences&&I.agentPreferences.LANGUAGE&&!I.agentPreferences.locale&&(I.agentPreferences.locale=I.agentPreferences.LANGUAGE),I&&I.agentPreferences&&!i.isValidLocale(I.agentPreferences.locale)?W&&W.failure&&W.failure(i.AgentErrorStates.INVALID_LOCALE):Z.call(i.ClientMethods.UPDATE_AGENT_CONFIGURATION,{configuration:i.assertNotNull(I,"configuration")},{success:function(M){var B=i.core.getUpstream();B.sendUpstream(i.EventType.RELOAD_AGENT_CONFIGURATION),W.success&&W.success(M)},failure:W&&W.failure})},S.prototype.setState=function(I,W,Z){var V=i.core.getClient();V.call(i.ClientMethods.PUT_AGENT_STATE,{state:i.assertNotNull(I,"state"),enqueueNextState:Z&&!!Z.enqueueNextState},W)},S.prototype.onEnqueuedNextState=function(I){var W=i.core.getEventBus();W.subscribe(i.AgentEvents.ENQUEUED_NEXT_STATE,I)},S.prototype.setStatus=S.prototype.setState,S.prototype.connect=function(I,W){var Z=i.core.getClient(),V=new i.Endpoint(I);delete V.endpointId;var M={endpoint:i.assertNotNull(V,"endpoint"),queueARN:W&&(W.queueARN||W.queueId)||this.getRoutingProfile().defaultOutboundQueue.queueARN};W&&W.relatedContactId&&W.relatedContactId!==null&&(M.relatedContactId=W.relatedContactId,W.previousContactId&&delete M.previousContactId),Z.call(i.ClientMethods.CREATE_OUTBOUND_CONTACT,M,W&&{success:W.success,failure:W.failure})},S.prototype.getAllQueueARNs=function(){return this.getConfiguration().routingProfile.queues.map(function(I){return I.queueARN})},S.prototype.getEndpoints=function(I,W,Z){var V=this,M=i.core.getClient();i.assertNotNull(W,"callbacks"),i.assertNotNull(W.success,"callbacks.success");var B=Z||{};B.endpoints=B.endpoints||[],B.maxResults=B.maxResults||i.DEFAULT_BATCH_SIZE,i.isArray(I)||(I=[I]),M.call(i.ClientMethods.GET_ENDPOINTS,{queueARNs:I,nextToken:B.nextToken||null,maxResults:B.maxResults},{success:function(K){if(K.nextToken)V.getEndpoints(I,W,{nextToken:K.nextToken,maxResults:B.maxResults,endpoints:B.endpoints.concat(K.endpoints)});else{B.endpoints=B.endpoints.concat(K.endpoints);var q=B.endpoints.map(function(X){return new i.Endpoint(X)});W.success({endpoints:q,addresses:q})}},failure:W.failure})},S.prototype.getAddresses=S.prototype.getEndpoints,S.prototype._getResourceId=function(){var I=this.getAllQueueARNs(),W=v(I),Z;try{for(W.s();!(Z=W.n()).done;){var V=Z.value,M=V.match(/\/agent\/([^/]+)/);if(M)return M[1]}}catch(B){W.e(B)}finally{W.f()}return new Error("Agent.prototype._getResourceId: queueArns did not contain agentResourceId: ",I)},S.prototype.toSnapshot=function(){return new i.AgentSnapshot(this._getData())};var y=function(W){i.Agent.call(this),this.agentData=W};y.prototype=Object.create(S.prototype),y.prototype.constructor=y,y.prototype._getData=function(){return this.agentData},y.prototype._createContactAPI=function(I){return new i.ContactSnapshot(I)};var h=function(W){this.contactId=W};h.prototype._getData=function(){return i.core.getAgentDataProvider().getContactData(this.getContactId())},h.prototype._createConnectionAPI=function(I){return this.getType()===i.ContactType.CHAT?new i.ChatConnection(this.contactId,I.connectionId):this.getType()===i.ContactType.TASK?new i.TaskConnection(this.contactId,I.connectionId):this.getType()===i.ContactType.EMAIL?new i.EmailConnection(this.contactId,I.connectionId):new i.VoiceConnection(this.contactId,I.connectionId)},h.prototype.getEventName=function(I){return i.core.getContactEventName(I,this.getContactId())},h.prototype.onRefresh=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.REFRESH),I)},h.prototype.onIncoming=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.INCOMING),I)},h.prototype.onConnecting=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.CONNECTING),I)},h.prototype.onPending=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.PENDING),I)},h.prototype.onAccepted=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.ACCEPTED),I)},h.prototype.onMissed=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.MISSED),I)},h.prototype.onEnded=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.ENDED),I)},h.prototype.onDestroy=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.DESTROYED),I)},h.prototype.onACW=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.ACW),I)},h.prototype.onConnected=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.CONNECTED),I)},h.prototype.onError=function(I){return i.core.getEventBus().subscribe(this.getEventName(i.ContactEvents.ERROR),I)},h.prototype.getContactId=function(){return this.contactId},h.prototype.getOriginalContactId=function(){return this._getData().initialContactId},h.prototype.getInitialContactId=h.prototype.getOriginalContactId,h.prototype.getType=function(){return this._getData().type},h.prototype.getContactDuration=function(){return this._getData().contactDuration},h.prototype.getState=function(){return this._getData().state},h.prototype.getStatus=h.prototype.getState,h.prototype.getStateDuration=function(){return i.now()-this._getData().state.timestamp.getTime()+i.core.getSkew()},h.prototype.getStatusDuration=h.prototype.getStateDuration,h.prototype.getQueue=function(){return this._getData().queue},h.prototype.getQueueTimestamp=function(){return this._getData().queueTimestamp},h.prototype.getConnections=function(){var I=this;return this._getData().connections.map(function(W){return I.getType()===i.ContactType.CHAT?new i.ChatConnection(I.contactId,W.connectionId):I.getType()===i.ContactType.TASK?new i.TaskConnection(I.contactId,W.connectionId):I.getType()===i.ContactType.EMAIL?new i.EmailConnection(I.contactId,W.connectionId):new i.VoiceConnection(I.contactId,W.connectionId)})},h.prototype.getInitialConnection=function(){return i.find(this.getConnections(),function(I){return I.isInitialConnection()})||null},h.prototype.getActiveInitialConnection=function(){var I=this.getInitialConnection();return I!=null&&I.isActive()?I:null},h.prototype.getThirdPartyConnections=function(){return this.getConnections().filter(function(I){return!I.isInitialConnection()&&I.getType()!==i.ConnectionType.AGENT})},h.prototype.getSingleActiveThirdPartyConnection=function(){return this.getThirdPartyConnections().filter(function(I){return I.isActive()})[0]||null},h.prototype.getAgentConnection=function(){return i.find(this.getConnections(),function(I){var W=I.getType();return W===i.ConnectionType.AGENT||W===i.ConnectionType.MONITORING})},h.prototype.getActiveConnections=function(){return this.getConnections().filter(function(I){return I.isActive()})},h.prototype.hasTwoActiveParticipants=function(){return this.getActiveConnections().length===2},h.prototype.getName=function(){return this._getData().name},h.prototype.getInitiationMethod=function(){return this._getData().initiationMethod},h.prototype.getContactMetadata=function(){return this._getData().contactMetadata},h.prototype.getDescription=function(){return this._getData().description},h.prototype.getRelatedContactId=function(){return this._getData().relatedContactId},h.prototype.getCustomerEndpoint=function(){return this._getData().customerEndpoint},h.prototype.getConnectSystemEndpoint=function(){return this._getData().connectSystemEndpoint},h.prototype.getReferences=function(){return this._getData().references},h.prototype.getAttributes=function(){return this._getData().attributes},h.prototype.getContactFeatures=function(){return this._getData().contactFeatures},h.prototype.getChannelContext=function(){return this._getData().channelContext},h.prototype.getSegmentAttributes=function(){return this._getData().segmentAttributes},h.prototype.getContactSubtype=function(){var I=this.getSegmentAttributes();return I&&I["connect:Subtype"]?I["connect:Subtype"].ValueString:null},h.prototype.isSoftphoneCall=function(){return this.getType()!==i.ContactType.VOICE&&this.getType()!==i.ContactType.QUEUE_CALLBACK?!1:!!this.getConnections().find(function(I){return I.getSoftphoneMediaInfo()})},h.prototype.hasVideoRTCCapabilities=function(){return i.find(this.getConnections(),function(I){return I.canSendVideo&&I.canSendVideo()})!==null},h.prototype.canAgentSendVideo=function(){var I=this.getAgentConnection();return I.canSendVideo&&I.canSendVideo()},h.prototype.canAgentReceiveVideo=function(){var I=this.getInitialConnection();if(I.canSendVideo&&I.canSendVideo())return!0;var W=this.getThirdPartyConnections();return W&&W.length>0&&this.canAgentSendVideo()},h.prototype.hasScreenShareCapability=function(){return i.find(this.getConnections(),function(I){return I.canSendScreenShare&&I.canSendScreenShare()})!==null},h.prototype.canAgentSendScreenShare=function(){var I=this.getAgentConnection();return I.canSendScreenShare&&I.canSendScreenShare()},h.prototype.canCustomerSendScreenShare=function(){var I=this.getInitialConnection();return I.canSendScreenShare&&I.canSendScreenShare()},h.prototype.startScreenSharing=function(){var I=C(u().mark(function W(Z){var V,M,B;return u().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(V=this.getContactId(),this.getContactSubtype()==="connect:WebRTC"){K.next=3;break}throw new Error("Screen sharing is only supported for WebRTC contacts.");case 3:if(this.isConnected()){K.next=5;break}throw new i.StateError("Contact %s is not connected.",V);case 5:if(Z){K.next=11;break}return M=i.isCRM()?i.core.getClient():i.core.getApiProxyClient(),B={InstanceId:i.core.getAgentDataProvider().getInstanceId(),ContactId:V,ParticipantId:this.getAgentConnection().getConnectionId()},K.abrupt("return",new Promise(function(q,X){M.call(i.ApiProxyClientMethods.START_SCREEN_SHARING,B,{success:function(le){i.getLog().info("startScreenSharing succeeded").withObject(le).sendInternalLogToServer(),i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ContactEvents.SCREEN_SHARING_STARTED,data:{contactId:V}}),q(le)},failure:function(le){i.getLog().error("startScreenSharing failed").withException(le).sendInternalLogToServer(),i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ContactEvents.SCREEN_SHARING_ERROR,data:{contactId:V}}),X(le)}})}));case 11:i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ContactEvents.SCREEN_SHARING_STARTED,data:{contactId:V}});case 12:case"end":return K.stop()}},W,this)}));return function(W){return I.apply(this,arguments)}}(),h.prototype.onScreenSharingStarted=function(I){return i.core.getEventBus().subscribe(i.ContactEvents.SCREEN_SHARING_STARTED,I)},h.prototype.stopScreenSharing=C(u().mark(function I(){var W;return u().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(W=this.getContactId(),this.getContactSubtype()==="connect:WebRTC"){V.next=3;break}throw new Error("Screen sharing is only supported for WebRTC contacts.");case 3:if(this.isConnected()){V.next=5;break}throw new i.StateError("Contact %s is not connected.",W);case 5:i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.ContactEvents.SCREEN_SHARING_STOPPED,data:{contactId:W}});case 6:case"end":return V.stop()}},I,this)})),h.prototype.onScreenSharingStopped=function(I){return i.core.getEventBus().subscribe(i.ContactEvents.SCREEN_SHARING_STOPPED,I)},h.prototype.onScreenSharingError=function(I){return i.core.getEventBus().subscribe(i.ContactEvents.SCREEN_SHARING_ERROR,I)},h.prototype._isInbound=function(){var I=this._getData().initiationMethod;return I!==i.ContactInitiationMethod.OUTBOUND},h.prototype.isInbound=function(){var I=this.getInitialConnection();return[i.MediaType.TASK,i.MediaType.EMAIL].includes(I.getMediaType())?this._isInbound():I?I.getType()===i.ConnectionType.INBOUND:!1},h.prototype.isConnected=function(){return this.getStatus().type===i.ContactStateType.CONNECTED},h.prototype.accept=function(I){var W=i.core.getClient(),Z=this,V=this.getContactId();i.publishClickStreamData({contactId:this.getContactId(),clickType:i.ClickType.ACCEPT,clickTime:new Date().toISOString()}),W.call(i.ClientMethods.ACCEPT_CONTACT,{contactId:V},{success:function(B){var Y=i.core.getUpstream();Y.sendUpstream(i.EventType.BROADCAST,{event:i.ContactEvents.ACCEPTED,data:new i.Contact(V)}),Y.sendUpstream(i.EventType.BROADCAST,{event:i.core.getContactEventName(i.ContactEvents.ACCEPTED,Z.getContactId()),data:new i.Contact(V)});var K=new i.Contact(V);i.isFirefoxBrowser()&&K.isSoftphoneCall()&&i.core.triggerReadyToStartSessionEvent(),I&&I.success&&I.success(B)},failure:function(B,Y){i.getLog().error("Accept Contact failed").sendInternalLogToServer().withException(B).withObject({data:Y}),i.publishMetric({name:"ContactAcceptFailure",data:{count:1}}),I&&I.failure&&I.failure(i.ContactStateType.ERROR)}})},h.prototype.destroy=function(){i.getLog().warn("contact.destroy() has been deprecated.")},h.prototype.reject=function(I){var W=i.core.getClient();i.publishClickStreamData({contactId:this.getContactId(),clickType:i.ClickType.REJECT,clickTime:new Date().toISOString()}),W.call(i.ClientMethods.REJECT_CONTACT,{contactId:this.getContactId()},I)},h.prototype.complete=function(I){var W=i.core.getClient();W.call(i.ClientMethods.COMPLETE_CONTACT,{contactId:this.getContactId()},I)},h.prototype.clear=function(I){var W=i.core.getClient();W.call(i.ClientMethods.CLEAR_CONTACT,{contactId:this.getContactId()},I)},h.prototype.notifyIssue=function(I,W,Z){var V=i.core.getClient();V.call(i.ClientMethods.NOTIFY_CONTACT_ISSUE,{contactId:this.getContactId(),issueCode:I,description:W},Z)},h.prototype.addConnection=function(I,W){var Z=i.core.getClient(),V=new i.Endpoint(I);delete V.endpointId,Z.call(i.ClientMethods.CREATE_ADDITIONAL_CONNECTION,{contactId:this.getContactId(),endpoint:V},W)},h.prototype.toggleActiveConnections=function(I){var W=i.core.getClient(),Z=null,V=i.find(this.getConnections(),function(B){return B.getStatus().type===i.ConnectionStateType.HOLD});if(V!=null)Z=V.getConnectionId();else{var M=this.getConnections().filter(function(B){return B.isActive()});M.length>0&&(Z=M[0].getConnectionId())}W.call(i.ClientMethods.TOGGLE_ACTIVE_CONNECTIONS,{contactId:this.getContactId(),connectionId:Z},I)},h.prototype.sendSoftphoneMetrics=function(I,W){var Z=i.core.getClient();Z.call(i.ClientMethods.SEND_SOFTPHONE_CALL_METRICS,{contactId:this.getContactId(),ccpVersion:s.ccpVersion,softphoneStreamStatistics:I},W),i.publishSoftphoneStats({contactId:this.getContactId(),ccpVersion:s.ccpVersion,stats:I})},h.prototype.sendSoftphoneReport=function(I,W){var Z=i.core.getClient();Z.call(i.ClientMethods.SEND_SOFTPHONE_CALL_REPORT,{contactId:this.getContactId(),ccpVersion:s.ccpVersion,report:I},W)},h.prototype.conferenceConnections=function(I){var W=i.core.getClient();W.call(i.ClientMethods.CONFERENCE_CONNECTIONS,{contactId:this.getContactId()},I)},h.prototype.toSnapshot=function(){return new i.ContactSnapshot(this._getData())},h.prototype.isMultiPartyConferenceEnabled=function(){var I=this.getContactFeatures();return!!(I&&I.multiPartyConferenceEnabled)},h.prototype.updateMonitorParticipantState=function(I,W){if(!I||!Object.values(i.MonitoringMode).includes(I.toUpperCase()))i.getLog().error("Invalid target state was provided: ".concat(I)).sendInternalLogToServer(),W&&W.failure&&W.failure(i.MonitoringErrorTypes.INVALID_TARGET_STATE);else{var Z=i.core.getClient();Z.call(i.ClientMethods.UPDATE_MONITOR_PARTICIPANT_STATE,{contactId:this.getContactId(),targetMonitorMode:I.toUpperCase()},W)}},h.prototype.isUnderSupervision=function(){var I=this.getConnections().filter(function(Z){return Z.getType()!==i.ConnectionType.AGENT}),W=I&&I.find(function(Z){return Z.isBarge()&&Z.isActive()});return W!==void 0},h.prototype.silentMonitor=function(I){return this.updateMonitorParticipantState(i.MonitoringMode.SILENT_MONITOR,I)},h.prototype.bargeIn=function(I){return this.updateMonitorParticipantState(i.MonitoringMode.BARGE,I)},h.prototype.pause=function(I){var W=i.core.getClient();W.call(i.ClientMethods.PAUSE_CONTACT,{contactId:this.getContactId()},I)},h.prototype.resume=function(I){var W=i.core.getClient();W.call(i.ClientMethods.RESUME_CONTACT,{contactId:this.getContactId()},I)},h.prototype.addParticipant=function(I,W){var Z=i.core.getClient(),V=new i.Endpoint(I);delete V.endpointId,Z.call(i.ClientMethods.ADD_NEW_CONNECTION,{contactId:this.getContactId(),endpoint:V},W)},h.prototype.transfer=function(I,W){var Z=i.core.getClient(),V=new i.Endpoint(I);delete V.endpointId,Z.call(i.ClientMethods.TRANSFER_CONTACT,{contactId:this.getContactId(),endpoint:V},W)};var b=function(W){i.Contact.call(this,W.contactId),this.contactData=W};b.prototype=Object.create(h.prototype),b.prototype.constructor=b,b.prototype._getData=function(){return this.contactData},b.prototype._createConnectionAPI=function(I){return new i.ConnectionSnapshot(I)};var A=function(W,Z){this.contactId=W,this.connectionId=Z,this._initMediaController()};A.prototype._getData=function(){return i.core.getAgentDataProvider().getConnectionData(this.getContactId(),this.getConnectionId())},A.prototype.getContactId=function(){return this.contactId},A.prototype.getConnectionId=function(){return this.connectionId},A.prototype.getEndpoint=function(){return new i.Endpoint(this._getData().endpoint)},A.prototype.getAddress=A.prototype.getEndpoint,A.prototype.getState=function(){return this._getData().state},A.prototype.getStatus=A.prototype.getState,A.prototype.getStateDuration=function(){return i.now()-this._getData().state.timestamp.getTime()+i.core.getSkew()},A.prototype.getStatusDuration=A.prototype.getStateDuration,A.prototype.getType=function(){return this._getData().type},A.prototype.isInitialConnection=function(){return this._getData().initial},A.prototype.isActive=function(){return i.contains(i.CONNECTION_ACTIVE_STATES,this.getStatus().type)},A.prototype.isConnected=function(){return i.contains(i.CONNECTION_CONNECTED_STATES,this.getStatus().type)},A.prototype.isConnecting=function(){return this.getStatus().type===i.ConnectionStateType.CONNECTING},A.prototype.isOnHold=function(){return this.getStatus().type===i.ConnectionStateType.HOLD},A.prototype.getSoftphoneMediaInfo=function(){return this._getData().softphoneMediaInfo},A.prototype.getMonitorInfo=function(){return this._getData().monitoringInfo},A.prototype.destroy=function(I){i.publishClickStreamData({contactId:this.getContactId(),clickType:i.ClickType.HANGUP,clickTime:new Date().toISOString()});var W=i.core.getClient();W.call(i.ClientMethods.DESTROY_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},I)},A.prototype.sendDigits=function(I,W){var Z=i.core.getClient();Z.call(i.ClientMethods.SEND_DIGITS,{contactId:this.getContactId(),connectionId:this.getConnectionId(),digits:I},W)},A.prototype.hold=function(I){var W=i.core.getClient();W.call(i.ClientMethods.HOLD_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},I)},A.prototype.resume=function(I){var W=i.core.getClient();W.call(i.ClientMethods.RESUME_CONNECTION,{contactId:this.getContactId(),connectionId:this.getConnectionId()},I)},A.prototype.toSnapshot=function(){return new i.ConnectionSnapshot(this._getData())},A.prototype._initMediaController=function(){this.getMediaInfo()&&i.core.mediaFactory.get(this).catch(function(){})},A.prototype._isAgentConnectionType=function(){var I=this.getType();return I===i.ConnectionType.AGENT||I===i.ConnectionType.MONITORING},A.prototype._isAgentConnectionType=function(){var I=this.getType();return I===i.ConnectionType.AGENT||I===i.ConnectionType.MONITORING};var r=function(W){this.contactId=W};r.prototype.getSpeakerId=function(){var I=this;I.checkConferenceCall();var W=i.core.getClient();return new Promise(function(Z,V){var M={contactId:I.contactId,instanceId:i.core.getAgentDataProvider().getInstanceId(),awsAccountId:i.core.getAgentDataProvider().getAWSAccountId()};i.getLog().info("getSpeakerId called").withObject(M).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.GET_CONTACT,M,{success:function(Y){if(Y.contactData.customerId){var K={speakerId:Y.contactData.customerId};i.getLog().info("getSpeakerId succeeded").withObject(Y).sendInternalLogToServer(),Z(K)}else{var q=i.VoiceIdError(i.VoiceIdErrorTypes.NO_SPEAKER_ID_FOUND,"No speakerId assotiated with this call");V(q)}},failure:function(Y){i.getLog().error("Get SpeakerId failed").withObject({err:Y}).sendInternalLogToServer();var K=i.VoiceIdError(i.VoiceIdErrorTypes.GET_SPEAKER_ID_FAILED,"Get SpeakerId failed",Y);V(K)}})})},r.prototype.getSpeakerStatus=function(){var I=this;I.checkConferenceCall();var W=i.core.getClient();return new Promise(function(Z,V){I.getSpeakerId().then(function(M){I.getDomainId().then(function(B){var Y={SpeakerId:i.assertNotNull(M.speakerId,"speakerId"),DomainId:B};i.getLog().info("getSpeakerStatus called").withObject(Y).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.DESCRIBE_SPEAKER,Y,{success:function(q){i.getLog().info("getSpeakerStatus succeeded").withObject(q).sendInternalLogToServer(),Z(q)},failure:function(q){var X,se=JSON.parse(q);switch(se.status){case 400:case 404:var le=se;le.type=le.type?le.type:i.VoiceIdErrorTypes.SPEAKER_ID_NOT_ENROLLED,i.getLog().info("Speaker is not enrolled.").sendInternalLogToServer(),Z(le);break;default:i.getLog().error("getSpeakerStatus failed").withObject({err:q}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.GET_SPEAKER_STATUS_FAILED,"Get SpeakerStatus failed",q);V(X)}}})}).catch(function(B){V(B)})}).catch(function(M){V(M)})})},r.prototype._optOutSpeakerInLcms=function(I,W){var Z=this,V=i.core.getClient();return new Promise(function(M,B){var Y={ContactId:Z.contactId,InstanceId:i.core.getAgentDataProvider().getInstanceId(),AWSAccountId:i.core.getAgentDataProvider().getAWSAccountId(),CustomerId:i.assertNotNull(I,"speakerId"),VoiceIdResult:{SpeakerOptedOut:!0,generatedSpeakerId:W}};i.getLog().info("_optOutSpeakerInLcms called").withObject(Y).sendInternalLogToServer(),V.call(i.AgentAppClientMethods.UPDATE_VOICE_ID_DATA,Y,{success:function(q){i.getLog().info("optOutSpeakerInLcms succeeded").withObject(q).sendInternalLogToServer(),M(q)},failure:function(q){i.getLog().error("optOutSpeakerInLcms failed").withObject({err:q}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.OPT_OUT_SPEAKER_IN_LCMS_FAILED,"optOutSpeakerInLcms failed",q);B(X)}})})},r.prototype.optOutSpeaker=function(){var I=this;I.checkConferenceCall();var W=i.core.getClient();return new Promise(function(Z,V){I.getSpeakerId().then(function(M){I.getDomainId().then(function(B){var Y=M.speakerId,K={SpeakerId:i.assertNotNull(Y,"speakerId"),DomainId:B};i.getLog().info("optOutSpeaker called").withObject(K).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.OPT_OUT_SPEAKER,K,{success:function(X){I._optOutSpeakerInLcms(Y,X.generatedSpeakerId).catch(function(){}),i.getLog().info("optOutSpeaker succeeded").withObject(X).sendInternalLogToServer(),Z(X)},failure:function(X){i.getLog().error("optOutSpeaker failed").withObject({err:X}).sendInternalLogToServer();var se=i.VoiceIdError(i.VoiceIdErrorTypes.OPT_OUT_SPEAKER_FAILED,"optOutSpeaker failed.",X);V(se)}})}).catch(function(B){V(B)})}).catch(function(M){V(M)})})},r.prototype.deleteSpeaker=function(){var I=this;I.checkConferenceCall();var W=i.core.getClient();return new Promise(function(Z,V){I.getSpeakerId().then(function(M){I.getDomainId().then(function(B){var Y={SpeakerId:i.assertNotNull(M.speakerId,"speakerId"),DomainId:B};i.getLog().info("deleteSpeaker called").withObject(Y).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.DELETE_SPEAKER,Y,{success:function(q){i.getLog().info("deleteSpeaker succeeded").withObject(q).sendInternalLogToServer(),Z(q)},failure:function(q){i.getLog().error("deleteSpeaker failed").withObject({err:q}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.DELETE_SPEAKER_FAILED,"deleteSpeaker failed.",q);V(X)}})}).catch(function(B){V(B)})}).catch(function(M){V(M)})})},r.prototype.startSession=function(){var I=this;I.checkConferenceCall();var W=i.core.getClient();return new Promise(function(Z,V){I.getDomainId().then(function(M){var B={contactId:I.contactId,instanceId:i.core.getAgentDataProvider().getInstanceId(),customerAccountId:i.core.getAgentDataProvider().getAWSAccountId(),clientToken:AWS.util.uuid.v4(),domainId:M};i.getLog().info("startSession called").withObject(B).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.START_VOICE_ID_SESSION,B,{success:function(K){if(K.sessionId)Z(K);else{i.getLog().error("startVoiceIdSession failed, no session id returned").withObject({data:K}).sendInternalLogToServer();var q=i.VoiceIdError(i.VoiceIdErrorTypes.START_SESSION_FAILED,"No session id returned from start session api");V(q)}},failure:function(K){i.getLog().error("startVoiceIdSession failed").withObject({err:K}).sendInternalLogToServer();var q=i.VoiceIdError(i.VoiceIdErrorTypes.START_SESSION_FAILED,"startVoiceIdSession failed",K);V(q)}})}).catch(function(M){V(M)})})},r.prototype.evaluateSpeaker=function(I){var W=this;W.checkConferenceCall();var Z=i.core.getClient(),V=i.core.getAgentDataProvider().getContactData(this.contactId),M=0;return new Promise(function(B,Y){function K(){W.getDomainId().then(function(q){var X={SessionNameOrId:V.initialContactId||this.contactId,DomainId:q};i.getLog().info("evaluateSpeaker called").withObject(X).sendInternalLogToServer(),Z.call(i.AgentAppClientMethods.EVALUATE_SESSION,X,{success:function(le){if(++M<i.VoiceIdConstants.EVALUATION_MAX_POLL_TIMES)if(le.StreamingStatus===i.VoiceIdStreamingStatus.PENDING_CONFIGURATION)setTimeout(K,i.VoiceIdConstants.EVALUATION_POLLING_INTERVAL);else{if(le.AuthenticationResult||(le.AuthenticationResult={},le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.NOT_ENABLED),le.FraudDetectionResult||(le.FraudDetectionResult={},le.FraudDetectionResult.Decision=i.ContactFlowFraudDetectionDecision.NOT_ENABLED),!W.isAuthEnabled(le.AuthenticationResult.Decision)&&!W.isFraudEnabled(le.FraudDetectionResult.Decision)){i.getLog().info("evaluateSpeaker succeeded").withObject(le).sendInternalLogToServer(),B(le);return}if(le.StreamingStatus===i.VoiceIdStreamingStatus.ENDED&&(W.isAuthResultNotEnoughSpeech(le.AuthenticationResult.Decision)&&(le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.INCONCLUSIVE),W.isFraudResultNotEnoughSpeech(le.FraudDetectionResult.Decision)&&(le.FraudDetectionResult.Decision=i.ContactFlowFraudDetectionDecision.INCONCLUSIVE)),W.isAuthResultInconclusive(le.AuthenticationResult.Decision)&&W.isFraudResultInconclusive(le.FraudDetectionResult.Decision)){i.getLog().info("evaluateSpeaker succeeded").withObject(le).sendInternalLogToServer(),B(le);return}if(!W.isAuthResultNotEnoughSpeech(le.AuthenticationResult.Decision)&&W.isAuthEnabled(le.AuthenticationResult.Decision))switch(le.AuthenticationResult.Decision){case i.VoiceIdAuthenticationDecision.ACCEPT:le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.AUTHENTICATED;break;case i.VoiceIdAuthenticationDecision.REJECT:le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.NOT_AUTHENTICATED;break;case i.VoiceIdAuthenticationDecision.SPEAKER_OPTED_OUT:le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.OPTED_OUT;break;case i.VoiceIdAuthenticationDecision.SPEAKER_NOT_ENROLLED:le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.NOT_ENROLLED;break;default:le.AuthenticationResult.Decision=i.ContactFlowAuthenticationDecision.ERROR}if(!W.isFraudResultNotEnoughSpeech(le.FraudDetectionResult.Decision)&&W.isFraudEnabled(le.FraudDetectionResult.Decision))switch(le.FraudDetectionResult.Decision){case i.VoiceIdFraudDetectionDecision.HIGH_RISK:le.FraudDetectionResult.Decision=i.ContactFlowFraudDetectionDecision.HIGH_RISK;break;case i.VoiceIdFraudDetectionDecision.LOW_RISK:le.FraudDetectionResult.Decision=i.ContactFlowFraudDetectionDecision.LOW_RISK;break;default:le.FraudDetectionResult.Decision=i.ContactFlowFraudDetectionDecision.ERROR}if(!W.isAuthResultNotEnoughSpeech(le.AuthenticationResult.Decision)&&!W.isFraudResultNotEnoughSpeech(le.FraudDetectionResult.Decision)){i.getLog().info("evaluateSpeaker succeeded").withObject(le).sendInternalLogToServer(),B(le);return}else setTimeout(K,i.VoiceIdConstants.EVALUATION_POLLING_INTERVAL)}else{i.getLog().error("evaluateSpeaker timeout").sendInternalLogToServer();var ve=i.VoiceIdError(i.VoiceIdErrorTypes.EVALUATE_SPEAKER_TIMEOUT,"evaluateSpeaker timeout");Y(ve)}},failure:function(le){var ve,_e=JSON.parse(le);switch(_e.status){case 400:case 404:ve=i.VoiceIdError(i.VoiceIdErrorTypes.SESSION_NOT_EXISTS,"evaluateSpeaker failed, session not exists",le),i.getLog().error("evaluateSpeaker failed, session not exists").withObject({err:le}).sendInternalLogToServer();break;default:ve=i.VoiceIdError(i.VoiceIdErrorTypes.EVALUATE_SPEAKER_FAILED,"evaluateSpeaker failed",le),i.getLog().error("evaluateSpeaker failed").withObject({err:le}).sendInternalLogToServer()}Y(ve)}})}).catch(function(q){Y(q)})}I?W.startSession().then(function(q){W.syncSpeakerId().then(function(X){setTimeout(K,i.VoiceIdConstants.EVALUATE_SESSION_DELAY)}).catch(function(X){i.getLog().error("syncSpeakerId failed when session startNew=true").withObject({err:X}).sendInternalLogToServer(),Y(X)})}).catch(function(q){i.getLog().error("startSession failed when session startNew=true").withObject({err:q}).sendInternalLogToServer(),Y(q)}):W.syncSpeakerId().then(function(){K()}).catch(function(q){i.getLog().error("syncSpeakerId failed when session startNew=false").withObject({err:q}).sendInternalLogToServer(),Y(q)})})},r.prototype.describeSession=function(){var I=this,W=i.core.getClient(),Z=i.core.getAgentDataProvider().getContactData(this.contactId);return new Promise(function(V,M){I.getDomainId().then(function(B){var Y={SessionNameOrId:Z.initialContactId||this.contactId,DomainId:B};i.getLog().info("describeSession called").withObject(Y).sendInternalLogToServer(),W.call(i.AgentAppClientMethods.DESCRIBE_SESSION,Y,{success:function(q){V(q)},failure:function(q){i.getLog().error("describeSession failed").withObject({err:q}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.DESCRIBE_SESSION_FAILED,"describeSession failed",q);M(X)}})}).catch(function(B){M(B)})})},r.prototype.checkEnrollmentStatus=function(I){i.getLog().info("checkEnrollmentStatus called").sendInternalLogToServer();var W=this,Z=0,V=!1;return new Promise(function(M,B){function Y(){if(++Z<i.VoiceIdConstants.ENROLLMENT_MAX_POLL_TIMES)W.describeSession().then(function(q){switch(q.Session.EnrollmentRequestDetails.Status){case i.VoiceIdEnrollmentRequestStatus.COMPLETED:M(q);break;case i.VoiceIdEnrollmentRequestStatus.IN_PROGRESS:!V&&typeof I=="function"&&(I(q),V=!0),setTimeout(Y,i.VoiceIdConstants.ENROLLMENT_POLLING_INTERVAL);break;case i.VoiceIdEnrollmentRequestStatus.NOT_ENOUGH_SPEECH:q.Session.StreamingStatus!==i.VoiceIdStreamingStatus.ENDED?setTimeout(Y,i.VoiceIdConstants.ENROLLMENT_POLLING_INTERVAL):setTimeout(function(){W.startSession().then(function(le){Y()}).catch(function(le,ve){B(le)})},i.VoiceIdConstants.START_SESSION_DELAY);break;default:var X=q.Session.EnrollmentRequestDetails.Message?q.Session.EnrollmentRequestDetails.Message:"enrollSpeaker failed. Unknown enrollment status has been received";i.getLog().error(X).sendInternalLogToServer();var se=i.VoiceIdError(i.VoiceIdErrorTypes.ENROLL_SPEAKER_FAILED,X,q.Session.EnrollmentRequestDetails.Status);B(se)}});else{i.getLog().error("enrollSpeaker timeout").sendInternalLogToServer();var K=i.VoiceIdError(i.VoiceIdErrorTypes.ENROLL_SPEAKER_TIMEOUT,"enrollSpeaker timeout");B(K)}}Y()})},r.prototype.enrollSpeaker=function(I){i.getLog().info("enrollSpeaker called").sendInternalLogToServer();var W=this;return W.checkConferenceCall(),new Promise(function(Z,V){W.syncSpeakerId().then(function(){W.getSpeakerStatus().then(function(M){M.Speaker&&M.Speaker.Status==i.VoiceIdSpeakerStatus.OPTED_OUT?W.deleteSpeaker().then(function(){W.enrollSpeakerHelper(Z,V,I)}).catch(function(B){V(B)}):W.enrollSpeakerHelper(Z,V,I)}).catch(function(M){V(M)})}).catch(function(M){V(M)})})},r.prototype.enrollSpeakerHelper=function(I,W,Z){var V=this,M=i.core.getClient(),B=i.core.getAgentDataProvider().getContactData(this.contactId);V.getDomainId().then(function(Y){var K={SessionNameOrId:B.initialContactId||this.contactId,DomainId:Y};i.getLog().info("enrollSpeakerHelper called").withObject(K).sendInternalLogToServer(),M.call(i.AgentAppClientMethods.ENROLL_BY_SESSION,K,{success:function(X){X.Status===i.VoiceIdEnrollmentRequestStatus.COMPLETED?(i.getLog().info("enrollSpeaker succeeded").withObject(X).sendInternalLogToServer(),I(X)):V.checkEnrollmentStatus(Z).then(function(se){i.getLog().info("enrollSpeaker succeeded").withObject(se).sendInternalLogToServer(),I(se)}).catch(function(se){W(se)})},failure:function(X){i.getLog().error("enrollSpeaker failed").withObject({err:X}).sendInternalLogToServer();var se=i.VoiceIdError(i.VoiceIdErrorTypes.ENROLL_SPEAKER_FAILED,"enrollSpeaker failed",X);W(se)}})}).catch(function(Y){W(Y)})},r.prototype._updateSpeakerIdInLcms=function(I,W){var Z=this,V=i.core.getClient();return new Promise(function(M,B){var Y={ContactId:Z.contactId,InstanceId:i.core.getAgentDataProvider().getInstanceId(),AWSAccountId:i.core.getAgentDataProvider().getAWSAccountId(),CustomerId:i.assertNotNull(I,"speakerId"),VoiceIdResult:{generatedSpeakerId:W}};i.getLog().info("_updateSpeakerIdInLcms called").withObject(Y).sendInternalLogToServer(),V.call(i.AgentAppClientMethods.UPDATE_VOICE_ID_DATA,Y,{success:function(q){i.getLog().info("updateSpeakerIdInLcms succeeded").withObject(q).sendInternalLogToServer(),M(q)},failure:function(q){i.getLog().error("updateSpeakerIdInLcms failed").withObject({err:q}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.UPDATE_SPEAKER_ID_IN_LCMS_FAILED,"updateSpeakerIdInLcms failed",q);B(X)}})})},r.prototype.updateSpeakerIdInVoiceId=function(I){var W=this;W.checkConferenceCall();var Z=i.core.getClient(),V=i.core.getAgentDataProvider().getContactData(this.contactId);return new Promise(function(M,B){W.getDomainId().then(function(Y){var K={SessionNameOrId:V.initialContactId||this.contactId,SpeakerId:i.assertNotNull(I,"speakerId"),DomainId:Y};i.getLog().info("updateSpeakerIdInVoiceId called").withObject(K).sendInternalLogToServer(),Z.call(i.AgentAppClientMethods.UPDATE_SESSION,K,{success:function(X){i.getLog().info("updateSpeakerIdInVoiceId succeeded").withObject(X).sendInternalLogToServer();var se=X&&X.Session&&X.Session.GeneratedSpeakerId;W._updateSpeakerIdInLcms(I,se).then(function(){M(X)}).catch(function(le){B(le)})},failure:function(X){var se,le=JSON.parse(X);switch(le.status){case 400:case 404:se=i.VoiceIdError(i.VoiceIdErrorTypes.SESSION_NOT_EXISTS,"updateSpeakerIdInVoiceId failed, session not exists",X),i.getLog().error("updateSpeakerIdInVoiceId failed, session not exists").withObject({err:X}).sendInternalLogToServer();break;default:se=i.VoiceIdError(i.VoiceIdErrorTypes.UPDATE_SPEAKER_ID_FAILED,"updateSpeakerIdInVoiceId failed",X),i.getLog().error("updateSpeakerIdInVoiceId failed").withObject({err:X}).sendInternalLogToServer()}B(se)}})}).catch(function(Y){B(Y)})})},r.prototype.syncSpeakerId=function(){i.getLog().info("syncSpeakerId called").sendInternalLogToServer();var I=this;return new Promise(function(W,Z){I.getSpeakerId().then(function(V){I.updateSpeakerIdInVoiceId(V.speakerId).then(function(M){W(M)}).catch(function(M){Z(M)})}).catch(function(V){Z(V)})})},r.prototype.getDomainId=function(){return new Promise(function(I,W){var Z=new i.Agent;if(!Z.getPermissions().includes(i.AgentPermissions.VOICE_ID))W(new Error("Agent doesn't have the permission for Voice ID"));else if(i.core.voiceIdDomainId)I(i.core.voiceIdDomainId);else{var V=i.core.getClient(),M={InstanceId:i.core.getAgentDataProvider().getInstanceId(),IntegrationType:"VOICE_ID"};i.getLog().info("getDomainId called").withObject(M).sendInternalLogToServer(),V.call(i.AgentAppClientMethods.LIST_INTEGRATION_ASSOCIATIONS,M,{success:function(Y){try{var K;if(Y.IntegrationAssociationSummaryList.length>=1){var q=Y.IntegrationAssociationSummaryList[0].IntegrationArn;K=q.replace(/^.*domain\//i,"")}if(!K){i.getLog().info("getDomainId: no domainId found").sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.NO_DOMAIN_ID_FOUND);W(X);return}i.getLog().info("getDomainId succeeded").withObject(Y).sendInternalLogToServer(),i.core.getUpstream().sendUpstream(i.EventType.BROADCAST,{event:i.VoiceIdEvents.UPDATE_DOMAIN_ID,data:{domainId:K}}),I(K)}catch(se){i.getLog().error("getDomainId failed").withObject({err:se}).sendInternalLogToServer();var X=i.VoiceIdError(i.VoiceIdErrorTypes.GET_DOMAIN_ID_FAILED,"getDomainId failed",se);W(X)}},failure:function(Y){i.getLog().error("getDomainId failed").withObject({err:Y}).sendInternalLogToServer();var K=i.VoiceIdError(i.VoiceIdErrorTypes.GET_DOMAIN_ID_FAILED,"getDomainId failed",Y);W(K)}})}})},r.prototype.checkConferenceCall=function(){var I=this,W=i.core.getAgentDataProvider().getContactData(I.contactId).connections.filter(function(Z){return i.contains(i.CONNECTION_ACTIVE_STATES,Z.state.type)}).length>2;if(W)throw new i.NotImplementedError("VoiceId is not supported for conference calls")},r.prototype.isAuthEnabled=function(I){return I!==i.ContactFlowAuthenticationDecision.NOT_ENABLED},r.prototype.isAuthResultNotEnoughSpeech=function(I){return I===i.VoiceIdAuthenticationDecision.NOT_ENOUGH_SPEECH},r.prototype.isAuthResultInconclusive=function(I){return I===i.ContactFlowAuthenticationDecision.INCONCLUSIVE},r.prototype.isFraudEnabled=function(I){return I!==i.ContactFlowFraudDetectionDecision.NOT_ENABLED},r.prototype.isFraudResultNotEnoughSpeech=function(I){return I===i.VoiceIdFraudDetectionDecision.NOT_ENOUGH_SPEECH},r.prototype.isFraudResultInconclusive=function(I){return I===i.ContactFlowFraudDetectionDecision.INCONCLUSIVE};var w=function(W,Z){this._speakerAuthenticator=new r(W),A.call(this,W,Z)};w.prototype=Object.create(A.prototype),w.prototype.constructor=w,w.prototype.getSoftphoneMediaInfo=function(){return this._getData().softphoneMediaInfo},w.prototype.getMediaInfo=function(){return this._getData().softphoneMediaInfo},w.prototype.getMediaType=function(){return i.MediaType.SOFTPHONE},w.prototype.getMediaController=function(){return i.core.mediaFactory.get(this)},w.prototype.getVoiceIdSpeakerId=function(){return this._speakerAuthenticator.getSpeakerId()},w.prototype.getVoiceIdSpeakerStatus=function(){return this._speakerAuthenticator.getSpeakerStatus()},w.prototype.optOutVoiceIdSpeaker=function(){return this._speakerAuthenticator.optOutSpeaker()},w.prototype.deleteVoiceIdSpeaker=function(){return this._speakerAuthenticator.deleteSpeaker()},w.prototype.evaluateSpeakerWithVoiceId=function(I){return this._speakerAuthenticator.evaluateSpeaker(I)},w.prototype.enrollSpeakerInVoiceId=function(I){return this._speakerAuthenticator.enrollSpeaker(I)},w.prototype.updateVoiceIdSpeakerId=function(I){return this._speakerAuthenticator.updateSpeakerIdInVoiceId(I)},w.prototype.getQuickConnectName=function(){return this._getData().quickConnectName},w.prototype.isSilentMonitor=function(){return this.getMonitorStatus()===i.MonitoringMode.SILENT_MONITOR},w.prototype.isBarge=function(){return this.getMonitorStatus()===i.MonitoringMode.BARGE},w.prototype.isBargeEnabled=function(){var I=this.getMonitorCapabilities();return I&&I.includes(i.MonitoringMode.BARGE)},w.prototype.isSilentMonitorEnabled=function(){var I=this.getMonitorCapabilities();return I&&I.includes(i.MonitoringMode.SILENT_MONITOR)},w.prototype.getMonitorCapabilities=function(){return this._getData().monitorCapabilities},w.prototype.getMonitorStatus=function(){return this._getData().monitorStatus},w.prototype.isMute=function(){return this._getData().mute},w.prototype.isForcedMute=function(){return this._getData().forcedMute},w.prototype.muteParticipant=function(I){var W=i.core.getClient();W.call(i.ClientMethods.MUTE_PARTICIPANT,{contactId:this.getContactId(),connectionId:this.getConnectionId()},I)},w.prototype.unmuteParticipant=function(I){var W=i.core.getClient();W.call(i.ClientMethods.UNMUTE_PARTICIPANT,{contactId:this.getContactId(),connectionId:this.getConnectionId()},I)},w.prototype.canSendVideo=function(){var I=this.getCapabilities();return I&&I.Video===i.VideoCapability.SEND},w.prototype.canSendScreenShare=function(){var I=this.getCapabilities();return I&&I.ScreenShare===i.ScreenShareCapability.SEND},w.prototype.getCapabilities=function(){return this._getData().capabilities},w.prototype.getVideoConnectionInfo=function(){var I=i.core.getClient(),W={transportType:i.TRANSPORT_TYPES.WEB_RTC,contactId:this.contactId};return new Promise(function(Z,V){I.call(i.ClientMethods.CREATE_TRANSPORT,W,{success:function(B){i.getLog().info("getVideoConnectionInfo succeeded").sendInternalLogToServer(),Z(B.webRTCTransport)},failure:function(B,Y){i.getLog().error("getVideoConnectionInfo failed").sendInternalLogToServer().withObject({err:B,data:Y}),V(Error("getVideoConnectionInfo failed"))}})})};var O=function(W,Z){A.call(this,W,Z)};O.prototype=Object.create(A.prototype),O.prototype.constructor=O,O.prototype.getMediaInfo=function(){var I=this._getData().chatMediaInfo;if(I){var W=i.core.getAgentDataProvider().getContactData(this.contactId),Z={contactId:this.contactId,initialContactId:W.initialContactId||this.contactId,participantId:this.connectionId,getConnectionToken:i.hitch(this,this.getConnectionToken)};if(I.connectionData)try{Z.participantToken=JSON.parse(I.connectionData).ConnectionAuthenticationToken}catch(V){i.getLog().error(i.LogComponent.CHAT,"Connection data is invalid").withObject(I).withException(V).sendInternalLogToServer(),Z.participantToken=null}return Z.participantToken=Z.participantToken||null,Z.originalInfo=this._getData().chatMediaInfo,Z}else return null},O.prototype.getConnectionToken=function(){var I=i.core.getClient();i.core.getAgentDataProvider().getContactData(this.contactId);var W={transportType:i.TRANSPORT_TYPES.CHAT_TOKEN,participantId:this.connectionId,contactId:this.contactId};return new Promise(function(Z,V){I.call(i.ClientMethods.CREATE_TRANSPORT,W,{success:function(B){i.getLog().info("getConnectionToken succeeded").sendInternalLogToServer(),Z(B)},failure:function(B,Y){i.getLog().error("getConnectionToken failed").sendInternalLogToServer().withObject({err:B,data:Y}),V(Error("getConnectionToken failed"))}})})},O.prototype.getMediaType=function(){return i.MediaType.CHAT},O.prototype.getMediaController=function(){return i.core.mediaFactory.get(this)},O.prototype._initMediaController=function(){this._isAgentConnectionType()&&i.core.mediaFactory.get(this).catch(function(){})},O.prototype.isBargeEnabled=function(){var I=this.getMonitorCapabilities();return I&&I.includes(i.MonitoringMode.BARGE)},O.prototype.isSilentMonitorEnabled=function(){var I=this.getMonitorCapabilities();return I&&I.includes(i.MonitoringMode.SILENT_MONITOR)},O.prototype.getMonitorCapabilities=function(){return this._getData().monitorCapabilities},O.prototype.isBarge=function(){return this.getMonitorStatus()===i.MonitoringMode.BARGE},O.prototype.isSilentMonitor=function(){return this.getMonitorStatus()===i.MonitoringMode.SILENT_MONITOR},O.prototype.getMonitorStatus=function(){return this._getData().monitorStatus},O.prototype.getAuthenticationDetails=function(){var I;if(this._isAgentConnectionType())throw new Error("Authentication details are available only for customer connection");var W=i.core.getAgentDataProvider().getContactData(this.contactId);if(W!=null&&(I=W.segmentAttributes)!==null&&I!==void 0&&(I=I["connect:CustomerAuthentication"])!==null&&I!==void 0&&I.ValueMap){var Z=W.segmentAttributes["connect:CustomerAuthentication"].ValueMap;if(L(Z)==="object"&&Z!==null){for(var V={},M=0,B=Object.entries(Z);M<B.length;M++){var Y=ue(B[M],2),K=Y[0],q=Y[1];(q==null?void 0:q.ValueString)!==null&&(V[K]=q.ValueString)}return V}}return null},O.prototype.isAuthenticated=function(){var I=this.getAuthenticationDetails();return(I==null?void 0:I.Status)===i.CustomerAuthenticationStatus.AUTHENTICATED},O.prototype.getParticipantName=function(){return this._isAgentConnectionType()?new i.Agent().getConfiguration().name:this.isInitialConnection()?this._getData().chatMediaInfo.customerName:this._getData().chatMediaInfo.agentName};var R=function(W,Z){A.call(this,W,Z)};R.prototype=Object.create(A.prototype),R.prototype.constructor=R,R.prototype.getMediaType=function(){return i.MediaType.TASK},R.prototype.getMediaInfo=function(){var I=i.core.getAgentDataProvider().getContactData(this.contactId),W={contactId:this.contactId,initialContactId:I.initialContactId||this.contactId};return W},R.prototype.getMediaController=function(){return i.core.mediaFactory.get(this)};var z=function(W,Z){A.call(this,W,Z)};z.prototype=Object.create(A.prototype),z.prototype.constructor=z,z.prototype.getMediaType=function(){return i.MediaType.EMAIL},z.prototype._initMediaController=function(){};var ee=function(W){i.Connection.call(this,W.contactId,W.connectionId),this.connectionData=W};ee.prototype=Object.create(A.prototype),ee.prototype.constructor=ee,ee.prototype._getData=function(){return this.connectionData},ee.prototype._initMediaController=function(){};var oe=function(W){var Z=W||{};this.endpointARN=Z.endpointId||Z.endpointARN||null,this.endpointId=this.endpointARN,this.type=Z.type||null,this.name=Z.name||null,this.phoneNumber=Z.phoneNumber||null,this.agentLogin=Z.agentLogin||null,this.queue=Z.queue||null};oe.prototype.stripPhoneNumber=function(){return this.phoneNumber?this.phoneNumber.replace(/sip:([^@]*)@.*/,"$1"):""},oe.byPhoneNumber=function(I,W){return new oe({type:i.EndpointType.PHONE_NUMBER,phoneNumber:I,name:W||null})};var Q=function(W,Z,V){this.errorType=W,this.errorMessage=Z,this.endPointUrl=V};Q.prototype.getErrorType=function(){return this.errorType},Q.prototype.getErrorMessage=function(){return this.errorMessage},Q.prototype.getEndPointUrl=function(){return this.endPointUrl},i.agent=function(I){var W=i.core.getEventBus(),Z=W.subscribe(i.AgentEvents.INIT,I);return i.agent.initialized&&I(new i.Agent),Z},i.agent.initialized=!1,i.contact=function(I){var W=i.core.getEventBus();return W.subscribe(i.ContactEvents.INIT,I)},i.onWebsocketInitFailure=function(I){var W=i.core.getEventBus(),Z=W.subscribe(i.WebSocketEvents.INIT_FAILURE,I);return i.webSocketInitFailed&&I(),Z},i.ifMaster=function(I,W,Z,V){if(i.assertNotNull(I,"A topic must be provided."),i.assertNotNull(W,"A true callback must be provided."),!i.core.masterClient){i.getLog().warn("We can't be the master for topic '%s' because there is no master client!",I).sendInternalLogToServer(),Z&&Z();return}var M=i.core.getMasterClient();M.call(i.MasterMethods.CHECK_MASTER,{topic:I,shouldNotBecomeMasterIfNone:V},{success:function(Y){Y.isMaster?W():Z&&Z()}})},i.becomeMaster=function(I,W,Z){if(i.assertNotNull(I,"A topic must be provided."),!i.core.masterClient)i.getLog().warn("We can't be the master for topic '%s' because there is no master client!",I),Z&&Z();else{var V=i.core.getMasterClient();V.call(i.MasterMethods.BECOME_MASTER,{topic:I},{success:function(){W&&W()}})}},i.Agent=S,i.AgentSnapshot=y,i.Contact=h,i.ContactSnapshot=b,i.Connection=w,i.BaseConnection=A,i.VoiceConnection=w,i.ChatConnection=O,i.TaskConnection=R,i.EmailConnection=z,i.ConnectionSnapshot=ee,i.Endpoint=oe,i.Address=oe,i.SoftphoneError=Q,i.VoiceId=r,i.QuickResponses=T})()},167:(ae,ie,ue)=>{var Oe;function he(N){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},he(N)}(function(){function N(L,u,E){function C(f,a){if(!u[f]){if(!L[f]){var d=void 0;if(!a&&d)return Gh(f);if(v)return v(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var c=u[f]={exports:{}};L[f][0].call(c.exports,function(l){var s=L[f][1][l];return C(s||l)},c,c.exports,N,L,u,E)}return u[f].exports}for(var v=void 0,m=0;m<E.length;m++)C(E[m]);return C}return N})()({1:[function(N,L,u){L.exports={version:"2.0",metadata:{apiVersion:"2014-06-30",endpointPrefix:"cognito-identity",jsonVersion:"1.1",protocol:"json",serviceFullName:"Amazon Cognito Identity",serviceId:"Cognito Identity",signatureVersion:"v4",targetPrefix:"AWSCognitoIdentityService",uid:"cognito-identity-2014-06-30"},operations:{CreateIdentityPool:{input:{type:"structure",required:["IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},output:{shape:"Sk"}},DeleteIdentities:{input:{type:"structure",required:["IdentityIdsToDelete"],members:{IdentityIdsToDelete:{type:"list",member:{}}}},output:{type:"structure",members:{UnprocessedIdentityIds:{type:"list",member:{type:"structure",members:{IdentityId:{},ErrorCode:{}}}}}}},DeleteIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}}},DescribeIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{}}},output:{shape:"Sv"}},DescribeIdentityPool:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{shape:"Sk"}},GetCredentialsForIdentity:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"},CustomRoleArn:{}}},output:{type:"structure",members:{IdentityId:{},Credentials:{type:"structure",members:{AccessKeyId:{},SecretKey:{},SessionToken:{},Expiration:{type:"timestamp"}}}}},authtype:"none"},GetId:{input:{type:"structure",required:["IdentityPoolId"],members:{AccountId:{},IdentityPoolId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{}}},authtype:"none"},GetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{}}},output:{type:"structure",members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},GetOpenIdToken:{input:{type:"structure",required:["IdentityId"],members:{IdentityId:{},Logins:{shape:"S10"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}},authtype:"none"},GetOpenIdTokenForDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId","Logins"],members:{IdentityPoolId:{},IdentityId:{},Logins:{shape:"S10"},PrincipalTags:{shape:"S1s"},TokenDuration:{type:"long"}}},output:{type:"structure",members:{IdentityId:{},Token:{}}}},GetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},ListIdentities:{input:{type:"structure",required:["IdentityPoolId","MaxResults"],members:{IdentityPoolId:{},MaxResults:{type:"integer"},NextToken:{},HideDisabled:{type:"boolean"}}},output:{type:"structure",members:{IdentityPoolId:{},Identities:{type:"list",member:{shape:"Sv"}},NextToken:{}}}},ListIdentityPools:{input:{type:"structure",required:["MaxResults"],members:{MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityPools:{type:"list",member:{type:"structure",members:{IdentityPoolId:{},IdentityPoolName:{}}}},NextToken:{}}}},ListTagsForResource:{input:{type:"structure",required:["ResourceArn"],members:{ResourceArn:{}}},output:{type:"structure",members:{Tags:{shape:"Sh"}}}},LookupDeveloperIdentity:{input:{type:"structure",required:["IdentityPoolId"],members:{IdentityPoolId:{},IdentityId:{},DeveloperUserIdentifier:{},MaxResults:{type:"integer"},NextToken:{}}},output:{type:"structure",members:{IdentityId:{},DeveloperUserIdentifierList:{type:"list",member:{}},NextToken:{}}}},MergeDeveloperIdentities:{input:{type:"structure",required:["SourceUserIdentifier","DestinationUserIdentifier","DeveloperProviderName","IdentityPoolId"],members:{SourceUserIdentifier:{},DestinationUserIdentifier:{},DeveloperProviderName:{},IdentityPoolId:{}}},output:{type:"structure",members:{IdentityId:{}}}},SetIdentityPoolRoles:{input:{type:"structure",required:["IdentityPoolId","Roles"],members:{IdentityPoolId:{},Roles:{shape:"S1c"},RoleMappings:{shape:"S1e"}}}},SetPrincipalTagAttributeMap:{input:{type:"structure",required:["IdentityPoolId","IdentityProviderName"],members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}},output:{type:"structure",members:{IdentityPoolId:{},IdentityProviderName:{},UseDefaults:{type:"boolean"},PrincipalTags:{shape:"S1s"}}}},TagResource:{input:{type:"structure",required:["ResourceArn","Tags"],members:{ResourceArn:{},Tags:{shape:"Sh"}}},output:{type:"structure",members:{}}},UnlinkDeveloperIdentity:{input:{type:"structure",required:["IdentityId","IdentityPoolId","DeveloperProviderName","DeveloperUserIdentifier"],members:{IdentityId:{},IdentityPoolId:{},DeveloperProviderName:{},DeveloperUserIdentifier:{}}}},UnlinkIdentity:{input:{type:"structure",required:["IdentityId","Logins","LoginsToRemove"],members:{IdentityId:{},Logins:{shape:"S10"},LoginsToRemove:{shape:"Sw"}}},authtype:"none"},UntagResource:{input:{type:"structure",required:["ResourceArn","TagKeys"],members:{ResourceArn:{},TagKeys:{type:"list",member:{}}}},output:{type:"structure",members:{}}},UpdateIdentityPool:{input:{shape:"Sk"},output:{shape:"Sk"}}},shapes:{S5:{type:"map",key:{},value:{}},S9:{type:"list",member:{}},Sb:{type:"list",member:{type:"structure",members:{ProviderName:{},ClientId:{},ServerSideTokenCheck:{type:"boolean"}}}},Sg:{type:"list",member:{}},Sh:{type:"map",key:{},value:{}},Sk:{type:"structure",required:["IdentityPoolId","IdentityPoolName","AllowUnauthenticatedIdentities"],members:{IdentityPoolId:{},IdentityPoolName:{},AllowUnauthenticatedIdentities:{type:"boolean"},AllowClassicFlow:{type:"boolean"},SupportedLoginProviders:{shape:"S5"},DeveloperProviderName:{},OpenIdConnectProviderARNs:{shape:"S9"},CognitoIdentityProviders:{shape:"Sb"},SamlProviderARNs:{shape:"Sg"},IdentityPoolTags:{shape:"Sh"}}},Sv:{type:"structure",members:{IdentityId:{},Logins:{shape:"Sw"},CreationDate:{type:"timestamp"},LastModifiedDate:{type:"timestamp"}}},Sw:{type:"list",member:{}},S10:{type:"map",key:{},value:{}},S1c:{type:"map",key:{},value:{}},S1e:{type:"map",key:{},value:{type:"structure",required:["Type"],members:{Type:{},AmbiguousRoleResolution:{},RulesConfiguration:{type:"structure",required:["Rules"],members:{Rules:{type:"list",member:{type:"structure",required:["Claim","MatchType","Value","RoleARN"],members:{Claim:{},MatchType:{},Value:{},RoleARN:{}}}}}}}}},S1s:{type:"map",key:{},value:{}}}}},{}],2:[function(N,L,u){L.exports={pagination:{ListIdentityPools:{input_token:"NextToken",limit_key:"MaxResults",output_token:"NextToken",result_key:"IdentityPools"}}}},{}],3:[function(N,L,u){L.exports={version:"2.0",metadata:{apiVersion:"2017-02-15",endpointPrefix:"connect",jsonVersion:"1.0",protocol:"json",serviceAbbreviation:"Connect",serviceFullName:"AmazonConnectCTIService",signatureVersion:"",targetPrefix:"AmazonConnectCTIService",uid:"connect-2017-02-15"},operations:{AcceptContact:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{}}},output:{type:"structure",members:{}}},ClearContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},CompleteContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},ConferenceConnections:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{}}},output:{type:"structure",members:{}}},CreateAdditionalConnection:{input:{type:"structure",required:["authentication","contactId","endpoint"],members:{authentication:{shape:"S2"},contactId:{},endpoint:{shape:"Se"}}},output:{type:"structure",members:{}}},CreateOutboundContact:{input:{type:"structure",required:["authentication","endpoint"],members:{authentication:{shape:"S2"},endpoint:{shape:"Se"},queueARN:{},relatedContactId:{}}},output:{type:"structure",members:{}}},CreateTaskContact:{input:{type:"structure",required:["endpoint","name"],members:{endpoint:{shape:"Se"},previousContactId:{},name:{},description:{},references:{shape:"St"},idempotencyToken:{},scheduledTime:{type:"long"},relatedContactId:{}}},output:{type:"structure",members:{contactId:{}}}},CreateTransport:{input:{type:"structure",required:["transportType","authentication"],members:{transportType:{},participantId:{},contactId:{},softphoneClientId:{},authentication:{shape:"S2"}}},output:{type:"structure",members:{webSocketTransport:{type:"structure",required:["url","transportLifeTimeInSeconds"],members:{url:{},transportLifeTimeInSeconds:{type:"long"},expiry:{}}},chatTokenTransport:{type:"structure",required:["participantToken","expiry"],members:{participantToken:{},expiry:{}}},softphoneTransport:{type:"structure",required:["softphoneMediaConnections"],members:{softphoneMediaConnections:{type:"list",member:{type:"structure",required:["username","credential","urls"],members:{username:{},credential:{},urls:{type:"list",member:{}}}}}}},agentDiscoveryTransport:{type:"structure",required:["presignedUrl"],members:{presignedUrl:{}}},webRTCTransport:{type:"structure",required:["meeting","attendee"],members:{meeting:{type:"structure",members:{meetingId:{},mediaRegion:{},mediaPlacement:{type:"structure",members:{audioHostUrl:{},audioFallbackUrl:{},signalingUrl:{},turnControlUrl:{},eventIngestionUrl:{}}},meetingFeatures:{type:"structure",members:{audio:{type:"structure",members:{echoReduction:{}}}}}}},attendee:{type:"structure",members:{attendeeId:{},joinToken:{type:"string",sensitive:!0}}}}}}}},DestroyConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},GetAgentConfiguration:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"}}},output:{type:"structure",required:["configuration"],members:{configuration:{shape:"S1v"}}}},GetAgentPermissions:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["permissions"],members:{permissions:{type:"list",member:{}},nextToken:{}}}},GetAgentSnapshot:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},timeout:{type:"long"}}},output:{type:"structure",required:["snapshot","nextToken"],members:{snapshot:{type:"structure",required:["state","contacts","snapshotTimestamp"],members:{state:{shape:"S2e"},nextState:{shape:"S2e"},agentAvailabilityState:{type:"structure",members:{state:{},timeStamp:{type:"timestamp"}}},contacts:{type:"list",member:{type:"structure",required:["contactId","type","state","connections","attributes"],members:{contactId:{},initialContactId:{},relatedContactId:{},contactAssociationId:{},type:{},state:{type:"structure",required:["type","timestamp"],members:{type:{},timestamp:{type:"timestamp"}}},queue:{shape:"Sl"},queueTimestamp:{type:"timestamp"},connections:{type:"list",member:{type:"structure",required:["connectionId","state","type","initial"],members:{connectionId:{},endpoint:{shape:"Se"},state:{type:"structure",required:["type","timestamp"],members:{type:{},timestamp:{type:"timestamp"}}},type:{},initial:{type:"boolean"},softphoneMediaInfo:{type:"structure",members:{callType:{},autoAccept:{type:"boolean"},mediaLegContextToken:{},callContextToken:{},callConfigJson:{}}},chatMediaInfo:{type:"structure",members:{chatAutoAccept:{type:"boolean"},connectionData:{},customerName:{}}},monitoringInfo:{type:"structure",members:{agent:{type:"structure",members:{agentName:{}}},joinTimeStamp:{type:"timestamp"}}},mute:{type:"boolean"},forcedMute:{type:"boolean"},quickConnectName:{},monitorCapabilities:{type:"list",member:{}},monitorStatus:{},capabilities:{type:"structure",members:{Video:{}}}}}},attributes:{type:"map",key:{},value:{type:"structure",required:["name"],members:{name:{},value:{}}}},contactDuration:{},name:{},description:{},references:{shape:"St"},initiationMethod:{},contactFeatures:{type:"structure",members:{attachmentsEnabled:{type:"boolean"},messagingMarkdownEnabled:{type:"boolean"},multiPartyConferenceEnabled:{type:"boolean"},screenRecordingEnabled:{type:"boolean"},screenRecordingState:{},screenRecordingConfig:{type:"structure",members:{screenRecordingEnabled:{type:"boolean"},screenRecordingState:{}}}}},channelContext:{type:"structure",members:{scheduledTime:{type:"long"},taskTemplateId:{},taskTemplateVersion:{type:"integer"}}},segmentAttributes:{type:"map",key:{},value:{type:"structure",members:{ValueString:{}}}},customerEndpoint:{shape:"Se"},connectSystemEndpoint:{shape:"Se"},languageCode:{},emailRecipients:{type:"structure",members:{toList:{type:"list",member:{shape:"S3i"}},ccList:{type:"list",member:{shape:"S3i"}},fromRecipient:{shape:"S3i"}}}}}},snapshotTimestamp:{type:"timestamp"}}},nextToken:{}}}},GetAgentStates:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["states"],members:{states:{type:"list",member:{shape:"S2e"}},nextToken:{}}}},GetDialableCountryCodes:{input:{type:"structure",required:["authentication"],members:{authentication:{shape:"S2"},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["countryCodes"],members:{countryCodes:{type:"list",member:{}},nextToken:{}}}},GetEndpoints:{input:{type:"structure",required:["authentication","queueARNs"],members:{authentication:{shape:"S2"},queueARNs:{type:"list",member:{}},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",members:{endpoints:{type:"list",member:{shape:"Se"}},nextToken:{}}}},GetNewAuthToken:{input:{type:"structure",required:["authentication","refreshToken"],members:{authentication:{shape:"S2"},refreshToken:{}}},output:{type:"structure",members:{newAuthToken:{},expirationDateTime:{type:"timestamp"}}}},GetRoutingProfileQueues:{input:{type:"structure",required:["authentication","routingProfileARN"],members:{authentication:{shape:"S2"},routingProfileARN:{},nextToken:{},maxResults:{type:"integer"}}},output:{type:"structure",required:["queues"],members:{queues:{type:"list",member:{shape:"Sl"}},nextToken:{}}}},HoldConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},MuteParticipant:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},NotifyContactIssue:{input:{type:"structure",required:["authentication","contactId"],members:{authentication:{shape:"S2"},contactId:{},issueCode:{},description:{},clientLogs:{}}},output:{type:"structure",members:{}}},PauseContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},PutAgentState:{input:{type:"structure",required:["authentication","state"],members:{authentication:{shape:"S2"},state:{shape:"S2e"},enqueueNextState:{type:"boolean"}}},output:{type:"structure",members:{}}},RejectContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},ResumeConnection:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},ResumeContact:{input:{type:"structure",required:["contactId"],members:{contactId:{}}},output:{type:"structure",members:{}}},SendClientLogs:{input:{type:"structure",required:["authentication","logEvents"],members:{authentication:{shape:"S2"},logEvents:{type:"list",member:{type:"structure",members:{timestamp:{type:"timestamp"},component:{},message:{}}}}}},output:{type:"structure",members:{}}},SendDigits:{input:{type:"structure",required:["authentication","contactId","connectionId","digits"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{},digits:{}}},output:{type:"structure",members:{}}},SendSoftphoneCallMetrics:{input:{type:"structure",required:["authentication","contactId","softphoneStreamStatistics"],members:{authentication:{shape:"S2"},contactId:{},ccpVersion:{},softphoneStreamStatistics:{shape:"S4p"}}},output:{type:"structure",members:{}}},SendSoftphoneCallReport:{input:{type:"structure",required:["authentication","contactId","report"],members:{authentication:{shape:"S2"},contactId:{},ccpVersion:{},report:{type:"structure",members:{callStartTime:{type:"timestamp"},callEndTime:{type:"timestamp"},softphoneStreamStatistics:{shape:"S4p"},gumTimeMillis:{type:"long"},initializationTimeMillis:{type:"long"},iceCollectionTimeMillis:{type:"long"},signallingConnectTimeMillis:{type:"long"},handshakeTimeMillis:{type:"long"},preTalkTimeMillis:{type:"long"},talkTimeMillis:{type:"long"},cleanupTimeMillis:{type:"long"},iceCollectionFailure:{type:"boolean"},signallingConnectionFailure:{type:"boolean"},handshakeFailure:{type:"boolean"},gumOtherFailure:{type:"boolean"},gumTimeoutFailure:{type:"boolean"},createOfferFailure:{type:"boolean"},setLocalDescriptionFailure:{type:"boolean"},userBusyFailure:{type:"boolean"},invalidRemoteSDPFailure:{type:"boolean"},noRemoteIceCandidateFailure:{type:"boolean"},setRemoteDescriptionFailure:{type:"boolean"}}}}},output:{type:"structure",members:{}}},ToggleActiveConnections:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},UnmuteParticipant:{input:{type:"structure",required:["authentication","contactId","connectionId"],members:{authentication:{shape:"S2"},contactId:{},connectionId:{}}},output:{type:"structure",members:{}}},UpdateAgentConfiguration:{input:{type:"structure",required:["authentication","configuration"],members:{authentication:{shape:"S2"},configuration:{shape:"S1v"}}},output:{type:"structure",members:{}}},UpdateMonitorParticipantState:{input:{type:"structure",required:["contactId","targetMonitorMode"],members:{contactId:{},targetMonitorMode:{}}},output:{type:"structure",members:{}}}},shapes:{S2:{type:"structure",members:{agentARN:{},authToken:{}}},Se:{type:"structure",required:["type"],members:{endpointARN:{},type:{},name:{},displayName:{},phoneNumber:{},agentLogin:{},queue:{shape:"Sl"},emailAddress:{}}},Sl:{type:"structure",members:{queueARN:{},name:{}}},St:{type:"map",key:{},value:{type:"structure",required:["type"],members:{value:{},type:{},arn:{},status:{},statusReason:{}}}},S1v:{type:"structure",required:["name","softphoneEnabled","softphoneAutoAccept","extension","routingProfile"],members:{name:{},username:{},softphoneEnabled:{type:"boolean"},softphoneAutoAccept:{type:"boolean"},extension:{},routingProfile:{type:"structure",members:{name:{},routingProfileARN:{},defaultOutboundQueue:{shape:"Sl"},channelConcurrencyMap:{type:"map",key:{},value:{type:"long"}}}},agentPreferences:{type:"map",key:{},value:{}},agentARN:{}}},S2e:{type:"structure",required:["type","name"],members:{agentStateARN:{},type:{},name:{},startTimestamp:{type:"timestamp"}}},S3i:{type:"structure",members:{address:{},displayName:{}}},S4p:{type:"list",member:{type:"structure",members:{timestamp:{type:"timestamp"},softphoneStreamType:{},packetCount:{type:"long"},packetsLost:{type:"long"},audioLevel:{type:"double"},jitterBufferMillis:{type:"long"},roundTripTimeMillis:{type:"long"}}}}}}},{}],4:[function(N,L,u){L.exports={acm:{name:"ACM",cors:!0},apigateway:{name:"APIGateway",cors:!0},applicationautoscaling:{prefix:"application-autoscaling",name:"ApplicationAutoScaling",cors:!0},appstream:{name:"AppStream"},autoscaling:{name:"AutoScaling",cors:!0},batch:{name:"Batch"},budgets:{name:"Budgets"},clouddirectory:{name:"CloudDirectory",versions:["2016-05-10*"]},cloudformation:{name:"CloudFormation",cors:!0},cloudfront:{name:"CloudFront",versions:["2013-05-12*","2013-11-11*","2014-05-31*","2014-10-21*","2014-11-06*","2015-04-17*","2015-07-27*","2015-09-17*","2016-01-13*","2016-01-28*","2016-08-01*","2016-08-20*","2016-09-07*","2016-09-29*","2016-11-25*","2017-03-25*","2017-10-30*","2018-06-18*","2018-11-05*","2019-03-26*"],cors:!0},cloudhsm:{name:"CloudHSM",cors:!0},cloudsearch:{name:"CloudSearch"},cloudsearchdomain:{name:"CloudSearchDomain"},cloudtrail:{name:"CloudTrail",cors:!0},cloudwatch:{prefix:"monitoring",name:"CloudWatch",cors:!0},cloudwatchevents:{prefix:"events",name:"CloudWatchEvents",versions:["2014-02-03*"],cors:!0},cloudwatchlogs:{prefix:"logs",name:"CloudWatchLogs",cors:!0},codebuild:{name:"CodeBuild",cors:!0},codecommit:{name:"CodeCommit",cors:!0},codedeploy:{name:"CodeDeploy",cors:!0},codepipeline:{name:"CodePipeline",cors:!0},cognitoidentity:{prefix:"cognito-identity",name:"CognitoIdentity",cors:!0},cognitoidentityserviceprovider:{prefix:"cognito-idp",name:"CognitoIdentityServiceProvider",cors:!0},cognitosync:{prefix:"cognito-sync",name:"CognitoSync",cors:!0},configservice:{prefix:"config",name:"ConfigService",cors:!0},cur:{name:"CUR",cors:!0},datapipeline:{name:"DataPipeline"},devicefarm:{name:"DeviceFarm",cors:!0},directconnect:{name:"DirectConnect",cors:!0},directoryservice:{prefix:"ds",name:"DirectoryService"},discovery:{name:"Discovery"},dms:{name:"DMS"},dynamodb:{name:"DynamoDB",cors:!0},dynamodbstreams:{prefix:"streams.dynamodb",name:"DynamoDBStreams",cors:!0},ec2:{name:"EC2",versions:["2013-06-15*","2013-10-15*","2014-02-01*","2014-05-01*","2014-06-15*","2014-09-01*","2014-10-01*","2015-03-01*","2015-04-15*","2015-10-01*","2016-04-01*","2016-09-15*"],cors:!0},ecr:{name:"ECR",cors:!0},ecs:{name:"ECS",cors:!0},efs:{prefix:"elasticfilesystem",name:"EFS",cors:!0},elasticache:{name:"ElastiCache",versions:["2012-11-15*","2014-03-24*","2014-07-15*","2014-09-30*"],cors:!0},elasticbeanstalk:{name:"ElasticBeanstalk",cors:!0},elb:{prefix:"elasticloadbalancing",name:"ELB",cors:!0},elbv2:{prefix:"elasticloadbalancingv2",name:"ELBv2",cors:!0},emr:{prefix:"elasticmapreduce",name:"EMR",cors:!0},es:{name:"ES"},elastictranscoder:{name:"ElasticTranscoder",cors:!0},firehose:{name:"Firehose",cors:!0},gamelift:{name:"GameLift",cors:!0},glacier:{name:"Glacier"},health:{name:"Health"},iam:{name:"IAM",cors:!0},importexport:{name:"ImportExport"},inspector:{name:"Inspector",versions:["2015-08-18*"],cors:!0},iot:{name:"Iot",cors:!0},iotdata:{prefix:"iot-data",name:"IotData",cors:!0},kinesis:{name:"Kinesis",cors:!0},kinesisanalytics:{name:"KinesisAnalytics"},kms:{name:"KMS",cors:!0},lambda:{name:"Lambda",cors:!0},lexruntime:{prefix:"runtime.lex",name:"LexRuntime",cors:!0},lightsail:{name:"Lightsail"},machinelearning:{name:"MachineLearning",cors:!0},marketplacecommerceanalytics:{name:"MarketplaceCommerceAnalytics",cors:!0},marketplacemetering:{prefix:"meteringmarketplace",name:"MarketplaceMetering"},mturk:{prefix:"mturk-requester",name:"MTurk",cors:!0},mobileanalytics:{name:"MobileAnalytics",cors:!0},opsworks:{name:"OpsWorks",cors:!0},opsworkscm:{name:"OpsWorksCM"},organizations:{name:"Organizations"},pinpoint:{name:"Pinpoint"},polly:{name:"Polly",cors:!0},rds:{name:"RDS",versions:["2014-09-01*"],cors:!0},redshift:{name:"Redshift",cors:!0},rekognition:{name:"Rekognition",cors:!0},resourcegroupstaggingapi:{name:"ResourceGroupsTaggingAPI"},route53:{name:"Route53",cors:!0},route53domains:{name:"Route53Domains",cors:!0},s3:{name:"S3",dualstackAvailable:!0,cors:!0},s3control:{name:"S3Control",dualstackAvailable:!0,xmlNoDefaultLists:!0},servicecatalog:{name:"ServiceCatalog",cors:!0},ses:{prefix:"email",name:"SES",cors:!0},shield:{name:"Shield"},simpledb:{prefix:"sdb",name:"SimpleDB"},sms:{name:"SMS"},snowball:{name:"Snowball"},sns:{name:"SNS",cors:!0},sqs:{name:"SQS",cors:!0},ssm:{name:"SSM",cors:!0},storagegateway:{name:"StorageGateway",cors:!0},stepfunctions:{prefix:"states",name:"StepFunctions"},sts:{name:"STS",cors:!0},support:{name:"Support"},swf:{name:"SWF"},xray:{name:"XRay",cors:!0},waf:{name:"WAF",cors:!0},wafregional:{prefix:"waf-regional",name:"WAFRegional"},workdocs:{name:"WorkDocs",cors:!0},workspaces:{name:"WorkSpaces"},codestar:{name:"CodeStar"},lexmodelbuildingservice:{prefix:"lex-models",name:"LexModelBuildingService",cors:!0},marketplaceentitlementservice:{prefix:"entitlement.marketplace",name:"MarketplaceEntitlementService"},athena:{name:"Athena",cors:!0},greengrass:{name:"Greengrass"},dax:{name:"DAX"},migrationhub:{prefix:"AWSMigrationHub",name:"MigrationHub"},cloudhsmv2:{name:"CloudHSMV2",cors:!0},glue:{name:"Glue"},mobile:{name:"Mobile"},pricing:{name:"Pricing",cors:!0},costexplorer:{prefix:"ce",name:"CostExplorer",cors:!0},mediaconvert:{name:"MediaConvert"},medialive:{name:"MediaLive"},mediapackage:{name:"MediaPackage"},mediastore:{name:"MediaStore"},mediastoredata:{prefix:"mediastore-data",name:"MediaStoreData",cors:!0},appsync:{name:"AppSync"},guardduty:{name:"GuardDuty"},mq:{name:"MQ"},comprehend:{name:"Comprehend",cors:!0},iotjobsdataplane:{prefix:"iot-jobs-data",name:"IoTJobsDataPlane"},kinesisvideoarchivedmedia:{prefix:"kinesis-video-archived-media",name:"KinesisVideoArchivedMedia",cors:!0},kinesisvideomedia:{prefix:"kinesis-video-media",name:"KinesisVideoMedia",cors:!0},kinesisvideo:{name:"KinesisVideo",cors:!0},sagemakerruntime:{prefix:"runtime.sagemaker",name:"SageMakerRuntime"},sagemaker:{name:"SageMaker"},translate:{name:"Translate",cors:!0},resourcegroups:{prefix:"resource-groups",name:"ResourceGroups",cors:!0},alexaforbusiness:{name:"AlexaForBusiness"},cloud9:{name:"Cloud9"},serverlessapplicationrepository:{prefix:"serverlessrepo",name:"ServerlessApplicationRepository"},servicediscovery:{name:"ServiceDiscovery"},workmail:{name:"WorkMail"},autoscalingplans:{prefix:"autoscaling-plans",name:"AutoScalingPlans"},transcribeservice:{prefix:"transcribe",name:"TranscribeService"},connect:{name:"Connect",cors:!0},acmpca:{prefix:"acm-pca",name:"ACMPCA"},fms:{name:"FMS"},secretsmanager:{name:"SecretsManager",cors:!0},iotanalytics:{name:"IoTAnalytics",cors:!0},iot1clickdevicesservice:{prefix:"iot1click-devices",name:"IoT1ClickDevicesService"},iot1clickprojects:{prefix:"iot1click-projects",name:"IoT1ClickProjects"},pi:{name:"PI"},neptune:{name:"Neptune"},mediatailor:{name:"MediaTailor"},eks:{name:"EKS"},dlm:{name:"DLM"},signer:{name:"Signer"},chime:{name:"Chime"},pinpointemail:{prefix:"pinpoint-email",name:"PinpointEmail"},ram:{name:"RAM"},route53resolver:{name:"Route53Resolver"},pinpointsmsvoice:{prefix:"sms-voice",name:"PinpointSMSVoice"},quicksight:{name:"QuickSight"},rdsdataservice:{prefix:"rds-data",name:"RDSDataService"},amplify:{name:"Amplify"},datasync:{name:"DataSync"},robomaker:{name:"RoboMaker"},transfer:{name:"Transfer"},globalaccelerator:{name:"GlobalAccelerator"},comprehendmedical:{name:"ComprehendMedical",cors:!0},kinesisanalyticsv2:{name:"KinesisAnalyticsV2"},mediaconnect:{name:"MediaConnect"},fsx:{name:"FSx"},securityhub:{name:"SecurityHub"},appmesh:{name:"AppMesh",versions:["2018-10-01*"]},licensemanager:{prefix:"license-manager",name:"LicenseManager"},kafka:{name:"Kafka"},apigatewaymanagementapi:{name:"ApiGatewayManagementApi"},apigatewayv2:{name:"ApiGatewayV2"},docdb:{name:"DocDB"},backup:{name:"Backup"},worklink:{name:"WorkLink"},textract:{name:"Textract"},managedblockchain:{name:"ManagedBlockchain"},mediapackagevod:{prefix:"mediapackage-vod",name:"MediaPackageVod"},groundstation:{name:"GroundStation"},iotthingsgraph:{name:"IoTThingsGraph"},iotevents:{name:"IoTEvents"},ioteventsdata:{prefix:"iotevents-data",name:"IoTEventsData"},personalize:{name:"Personalize",cors:!0},personalizeevents:{prefix:"personalize-events",name:"PersonalizeEvents",cors:!0},personalizeruntime:{prefix:"personalize-runtime",name:"PersonalizeRuntime",cors:!0},applicationinsights:{prefix:"application-insights",name:"ApplicationInsights"},servicequotas:{prefix:"service-quotas",name:"ServiceQuotas"},ec2instanceconnect:{prefix:"ec2-instance-connect",name:"EC2InstanceConnect"},eventbridge:{name:"EventBridge"},lakeformation:{name:"LakeFormation"},forecastservice:{prefix:"forecast",name:"ForecastService",cors:!0},forecastqueryservice:{prefix:"forecastquery",name:"ForecastQueryService",cors:!0},qldb:{name:"QLDB"},qldbsession:{prefix:"qldb-session",name:"QLDBSession"},workmailmessageflow:{name:"WorkMailMessageFlow"},codestarnotifications:{prefix:"codestar-notifications",name:"CodeStarNotifications"},savingsplans:{name:"SavingsPlans"},sso:{name:"SSO"},ssooidc:{prefix:"sso-oidc",name:"SSOOIDC"},marketplacecatalog:{prefix:"marketplace-catalog",name:"MarketplaceCatalog",cors:!0},dataexchange:{name:"DataExchange"},sesv2:{name:"SESV2"},migrationhubconfig:{prefix:"migrationhub-config",name:"MigrationHubConfig"},connectparticipant:{name:"ConnectParticipant"},appconfig:{name:"AppConfig"},iotsecuretunneling:{name:"IoTSecureTunneling"},wafv2:{name:"WAFV2"},elasticinference:{prefix:"elastic-inference",name:"ElasticInference"},imagebuilder:{name:"Imagebuilder"},schemas:{name:"Schemas"},accessanalyzer:{name:"AccessAnalyzer"},codegurureviewer:{prefix:"codeguru-reviewer",name:"CodeGuruReviewer"},codeguruprofiler:{name:"CodeGuruProfiler"},computeoptimizer:{prefix:"compute-optimizer",name:"ComputeOptimizer"},frauddetector:{name:"FraudDetector"},kendra:{name:"Kendra"},networkmanager:{name:"NetworkManager"},outposts:{name:"Outposts"},augmentedairuntime:{prefix:"sagemaker-a2i-runtime",name:"AugmentedAIRuntime"},ebs:{name:"EBS"},kinesisvideosignalingchannels:{prefix:"kinesis-video-signaling",name:"KinesisVideoSignalingChannels",cors:!0},detective:{name:"Detective"},codestarconnections:{prefix:"codestar-connections",name:"CodeStarconnections"},synthetics:{name:"Synthetics"},iotsitewise:{name:"IoTSiteWise"},macie2:{name:"Macie2"},codeartifact:{name:"CodeArtifact"},honeycode:{name:"Honeycode"},ivs:{name:"IVS"},braket:{name:"Braket"},identitystore:{name:"IdentityStore"},appflow:{name:"Appflow"},redshiftdata:{prefix:"redshift-data",name:"RedshiftData"},ssoadmin:{prefix:"sso-admin",name:"SSOAdmin"},timestreamquery:{prefix:"timestream-query",name:"TimestreamQuery"},timestreamwrite:{prefix:"timestream-write",name:"TimestreamWrite"},s3outposts:{name:"S3Outposts"},databrew:{name:"DataBrew"},servicecatalogappregistry:{prefix:"servicecatalog-appregistry",name:"ServiceCatalogAppRegistry"},networkfirewall:{prefix:"network-firewall",name:"NetworkFirewall"},mwaa:{name:"MWAA"},amplifybackend:{name:"AmplifyBackend"},appintegrations:{name:"AppIntegrations"},connectcontactlens:{prefix:"connect-contact-lens",name:"ConnectContactLens"},devopsguru:{prefix:"devops-guru",name:"DevOpsGuru"},ecrpublic:{prefix:"ecr-public",name:"ECRPUBLIC"},lookoutvision:{name:"LookoutVision"},sagemakerfeaturestoreruntime:{prefix:"sagemaker-featurestore-runtime",name:"SageMakerFeatureStoreRuntime"},customerprofiles:{prefix:"customer-profiles",name:"CustomerProfiles"},auditmanager:{name:"AuditManager"},emrcontainers:{prefix:"emr-containers",name:"EMRcontainers"},healthlake:{name:"HealthLake"},sagemakeredge:{prefix:"sagemaker-edge",name:"SagemakerEdge"},amp:{name:"Amp",cors:!0},greengrassv2:{name:"GreengrassV2"},iotdeviceadvisor:{name:"IotDeviceAdvisor"},iotfleethub:{name:"IoTFleetHub"},iotwireless:{name:"IoTWireless"},location:{name:"Location",cors:!0},wellarchitected:{name:"WellArchitected"},lexmodelsv2:{prefix:"models.lex.v2",name:"LexModelsV2"},lexruntimev2:{prefix:"runtime.lex.v2",name:"LexRuntimeV2",cors:!0},fis:{name:"Fis"},lookoutmetrics:{name:"LookoutMetrics"},mgn:{name:"Mgn"},lookoutequipment:{name:"LookoutEquipment"},nimble:{name:"Nimble"},finspace:{name:"Finspace"},finspacedata:{prefix:"finspace-data",name:"Finspacedata"},ssmcontacts:{prefix:"ssm-contacts",name:"SSMContacts"},ssmincidents:{prefix:"ssm-incidents",name:"SSMIncidents"},applicationcostprofiler:{name:"ApplicationCostProfiler"},apprunner:{name:"AppRunner"},proton:{name:"Proton"},route53recoverycluster:{prefix:"route53-recovery-cluster",name:"Route53RecoveryCluster"},route53recoverycontrolconfig:{prefix:"route53-recovery-control-config",name:"Route53RecoveryControlConfig"},route53recoveryreadiness:{prefix:"route53-recovery-readiness",name:"Route53RecoveryReadiness"},chimesdkidentity:{prefix:"chime-sdk-identity",name:"ChimeSDKIdentity"},chimesdkmessaging:{prefix:"chime-sdk-messaging",name:"ChimeSDKMessaging"},snowdevicemanagement:{prefix:"snow-device-management",name:"SnowDeviceManagement"},memorydb:{name:"MemoryDB"},opensearch:{name:"OpenSearch"},kafkaconnect:{name:"KafkaConnect"},voiceid:{prefix:"voice-id",name:"VoiceID"},wisdom:{name:"Wisdom"},account:{name:"Account"},cloudcontrol:{name:"CloudControl"},grafana:{name:"Grafana"},panorama:{name:"Panorama"},chimesdkmeetings:{prefix:"chime-sdk-meetings",name:"ChimeSDKMeetings"},resiliencehub:{name:"Resiliencehub"},migrationhubstrategy:{name:"MigrationHubStrategy"},appconfigdata:{name:"AppConfigData"},drs:{name:"Drs"},migrationhubrefactorspaces:{prefix:"migration-hub-refactor-spaces",name:"MigrationHubRefactorSpaces"},evidently:{name:"Evidently"},inspector2:{name:"Inspector2"},rbin:{name:"Rbin"},rum:{name:"RUM"},backupgateway:{prefix:"backup-gateway",name:"BackupGateway"},iottwinmaker:{name:"IoTTwinMaker"},workspacesweb:{prefix:"workspaces-web",name:"WorkSpacesWeb"},amplifyuibuilder:{name:"AmplifyUIBuilder"},keyspaces:{name:"Keyspaces"},billingconductor:{name:"Billingconductor"},pinpointsmsvoicev2:{prefix:"pinpoint-sms-voice-v2",name:"PinpointSMSVoiceV2"},ivschat:{name:"Ivschat"},chimesdkmediapipelines:{prefix:"chime-sdk-media-pipelines",name:"ChimeSDKMediaPipelines"},emrserverless:{prefix:"emr-serverless",name:"EMRServerless"},m2:{name:"M2"},connectcampaigns:{name:"ConnectCampaigns"},redshiftserverless:{prefix:"redshift-serverless",name:"RedshiftServerless"},rolesanywhere:{name:"RolesAnywhere"},licensemanagerusersubscriptions:{prefix:"license-manager-user-subscriptions",name:"LicenseManagerUserSubscriptions"},backupstorage:{name:"BackupStorage"},privatenetworks:{name:"PrivateNetworks"},supportapp:{prefix:"support-app",name:"SupportApp"},controltower:{name:"ControlTower"},iotfleetwise:{name:"IoTFleetWise"},migrationhuborchestrator:{name:"MigrationHubOrchestrator"},connectcases:{name:"ConnectCases"},resourceexplorer2:{prefix:"resource-explorer-2",name:"ResourceExplorer2"},scheduler:{name:"Scheduler"},chimesdkvoice:{prefix:"chime-sdk-voice",name:"ChimeSDKVoice"},ssmsap:{prefix:"ssm-sap",name:"SsmSap"},oam:{name:"OAM"},arczonalshift:{prefix:"arc-zonal-shift",name:"ARCZonalShift"},omics:{name:"Omics"},opensearchserverless:{name:"OpenSearchServerless"},securitylake:{name:"SecurityLake"},simspaceweaver:{name:"SimSpaceWeaver"},docdbelastic:{prefix:"docdb-elastic",name:"DocDBElastic"},sagemakergeospatial:{prefix:"sagemaker-geospatial",name:"SageMakerGeospatial"},codecatalyst:{name:"CodeCatalyst"},pipes:{name:"Pipes"},sagemakermetrics:{prefix:"sagemaker-metrics",name:"SageMakerMetrics"},kinesisvideowebrtcstorage:{prefix:"kinesis-video-webrtc-storage",name:"KinesisVideoWebRTCStorage"},licensemanagerlinuxsubscriptions:{prefix:"license-manager-linux-subscriptions",name:"LicenseManagerLinuxSubscriptions"},kendraranking:{prefix:"kendra-ranking",name:"KendraRanking"},cleanrooms:{name:"CleanRooms"},cloudtraildata:{prefix:"cloudtrail-data",name:"CloudTrailData"},tnb:{name:"Tnb"},internetmonitor:{name:"InternetMonitor"},ivsrealtime:{prefix:"ivs-realtime",name:"IVSRealTime"},vpclattice:{prefix:"vpc-lattice",name:"VPCLattice"},osis:{name:"OSIS"},mediapackagev2:{name:"MediaPackageV2"},paymentcryptography:{prefix:"payment-cryptography",name:"PaymentCryptography"},paymentcryptographydata:{prefix:"payment-cryptography-data",name:"PaymentCryptographyData"},codegurusecurity:{prefix:"codeguru-security",name:"CodeGuruSecurity"},verifiedpermissions:{name:"VerifiedPermissions"},appfabric:{name:"AppFabric"},medicalimaging:{prefix:"medical-imaging",name:"MedicalImaging"},entityresolution:{name:"EntityResolution"},managedblockchainquery:{prefix:"managedblockchain-query",name:"ManagedBlockchainQuery"},neptunedata:{name:"Neptunedata"},pcaconnectorad:{prefix:"pca-connector-ad",name:"PcaConnectorAd"},bedrock:{name:"Bedrock"},bedrockruntime:{prefix:"bedrock-runtime",name:"BedrockRuntime"},datazone:{name:"DataZone"},launchwizard:{prefix:"launch-wizard",name:"LaunchWizard"},trustedadvisor:{name:"TrustedAdvisor"},inspectorscan:{prefix:"inspector-scan",name:"InspectorScan"},bcmdataexports:{prefix:"bcm-data-exports",name:"BCMDataExports"},costoptimizationhub:{prefix:"cost-optimization-hub",name:"CostOptimizationHub"},eksauth:{prefix:"eks-auth",name:"EKSAuth"},freetier:{name:"FreeTier"},repostspace:{name:"Repostspace"},workspacesthinclient:{prefix:"workspaces-thin-client",name:"WorkSpacesThinClient"},b2bi:{name:"B2bi"},bedrockagent:{prefix:"bedrock-agent",name:"BedrockAgent"},bedrockagentruntime:{prefix:"bedrock-agent-runtime",name:"BedrockAgentRuntime"},qbusiness:{name:"QBusiness"},qconnect:{name:"QConnect"},cleanroomsml:{name:"CleanRoomsML"},marketplaceagreement:{prefix:"marketplace-agreement",name:"MarketplaceAgreement"},marketplacedeployment:{prefix:"marketplace-deployment",name:"MarketplaceDeployment"},networkmonitor:{name:"NetworkMonitor"},supplychain:{name:"SupplyChain"},artifact:{name:"Artifact"},chatbot:{name:"Chatbot"},timestreaminfluxdb:{prefix:"timestream-influxdb",name:"TimestreamInfluxDB"},codeconnections:{name:"CodeConnections"}}},{}],5:[function(N,L,u){L.exports={version:"2.0",metadata:{apiVersion:"2011-06-15",endpointPrefix:"sts",globalEndpoint:"sts.amazonaws.com",protocol:"query",serviceAbbreviation:"AWS STS",serviceFullName:"AWS Security Token Service",serviceId:"STS",signatureVersion:"v4",uid:"sts-2011-06-15",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/"},operations:{AssumeRole:{input:{type:"structure",required:["RoleArn","RoleSessionName"],members:{RoleArn:{},RoleSessionName:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"},Tags:{shape:"S8"},TransitiveTagKeys:{type:"list",member:{}},ExternalId:{},SerialNumber:{},TokenCode:{},SourceIdentity:{},ProvidedContexts:{type:"list",member:{type:"structure",members:{ProviderArn:{},ContextAssertion:{}}}}}},output:{resultWrapper:"AssumeRoleResult",type:"structure",members:{Credentials:{shape:"Sl"},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},SourceIdentity:{}}}},AssumeRoleWithSAML:{input:{type:"structure",required:["RoleArn","PrincipalArn","SAMLAssertion"],members:{RoleArn:{},PrincipalArn:{},SAMLAssertion:{type:"string",sensitive:!0},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithSAMLResult",type:"structure",members:{Credentials:{shape:"Sl"},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},Subject:{},SubjectType:{},Issuer:{},Audience:{},NameQualifier:{},SourceIdentity:{}}}},AssumeRoleWithWebIdentity:{input:{type:"structure",required:["RoleArn","RoleSessionName","WebIdentityToken"],members:{RoleArn:{},RoleSessionName:{},WebIdentityToken:{type:"string",sensitive:!0},ProviderId:{},PolicyArns:{shape:"S4"},Policy:{},DurationSeconds:{type:"integer"}}},output:{resultWrapper:"AssumeRoleWithWebIdentityResult",type:"structure",members:{Credentials:{shape:"Sl"},SubjectFromWebIdentityToken:{},AssumedRoleUser:{shape:"Sq"},PackedPolicySize:{type:"integer"},Provider:{},Audience:{},SourceIdentity:{}}}},DecodeAuthorizationMessage:{input:{type:"structure",required:["EncodedMessage"],members:{EncodedMessage:{}}},output:{resultWrapper:"DecodeAuthorizationMessageResult",type:"structure",members:{DecodedMessage:{}}}},GetAccessKeyInfo:{input:{type:"structure",required:["AccessKeyId"],members:{AccessKeyId:{}}},output:{resultWrapper:"GetAccessKeyInfoResult",type:"structure",members:{Account:{}}}},GetCallerIdentity:{input:{type:"structure",members:{}},output:{resultWrapper:"GetCallerIdentityResult",type:"structure",members:{UserId:{},Account:{},Arn:{}}}},GetFederationToken:{input:{type:"structure",required:["Name"],members:{Name:{},Policy:{},PolicyArns:{shape:"S4"},DurationSeconds:{type:"integer"},Tags:{shape:"S8"}}},output:{resultWrapper:"GetFederationTokenResult",type:"structure",members:{Credentials:{shape:"Sl"},FederatedUser:{type:"structure",required:["FederatedUserId","Arn"],members:{FederatedUserId:{},Arn:{}}},PackedPolicySize:{type:"integer"}}}},GetSessionToken:{input:{type:"structure",members:{DurationSeconds:{type:"integer"},SerialNumber:{},TokenCode:{}}},output:{resultWrapper:"GetSessionTokenResult",type:"structure",members:{Credentials:{shape:"Sl"}}}}},shapes:{S4:{type:"list",member:{type:"structure",members:{arn:{}}}},S8:{type:"list",member:{type:"structure",required:["Key","Value"],members:{Key:{},Value:{}}}},Sl:{type:"structure",required:["AccessKeyId","SecretAccessKey","SessionToken","Expiration"],members:{AccessKeyId:{},SecretAccessKey:{type:"string",sensitive:!0},SessionToken:{},Expiration:{type:"timestamp"}}},Sq:{type:"structure",required:["AssumedRoleId","Arn"],members:{AssumedRoleId:{},Arn:{}}}}}},{}],6:[function(N,L,u){L.exports={pagination:{}}},{}],7:[function(N,L,u){N("../lib/node_loader");var E=N("../lib/core"),C=E.Service,v=E.apiLoader;v.services.cognitoidentity={},E.CognitoIdentity=C.defineService("cognitoidentity",["2014-06-30"]),Object.defineProperty(v.services.cognitoidentity,"2014-06-30",{get:function(){var f=N("../apis/cognito-identity-2014-06-30.min.json");return f.paginators=N("../apis/cognito-identity-2014-06-30.paginators.json").pagination,f},enumerable:!0,configurable:!0}),L.exports=E.CognitoIdentity},{"../apis/cognito-identity-2014-06-30.min.json":1,"../apis/cognito-identity-2014-06-30.paginators.json":2,"../lib/core":19,"../lib/node_loader":16}],8:[function(N,L,u){N("../lib/node_loader");var E=N("../lib/core"),C=E.Service,v=E.apiLoader;v.services.sts={},E.STS=C.defineService("sts",["2011-06-15"]),N("../lib/services/sts"),Object.defineProperty(v.services.sts,"2011-06-15",{get:function(){var f=N("../apis/sts-2011-06-15.min.json");return f.paginators=N("../apis/sts-2011-06-15.paginators.json").pagination,f},enumerable:!0,configurable:!0}),L.exports=E.STS},{"../apis/sts-2011-06-15.min.json":5,"../apis/sts-2011-06-15.paginators.json":6,"../lib/core":19,"../lib/node_loader":16,"../lib/services/sts":63}],9:[function(N,L,u){function E(C,v){if(!E.services.hasOwnProperty(C))throw new Error("InvalidService: Failed to load api for "+C);return E.services[C][v]}E.services={},L.exports=E},{}],10:[function(N,L,u){var E=N("./browserHmac"),C=N("./browserMd5"),v=N("./browserSha1"),m=N("./browserSha256");L.exports={createHash:function(a){if(a=a.toLowerCase(),a==="md5")return new C;if(a==="sha256")return new m;if(a==="sha1")return new v;throw new Error("Hash algorithm "+a+" is not supported in the browser SDK")},createHmac:function(a,d){if(a=a.toLowerCase(),a==="md5")return new E(C,d);if(a==="sha256")return new E(m,d);if(a==="sha1")return new E(v,d);throw new Error("HMAC algorithm "+a+" is not supported in the browser SDK")},createSign:function(){throw new Error("createSign is not implemented in the browser")}}},{"./browserHmac":12,"./browserMd5":13,"./browserSha1":14,"./browserSha256":15}],11:[function(N,L,u){var E=N("buffer/").Buffer;typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView>"u"&&(ArrayBuffer.isView=function(f){return C.indexOf(Object.prototype.toString.call(f))>-1});var C=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"];function v(f){return typeof f=="string"?f.length===0:f.byteLength===0}function m(f){return typeof f=="string"&&(f=new E(f,"utf8")),ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(f)}L.exports={isEmptyData:v,convertToBuffer:m}},{"buffer/":86}],12:[function(N,L,u){var E=N("./browserHashUtils");function C(m,f){this.hash=new m,this.outer=new m;var a=v(m,f),d=new Uint8Array(m.BLOCK_SIZE);d.set(a);for(var p=0;p<m.BLOCK_SIZE;p++)a[p]^=54,d[p]^=92;this.hash.update(a),this.outer.update(d);for(var p=0;p<a.byteLength;p++)a[p]=0}L.exports=C,C.prototype.update=function(m){if(E.isEmptyData(m)||this.error)return this;try{this.hash.update(E.convertToBuffer(m))}catch(f){this.error=f}return this},C.prototype.digest=function(m){return this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest(m)};function v(m,f){var a=E.convertToBuffer(f);if(a.byteLength>m.BLOCK_SIZE){var d=new m;d.update(a),a=d.digest()}var p=new Uint8Array(m.BLOCK_SIZE);return p.set(a),p}},{"./browserHashUtils":11}],13:[function(N,L,u){var E=N("./browserHashUtils"),C=N("buffer/").Buffer,v=64,m=16;function f(){this.state=[1732584193,4023233417,2562383102,271733878],this.buffer=new DataView(new ArrayBuffer(v)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}L.exports=f,f.BLOCK_SIZE=v,f.prototype.update=function(s){if(E.isEmptyData(s))return this;if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=E.convertToBuffer(s),T=0,S=i.byteLength;for(this.bytesHashed+=S;S>0;)this.buffer.setUint8(this.bufferLength++,i[T++]),S--,this.bufferLength===v&&(this.hashBuffer(),this.bufferLength=0);return this},f.prototype.digest=function(s){if(!this.finished){var i=this,T=i.buffer,S=i.bufferLength,y=i.bytesHashed,h=y*8;if(T.setUint8(this.bufferLength++,128),S%v>=v-8){for(var b=this.bufferLength;b<v;b++)T.setUint8(b,0);this.hashBuffer(),this.bufferLength=0}for(var b=this.bufferLength;b<v-8;b++)T.setUint8(b,0);T.setUint32(v-8,h>>>0,!0),T.setUint32(v-4,Math.floor(h/4294967296),!0),this.hashBuffer(),this.finished=!0}for(var A=new DataView(new ArrayBuffer(m)),b=0;b<4;b++)A.setUint32(b*4,this.state[b],!0);var r=new C(A.buffer,A.byteOffset,A.byteLength);return s?r.toString(s):r},f.prototype.hashBuffer=function(){var s=this,i=s.buffer,T=s.state,S=T[0],y=T[1],h=T[2],b=T[3];S=d(S,y,h,b,i.getUint32(0,!0),7,3614090360),b=d(b,S,y,h,i.getUint32(4,!0),12,3905402710),h=d(h,b,S,y,i.getUint32(8,!0),17,606105819),y=d(y,h,b,S,i.getUint32(12,!0),22,3250441966),S=d(S,y,h,b,i.getUint32(16,!0),7,4118548399),b=d(b,S,y,h,i.getUint32(20,!0),12,1200080426),h=d(h,b,S,y,i.getUint32(24,!0),17,2821735955),y=d(y,h,b,S,i.getUint32(28,!0),22,4249261313),S=d(S,y,h,b,i.getUint32(32,!0),7,1770035416),b=d(b,S,y,h,i.getUint32(36,!0),12,2336552879),h=d(h,b,S,y,i.getUint32(40,!0),17,4294925233),y=d(y,h,b,S,i.getUint32(44,!0),22,2304563134),S=d(S,y,h,b,i.getUint32(48,!0),7,1804603682),b=d(b,S,y,h,i.getUint32(52,!0),12,4254626195),h=d(h,b,S,y,i.getUint32(56,!0),17,2792965006),y=d(y,h,b,S,i.getUint32(60,!0),22,1236535329),S=p(S,y,h,b,i.getUint32(4,!0),5,4129170786),b=p(b,S,y,h,i.getUint32(24,!0),9,3225465664),h=p(h,b,S,y,i.getUint32(44,!0),14,643717713),y=p(y,h,b,S,i.getUint32(0,!0),20,3921069994),S=p(S,y,h,b,i.getUint32(20,!0),5,3593408605),b=p(b,S,y,h,i.getUint32(40,!0),9,38016083),h=p(h,b,S,y,i.getUint32(60,!0),14,3634488961),y=p(y,h,b,S,i.getUint32(16,!0),20,3889429448),S=p(S,y,h,b,i.getUint32(36,!0),5,568446438),b=p(b,S,y,h,i.getUint32(56,!0),9,3275163606),h=p(h,b,S,y,i.getUint32(12,!0),14,4107603335),y=p(y,h,b,S,i.getUint32(32,!0),20,1163531501),S=p(S,y,h,b,i.getUint32(52,!0),5,2850285829),b=p(b,S,y,h,i.getUint32(8,!0),9,4243563512),h=p(h,b,S,y,i.getUint32(28,!0),14,1735328473),y=p(y,h,b,S,i.getUint32(48,!0),20,2368359562),S=c(S,y,h,b,i.getUint32(20,!0),4,4294588738),b=c(b,S,y,h,i.getUint32(32,!0),11,2272392833),h=c(h,b,S,y,i.getUint32(44,!0),16,1839030562),y=c(y,h,b,S,i.getUint32(56,!0),23,4259657740),S=c(S,y,h,b,i.getUint32(4,!0),4,2763975236),b=c(b,S,y,h,i.getUint32(16,!0),11,1272893353),h=c(h,b,S,y,i.getUint32(28,!0),16,4139469664),y=c(y,h,b,S,i.getUint32(40,!0),23,3200236656),S=c(S,y,h,b,i.getUint32(52,!0),4,681279174),b=c(b,S,y,h,i.getUint32(0,!0),11,3936430074),h=c(h,b,S,y,i.getUint32(12,!0),16,3572445317),y=c(y,h,b,S,i.getUint32(24,!0),23,76029189),S=c(S,y,h,b,i.getUint32(36,!0),4,3654602809),b=c(b,S,y,h,i.getUint32(48,!0),11,3873151461),h=c(h,b,S,y,i.getUint32(60,!0),16,530742520),y=c(y,h,b,S,i.getUint32(8,!0),23,3299628645),S=l(S,y,h,b,i.getUint32(0,!0),6,4096336452),b=l(b,S,y,h,i.getUint32(28,!0),10,1126891415),h=l(h,b,S,y,i.getUint32(56,!0),15,2878612391),y=l(y,h,b,S,i.getUint32(20,!0),21,4237533241),S=l(S,y,h,b,i.getUint32(48,!0),6,1700485571),b=l(b,S,y,h,i.getUint32(12,!0),10,2399980690),h=l(h,b,S,y,i.getUint32(40,!0),15,4293915773),y=l(y,h,b,S,i.getUint32(4,!0),21,2240044497),S=l(S,y,h,b,i.getUint32(32,!0),6,1873313359),b=l(b,S,y,h,i.getUint32(60,!0),10,4264355552),h=l(h,b,S,y,i.getUint32(24,!0),15,2734768916),y=l(y,h,b,S,i.getUint32(52,!0),21,1309151649),S=l(S,y,h,b,i.getUint32(16,!0),6,4149444226),b=l(b,S,y,h,i.getUint32(44,!0),10,3174756917),h=l(h,b,S,y,i.getUint32(8,!0),15,718787259),y=l(y,h,b,S,i.getUint32(36,!0),21,3951481745),T[0]=S+T[0]&4294967295,T[1]=y+T[1]&4294967295,T[2]=h+T[2]&4294967295,T[3]=b+T[3]&4294967295};function a(s,i,T,S,y,h){return i=(i+s&4294967295)+(S+h&4294967295)&4294967295,(i<<y|i>>>32-y)+T&4294967295}function d(s,i,T,S,y,h,b){return a(i&T|~i&S,s,i,y,h,b)}function p(s,i,T,S,y,h,b){return a(i&S|T&~S,s,i,y,h,b)}function c(s,i,T,S,y,h,b){return a(i^T^S,s,i,y,h,b)}function l(s,i,T,S,y,h,b){return a(T^(i|~S),s,i,y,h,b)}},{"./browserHashUtils":11,"buffer/":86}],14:[function(N,L,u){var E=N("buffer/").Buffer,C=N("./browserHashUtils"),v=64,m=20;function f(){this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=new Uint32Array(80),this.offset=0,this.shift=24,this.totalLength=0}L.exports=f,f.BLOCK_SIZE=v,f.prototype.update=function(a){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(C.isEmptyData(a))return this;a=C.convertToBuffer(a);var d=a.length;this.totalLength+=d*8;for(var p=0;p<d;p++)this.write(a[p]);return this},f.prototype.write=function(d){this.block[this.offset]|=(d&255)<<this.shift,this.shift?this.shift-=8:(this.offset++,this.shift=24),this.offset===16&&this.processBlock()},f.prototype.digest=function(a){this.write(128),(this.offset>14||this.offset===14&&this.shift<24)&&this.processBlock(),this.offset=14,this.shift=24,this.write(0),this.write(0),this.write(this.totalLength>0xffffffffff?this.totalLength/1099511627776:0),this.write(this.totalLength>4294967295?this.totalLength/4294967296:0);for(var d=24;d>=0;d-=8)this.write(this.totalLength>>d);var p=new E(m),c=new DataView(p.buffer);return c.setUint32(0,this.h0,!1),c.setUint32(4,this.h1,!1),c.setUint32(8,this.h2,!1),c.setUint32(12,this.h3,!1),c.setUint32(16,this.h4,!1),a?p.toString(a):p},f.prototype.processBlock=function(){for(var d=16;d<80;d++){var p=this.block[d-3]^this.block[d-8]^this.block[d-14]^this.block[d-16];this.block[d]=p<<1|p>>>31}var c=this.h0,l=this.h1,s=this.h2,i=this.h3,T=this.h4,S,y;for(d=0;d<80;d++){d<20?(S=i^l&(s^i),y=1518500249):d<40?(S=l^s^i,y=1859775393):d<60?(S=l&s|i&(l|s),y=2400959708):(S=l^s^i,y=3395469782);var h=(c<<5|c>>>27)+S+T+y+(this.block[d]|0);T=i,i=s,s=l<<30|l>>>2,l=c,c=h}for(this.h0=this.h0+c|0,this.h1=this.h1+l|0,this.h2=this.h2+s|0,this.h3=this.h3+i|0,this.h4=this.h4+T|0,this.offset=0,d=0;d<16;d++)this.block[d]=0}},{"./browserHashUtils":11,"buffer/":86}],15:[function(N,L,u){var E=N("buffer/").Buffer,C=N("./browserHashUtils"),v=64,m=32,f=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=Math.pow(2,53)-1;function d(){this.state=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}L.exports=d,d.BLOCK_SIZE=v,d.prototype.update=function(p){if(this.finished)throw new Error("Attempted to update an already finished hash.");if(C.isEmptyData(p))return this;p=C.convertToBuffer(p);var c=0,l=p.byteLength;if(this.bytesHashed+=l,this.bytesHashed*8>a)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;l>0;)this.buffer[this.bufferLength++]=p[c++],l--,this.bufferLength===v&&(this.hashBuffer(),this.bufferLength=0);return this},d.prototype.digest=function(p){if(!this.finished){var c=this.bytesHashed*8,l=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(l.setUint8(this.bufferLength++,128),s%v>=v-8){for(var i=this.bufferLength;i<v;i++)l.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<v-8;i++)l.setUint8(i,0);l.setUint32(v-8,Math.floor(c/4294967296),!0),l.setUint32(v-4,c),this.hashBuffer(),this.finished=!0}for(var T=new E(m),i=0;i<8;i++)T[i*4]=this.state[i]>>>24&255,T[i*4+1]=this.state[i]>>>16&255,T[i*4+2]=this.state[i]>>>8&255,T[i*4+3]=this.state[i]>>>0&255;return p?T.toString(p):T},d.prototype.hashBuffer=function(){for(var p=this,c=p.buffer,l=p.state,s=l[0],i=l[1],T=l[2],S=l[3],y=l[4],h=l[5],b=l[6],A=l[7],r=0;r<v;r++){if(r<16)this.temp[r]=(c[r*4]&255)<<24|(c[r*4+1]&255)<<16|(c[r*4+2]&255)<<8|c[r*4+3]&255;else{var w=this.temp[r-2],O=(w>>>17|w<<15)^(w>>>19|w<<13)^w>>>10;w=this.temp[r-15];var R=(w>>>7|w<<25)^(w>>>18|w<<14)^w>>>3;this.temp[r]=(O+this.temp[r-7]|0)+(R+this.temp[r-16]|0)}var z=(((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&h^~y&b)|0)+(A+(f[r]+this.temp[r]|0)|0)|0,ee=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&T^i&T)|0;A=b,b=h,h=y,y=S+z|0,S=T,T=i,i=s,s=z+ee|0}l[0]+=s,l[1]+=i,l[2]+=T,l[3]+=S,l[4]+=y,l[5]+=h,l[6]+=b,l[7]+=A}},{"./browserHashUtils":11,"buffer/":86}],16:[function(N,L,u){(function(E){(function(){var C=N("./util");C.crypto.lib=N("./browserCryptoLib"),C.Buffer=N("buffer/").Buffer,C.url=N("url/"),C.querystring=N("querystring/"),C.realClock=N("./realclock/browserClock"),C.environment="js",C.createEventStream=N("./event-stream/buffered-create-event-stream").createEventStream,C.isBrowser=function(){return!0},C.isNode=function(){return!1};var v=N("./core");L.exports=v,N("./credentials"),N("./credentials/credential_provider_chain"),N("./credentials/temporary_credentials"),N("./credentials/chainable_temporary_credentials"),N("./credentials/web_identity_credentials"),N("./credentials/cognito_identity_credentials"),N("./credentials/saml_credentials"),v.XML.Parser=N("./xml/browser_parser"),N("./http/xhr")}).call(this)}).call(this,N("_process"))},{"./browserCryptoLib":10,"./core":19,"./credentials":20,"./credentials/chainable_temporary_credentials":21,"./credentials/cognito_identity_credentials":22,"./credentials/credential_provider_chain":23,"./credentials/saml_credentials":24,"./credentials/temporary_credentials":25,"./credentials/web_identity_credentials":26,"./event-stream/buffered-create-event-stream":28,"./http/xhr":36,"./realclock/browserClock":54,"./util":74,"./xml/browser_parser":75,_process:91,"buffer/":86,"querystring/":98,"url/":100}],17:[function(N,L,u){var E=N("./core");N("./credentials"),N("./credentials/credential_provider_chain");var C;E.Config=E.util.inherit({constructor:function(m){m===void 0&&(m={}),m=this.extractCredentials(m),E.util.each.call(this,this.keys,function(f,a){this.set(f,m[f],a)})},getCredentials:function(m){var f=this;function a(l){m(l,l?null:f.credentials)}function d(l,s){return new E.util.error(s||new Error,{code:"CredentialsError",message:l,name:"CredentialsError"})}function p(){f.credentials.get(function(l){if(l){var s="Could not load credentials from "+f.credentials.constructor.name;l=d(s,l)}a(l)})}function c(){var l=null;(!f.credentials.accessKeyId||!f.credentials.secretAccessKey)&&(l=d("Missing credentials")),a(l)}f.credentials?typeof f.credentials.get=="function"?p():c():f.credentialProvider?f.credentialProvider.resolve(function(l,s){l&&(l=d("Could not load credentials from any providers",l)),f.credentials=s,a(l)}):a(d("No credentials to load"))},getToken:function(m){var f=this;function a(l){m(l,l?null:f.token)}function d(l,s){return new E.util.error(s||new Error,{code:"TokenError",message:l,name:"TokenError"})}function p(){f.token.get(function(l){if(l){var s="Could not load token from "+f.token.constructor.name;l=d(s,l)}a(l)})}function c(){var l=null;f.token.token||(l=d("Missing token")),a(l)}f.token?typeof f.token.get=="function"?p():c():f.tokenProvider?f.tokenProvider.resolve(function(l,s){l&&(l=d("Could not load token from any providers",l)),f.token=s,a(l)}):a(d("No token to load"))},update:function(m,f){f=f||!1,m=this.extractCredentials(m),E.util.each.call(this,m,function(a,d){(f||Object.prototype.hasOwnProperty.call(this.keys,a)||E.Service.hasService(a))&&this.set(a,d)})},loadFromPath:function(m){this.clear();var f=JSON.parse(E.util.readFileSync(m)),a=new E.FileSystemCredentials(m),d=new E.CredentialProviderChain;return d.providers.unshift(a),d.resolve(function(p,c){if(p)throw p;f.credentials=c}),this.constructor(f),this},clear:function(){E.util.each.call(this,this.keys,function(m){delete this[m]}),this.set("credentials",void 0),this.set("credentialProvider",void 0)},set:function(m,f,a){f===void 0?(a===void 0&&(a=this.keys[m]),typeof a=="function"?this[m]=a.call(this):this[m]=a):m==="httpOptions"&&this[m]?this[m]=E.util.merge(this[m],f):this[m]=f},keys:{credentials:null,credentialProvider:null,region:null,logger:null,apiVersions:{},apiVersion:null,endpoint:void 0,httpOptions:{timeout:12e4},maxRetries:void 0,maxRedirects:10,paramValidation:!0,sslEnabled:!0,s3ForcePathStyle:!1,s3BucketEndpoint:!1,s3DisableBodySigning:!0,s3UsEast1RegionalEndpoint:"legacy",s3UseArnRegion:void 0,computeChecksums:!0,convertResponseTypes:!0,correctClockSkew:!1,customUserAgent:null,dynamoDbCrc32:!0,systemClockOffset:0,signatureVersion:null,signatureCache:!0,retryDelayOptions:{},useAccelerateEndpoint:!1,clientSideMonitoring:!1,endpointDiscoveryEnabled:void 0,endpointCacheSize:1e3,hostPrefixEnabled:!0,stsRegionalEndpoints:"legacy",useFipsEndpoint:!1,useDualstackEndpoint:!1,token:null},extractCredentials:function(m){return m.accessKeyId&&m.secretAccessKey&&(m=E.util.copy(m),m.credentials=new E.Credentials(m)),m},setPromisesDependency:function(m){C=m,m===null&&typeof Promise=="function"&&(C=Promise);var f=[E.Request,E.Credentials,E.CredentialProviderChain];E.S3&&(f.push(E.S3),E.S3.ManagedUpload&&f.push(E.S3.ManagedUpload)),E.util.addPromises(f,C)},getPromisesDependency:function(){return C}}),E.config=new E.Config},{"./core":19,"./credentials":20,"./credentials/credential_provider_chain":23}],18:[function(N,L,u){(function(E){(function(){var C=N("./core");function v(f,a){if(typeof f=="string"){if(["legacy","regional"].indexOf(f.toLowerCase())>=0)return f.toLowerCase();throw C.util.error(new Error,a)}}function m(f,a){f=f||{};var d;if(f[a.clientConfig]&&(d=v(f[a.clientConfig],{code:"InvalidConfiguration",message:'invalid "'+a.clientConfig+'" configuration. Expect "legacy"  or "regional". Got "'+f[a.clientConfig]+'".'}),d)||!C.util.isNode())return d;if(Object.prototype.hasOwnProperty.call(E.env,a.env)){var p=E.env[a.env];if(d=v(p,{code:"InvalidEnvironmentalVariable",message:"invalid "+a.env+' environmental variable. Expect "legacy"  or "regional". Got "'+E.env[a.env]+'".'}),d)return d}var c={};try{var l=C.util.getProfilesFromSharedConfig(C.util.iniLoader);c=l[E.env.AWS_PROFILE||C.util.defaultProfile]}catch{}if(c&&Object.prototype.hasOwnProperty.call(c,a.sharedConfig)){var s=c[a.sharedConfig];if(d=v(s,{code:"InvalidConfiguration",message:"invalid "+a.sharedConfig+' profile config. Expect "legacy"  or "regional". Got "'+c[a.sharedConfig]+'".'}),d)return d}return d}L.exports=m}).call(this)}).call(this,N("_process"))},{"./core":19,_process:91}],19:[function(N,L,u){var E={util:N("./util")};L.exports=E,E.util.update(E,{VERSION:"2.1589.0",Signers:{},Protocol:{Json:N("./protocol/json"),Query:N("./protocol/query"),Rest:N("./protocol/rest"),RestJson:N("./protocol/rest_json"),RestXml:N("./protocol/rest_xml")},XML:{Builder:N("./xml/builder"),Parser:null},JSON:{Builder:N("./json/builder"),Parser:N("./json/parser")},Model:{Api:N("./model/api"),Operation:N("./model/operation"),Shape:N("./model/shape"),Paginator:N("./model/paginator"),ResourceWaiter:N("./model/resource_waiter")},apiLoader:N("./api_loader"),EndpointCache:N("../vendor/endpoint-cache").EndpointCache}),N("./sequential_executor"),N("./service"),N("./config"),N("./http"),N("./event_listeners"),N("./request"),N("./response"),N("./resource_waiter"),N("./signers/request_signer"),N("./param_validator"),N("./maintenance_mode_message"),E.events=new E.SequentialExecutor,E.util.memoizedProperty(E,"endpointCache",function(){return new E.EndpointCache(E.config.endpointCacheSize)},!0)},{"../vendor/endpoint-cache":111,"./api_loader":9,"./config":17,"./event_listeners":34,"./http":35,"./json/builder":37,"./json/parser":38,"./maintenance_mode_message":39,"./model/api":40,"./model/operation":42,"./model/paginator":43,"./model/resource_waiter":44,"./model/shape":45,"./param_validator":46,"./protocol/json":48,"./protocol/query":49,"./protocol/rest":50,"./protocol/rest_json":51,"./protocol/rest_xml":52,"./request":58,"./resource_waiter":59,"./response":60,"./sequential_executor":61,"./service":62,"./signers/request_signer":66,"./util":74,"./xml/builder":76}],20:[function(N,L,u){var E=N("./core");E.Credentials=E.util.inherit({constructor:function(){if(E.util.hideProperties(this,["secretAccessKey"]),this.expired=!1,this.expireTime=null,this.refreshCallbacks=[],arguments.length===1&&he(arguments[0])==="object"){var v=arguments[0].credentials||arguments[0];this.accessKeyId=v.accessKeyId,this.secretAccessKey=v.secretAccessKey,this.sessionToken=v.sessionToken}else this.accessKeyId=arguments[0],this.secretAccessKey=arguments[1],this.sessionToken=arguments[2]},expiryWindow:15,needsRefresh:function(){var v=E.util.date.getDate().getTime(),m=new Date(v+this.expiryWindow*1e3);return this.expireTime&&m>this.expireTime?!0:this.expired||!this.accessKeyId||!this.secretAccessKey},get:function(v){var m=this;this.needsRefresh()?this.refresh(function(f){f||(m.expired=!1),v&&v(f)}):v&&v()},refresh:function(v){this.expired=!1,v()},coalesceRefresh:function(v,m){var f=this;f.refreshCallbacks.push(v)===1&&f.load(function(d){E.util.arrayEach(f.refreshCallbacks,function(p){m?p(d):E.util.defer(function(){p(d)})}),f.refreshCallbacks.length=0})},load:function(v){v()}}),E.Credentials.addPromisesToClass=function(v){this.prototype.getPromise=E.util.promisifyMethod("get",v),this.prototype.refreshPromise=E.util.promisifyMethod("refresh",v)},E.Credentials.deletePromisesFromClass=function(){delete this.prototype.getPromise,delete this.prototype.refreshPromise},E.util.addPromises(E.Credentials)},{"./core":19}],21:[function(N,L,u){var E=N("../core"),C=N("../../clients/sts");E.ChainableTemporaryCredentials=E.util.inherit(E.Credentials,{constructor:function(m){E.Credentials.call(this),m=m||{},this.errorCode="ChainableTemporaryCredentialsProviderFailure",this.expired=!0,this.tokenCodeFn=null;var f=E.util.copy(m.params)||{};if(f.RoleArn&&(f.RoleSessionName=f.RoleSessionName||"temporary-credentials"),f.SerialNumber){if(!m.tokenCodeFn||typeof m.tokenCodeFn!="function")throw new E.util.error(new Error("tokenCodeFn must be a function when params.SerialNumber is given"),{code:this.errorCode});this.tokenCodeFn=m.tokenCodeFn}var a=E.util.merge({params:f,credentials:m.masterCredentials||E.config.credentials},m.stsConfig||{});this.service=new C(a)},refresh:function(m){this.coalesceRefresh(m||E.util.fn.callback)},load:function(m){var f=this,a=f.service.config.params.RoleArn?"assumeRole":"getSessionToken";this.getTokenCode(function(d,p){var c={};if(d){m(d);return}p&&(c.TokenCode=p),f.service[a](c,function(l,s){l||f.service.credentialsFrom(s,f),m(l)})})},getTokenCode:function(m){var f=this;this.tokenCodeFn?this.tokenCodeFn(this.service.config.params.SerialNumber,function(a,d){if(a){var p=a;a instanceof Error&&(p=a.message),m(E.util.error(new Error("Error fetching MFA token: "+p),{code:f.errorCode}));return}m(null,d)}):m(null)}})},{"../../clients/sts":8,"../core":19}],22:[function(N,L,u){var E=N("../core"),C=N("../../clients/cognitoidentity"),v=N("../../clients/sts");E.CognitoIdentityCredentials=E.util.inherit(E.Credentials,{localStorageKey:{id:"aws.cognito.identity-id.",providers:"aws.cognito.identity-providers."},constructor:function(f,a){E.Credentials.call(this),this.expired=!0,this.params=f,this.data=null,this._identityId=null,this._clientConfig=E.util.copy(a||{}),this.loadCachedId();var d=this;Object.defineProperty(this,"identityId",{get:function(){return d.loadCachedId(),d._identityId||d.params.IdentityId},set:function(c){d._identityId=c}})},refresh:function(f){this.coalesceRefresh(f||E.util.fn.callback)},load:function(f){var a=this;a.createClients(),a.data=null,a._identityId=null,a.getId(function(d){d?(a.clearIdOnNotAuthorized(d),f(d)):a.params.RoleArn?a.getCredentialsFromSTS(f):a.getCredentialsForIdentity(f)})},clearCachedId:function(){this._identityId=null,delete this.params.IdentityId;var f=this.params.IdentityPoolId,a=this.params.LoginId||"";delete this.storage[this.localStorageKey.id+f+a],delete this.storage[this.localStorageKey.providers+f+a]},clearIdOnNotAuthorized:function(f){var a=this;f.code=="NotAuthorizedException"&&a.clearCachedId()},getId:function(f){var a=this;if(typeof a.params.IdentityId=="string")return f(null,a.params.IdentityId);a.cognito.getId(function(d,p){!d&&p.IdentityId?(a.params.IdentityId=p.IdentityId,f(null,p.IdentityId)):f(d)})},loadCredentials:function(f,a){!f||!a||(a.expired=!1,a.accessKeyId=f.Credentials.AccessKeyId,a.secretAccessKey=f.Credentials.SecretKey,a.sessionToken=f.Credentials.SessionToken,a.expireTime=f.Credentials.Expiration)},getCredentialsForIdentity:function(f){var a=this;a.cognito.getCredentialsForIdentity(function(d,p){d?a.clearIdOnNotAuthorized(d):(a.cacheId(p),a.data=p,a.loadCredentials(a.data,a)),f(d)})},getCredentialsFromSTS:function(f){var a=this;a.cognito.getOpenIdToken(function(d,p){d?(a.clearIdOnNotAuthorized(d),f(d)):(a.cacheId(p),a.params.WebIdentityToken=p.Token,a.webIdentityCredentials.refresh(function(c){c||(a.data=a.webIdentityCredentials.data,a.sts.credentialsFrom(a.data,a)),f(c)}))})},loadCachedId:function(){var f=this;if(E.util.isBrowser()&&!f.params.IdentityId){var a=f.getStorage("id");if(a&&f.params.Logins){var d=Object.keys(f.params.Logins),p=(f.getStorage("providers")||"").split(","),c=p.filter(function(l){return d.indexOf(l)!==-1});c.length!==0&&(f.params.IdentityId=a)}else a&&(f.params.IdentityId=a)}},createClients:function(){var f=this._clientConfig;if(this.webIdentityCredentials=this.webIdentityCredentials||new E.WebIdentityCredentials(this.params,f),!this.cognito){var a=E.util.merge({},f);a.params=this.params,this.cognito=new C(a)}this.sts=this.sts||new v(f)},cacheId:function(f){this._identityId=f.IdentityId,this.params.IdentityId=this._identityId,E.util.isBrowser()&&(this.setStorage("id",f.IdentityId),this.params.Logins&&this.setStorage("providers",Object.keys(this.params.Logins).join(",")))},getStorage:function(f){return this.storage[this.localStorageKey[f]+this.params.IdentityPoolId+(this.params.LoginId||"")]},setStorage:function(f,a){try{this.storage[this.localStorageKey[f]+this.params.IdentityPoolId+(this.params.LoginId||"")]=a}catch{}},storage:function(){try{var m=E.util.isBrowser()&&window.localStorage!==null&&he(window.localStorage)==="object"?window.localStorage:{};return m["aws.test-storage"]="foobar",delete m["aws.test-storage"],m}catch{return{}}}()})},{"../../clients/cognitoidentity":7,"../../clients/sts":8,"../core":19}],23:[function(N,L,u){var E=N("../core");E.CredentialProviderChain=E.util.inherit(E.Credentials,{constructor:function(v){v?this.providers=v:this.providers=E.CredentialProviderChain.defaultProviders.slice(0),this.resolveCallbacks=[]},resolve:function(v){var m=this;if(m.providers.length===0)return v(new Error("No providers")),m;if(m.resolveCallbacks.push(v)===1){var f=function(c,l){if(!c&&l||a===d.length){E.util.arrayEach(m.resolveCallbacks,function(i){i(c,l)}),m.resolveCallbacks.length=0;return}var s=d[a++];typeof s=="function"?l=s.call():l=s,l.get?l.get(function(i){f(i,i?null:l)}):f(null,l)},a=0,d=m.providers.slice(0);f()}return m}}),E.CredentialProviderChain.defaultProviders=[],E.CredentialProviderChain.addPromisesToClass=function(v){this.prototype.resolvePromise=E.util.promisifyMethod("resolve",v)},E.CredentialProviderChain.deletePromisesFromClass=function(){delete this.prototype.resolvePromise},E.util.addPromises(E.CredentialProviderChain)},{"../core":19}],24:[function(N,L,u){var E=N("../core"),C=N("../../clients/sts");E.SAMLCredentials=E.util.inherit(E.Credentials,{constructor:function(m){E.Credentials.call(this),this.expired=!0,this.params=m},refresh:function(m){this.coalesceRefresh(m||E.util.fn.callback)},load:function(m){var f=this;f.createClients(),f.service.assumeRoleWithSAML(function(a,d){a||f.service.credentialsFrom(d,f),m(a)})},createClients:function(){this.service=this.service||new C({params:this.params})}})},{"../../clients/sts":8,"../core":19}],25:[function(N,L,u){var E=N("../core"),C=N("../../clients/sts");E.TemporaryCredentials=E.util.inherit(E.Credentials,{constructor:function(m,f){E.Credentials.call(this),this.loadMasterCredentials(f),this.expired=!0,this.params=m||{},this.params.RoleArn&&(this.params.RoleSessionName=this.params.RoleSessionName||"temporary-credentials")},refresh:function(m){this.coalesceRefresh(m||E.util.fn.callback)},load:function(m){var f=this;f.createClients(),f.masterCredentials.get(function(){f.service.config.credentials=f.masterCredentials;var a=f.params.RoleArn?f.service.assumeRole:f.service.getSessionToken;a.call(f.service,function(d,p){d||f.service.credentialsFrom(p,f),m(d)})})},loadMasterCredentials:function(m){for(this.masterCredentials=m||E.config.credentials;this.masterCredentials.masterCredentials;)this.masterCredentials=this.masterCredentials.masterCredentials;typeof this.masterCredentials.get!="function"&&(this.masterCredentials=new E.Credentials(this.masterCredentials))},createClients:function(){this.service=this.service||new C({params:this.params})}})},{"../../clients/sts":8,"../core":19}],26:[function(N,L,u){var E=N("../core"),C=N("../../clients/sts");E.WebIdentityCredentials=E.util.inherit(E.Credentials,{constructor:function(m,f){E.Credentials.call(this),this.expired=!0,this.params=m,this.params.RoleSessionName=this.params.RoleSessionName||"web-identity",this.data=null,this._clientConfig=E.util.copy(f||{})},refresh:function(m){this.coalesceRefresh(m||E.util.fn.callback)},load:function(m){var f=this;f.createClients(),f.service.assumeRoleWithWebIdentity(function(a,d){f.data=null,a||(f.data=d,f.service.credentialsFrom(d,f)),m(a)})},createClients:function(){if(!this.service){var m=E.util.merge({},this._clientConfig);m.params=this.params,this.service=new C(m)}}})},{"../../clients/sts":8,"../core":19}],27:[function(N,L,u){(function(E){(function(){var C=N("./core"),v=N("./util"),m=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"];function f(b){var A=b.service,r=A.api||{};r.operations;var w={};return A.config.region&&(w.region=A.config.region),r.serviceId&&(w.serviceId=r.serviceId),A.config.credentials.accessKeyId&&(w.accessKeyId=A.config.credentials.accessKeyId),w}function a(b,A,r){!r||A===void 0||A===null||r.type==="structure"&&r.required&&r.required.length>0&&v.arrayEach(r.required,function(w){var O=r.members[w];if(O.endpointDiscoveryId===!0){var R=O.isLocationName?O.name:w;b[R]=String(A[w])}else a(b,A[w],O)})}function d(b,A){var r={};return a(r,b.params,A),r}function p(b){var A=b.service,r=A.api,w=r.operations?r.operations[b.operation]:void 0,O=w?w.input:void 0,R=d(b,O),z=f(b);Object.keys(R).length>0&&(z=v.update(z,R),w&&(z.operation=w.name));var ee=C.endpointCache.get(z);if(!(ee&&ee.length===1&&ee[0].Address===""))if(ee&&ee.length>0)b.httpRequest.updateEndpoint(ee[0].Address);else{var oe=A.makeRequest(r.endpointOperation,{Operation:w.name,Identifiers:R});s(oe),oe.removeListener("validate",C.EventListeners.Core.VALIDATE_PARAMETERS),oe.removeListener("retry",C.EventListeners.Core.RETRY_CHECK),C.endpointCache.put(z,[{Address:"",CachePeriodInMinutes:1}]),oe.send(function(Q,I){I&&I.Endpoints?C.endpointCache.put(z,I.Endpoints):Q&&C.endpointCache.put(z,[{Address:"",CachePeriodInMinutes:1}])})}}var c={};function l(b,A){var r=b.service,w=r.api,O=w.operations?w.operations[b.operation]:void 0,R=O?O.input:void 0,z=d(b,R),ee=f(b);Object.keys(z).length>0&&(ee=v.update(ee,z),O&&(ee.operation=O.name));var oe=C.EndpointCache.getKeyString(ee),Q=C.endpointCache.get(oe);if(Q&&Q.length===1&&Q[0].Address===""){c[oe]||(c[oe]=[]),c[oe].push({request:b,callback:A});return}else if(Q&&Q.length>0)b.httpRequest.updateEndpoint(Q[0].Address),A();else{var I=r.makeRequest(w.endpointOperation,{Operation:O.name,Identifiers:z});I.removeListener("validate",C.EventListeners.Core.VALIDATE_PARAMETERS),s(I),C.endpointCache.put(oe,[{Address:"",CachePeriodInMinutes:60}]),I.send(function(W,Z){if(W){if(b.response.error=v.error(W,{retryable:!1}),C.endpointCache.remove(ee),c[oe]){var V=c[oe];v.arrayEach(V,function(M){M.request.response.error=v.error(W,{retryable:!1}),M.callback()}),delete c[oe]}}else if(Z&&(C.endpointCache.put(oe,Z.Endpoints),b.httpRequest.updateEndpoint(Z.Endpoints[0].Address),c[oe])){var V=c[oe];v.arrayEach(V,function(B){B.request.httpRequest.updateEndpoint(Z.Endpoints[0].Address),B.callback()}),delete c[oe]}A()})}}function s(b){var A=b.service.api,r=A.apiVersion;r&&!b.httpRequest.headers["x-amz-api-version"]&&(b.httpRequest.headers["x-amz-api-version"]=r)}function i(b){var A=b.error,r=b.httpResponse;if(A&&(A.code==="InvalidEndpointException"||r.statusCode===421)){var w=b.request,O=w.service.api.operations||{},R=O[w.operation]?O[w.operation].input:void 0,z=d(w,R),ee=f(w);Object.keys(z).length>0&&(ee=v.update(ee,z),O[w.operation]&&(ee.operation=O[w.operation].name)),C.endpointCache.remove(ee)}}function T(b){if(b._originalConfig&&b._originalConfig.endpoint&&b._originalConfig.endpointDiscoveryEnabled===!0)throw v.error(new Error,{code:"ConfigurationException",message:"Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."});var A=C.config[b.serviceIdentifier]||{};return!!(C.config.endpoint||A.endpoint||b._originalConfig&&b._originalConfig.endpoint)}function S(b){return["false","0"].indexOf(b)>=0}function y(b){var A=b.service||{};if(A.config.endpointDiscoveryEnabled!==void 0)return A.config.endpointDiscoveryEnabled;if(!v.isBrowser()){for(var r=0;r<m.length;r++){var w=m[r];if(Object.prototype.hasOwnProperty.call(E.env,w)){if(E.env[w]===""||E.env[w]===void 0)throw v.error(new Error,{code:"ConfigurationException",message:"environmental variable "+w+" cannot be set to nothing"});return!S(E.env[w])}}var O={};try{O=C.util.iniLoader?C.util.iniLoader.loadFrom({isConfig:!0,filename:E.env[C.util.sharedConfigFileEnv]}):{}}catch{}var R=O[E.env.AWS_PROFILE||C.util.defaultProfile]||{};if(Object.prototype.hasOwnProperty.call(R,"endpoint_discovery_enabled")){if(R.endpoint_discovery_enabled===void 0)throw v.error(new Error,{code:"ConfigurationException",message:"config file entry 'endpoint_discovery_enabled' cannot be set to nothing"});return!S(R.endpoint_discovery_enabled)}}}function h(b,A){var r=b.service||{};if(T(r)||b.isPresigned())return A();var w=r.api.operations||{},O=w[b.operation],R=O?O.endpointDiscoveryRequired:"NULL",z=y(b),ee=r.api.hasRequiredEndpointDiscovery;switch((z||ee)&&b.httpRequest.appendToUserAgent("endpoint-discovery"),R){case"OPTIONAL":(z||ee)&&(p(b),b.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",i)),A();break;case"REQUIRED":if(z===!1){b.response.error=v.error(new Error,{code:"ConfigurationException",message:"Endpoint Discovery is disabled but "+r.api.className+"."+b.operation+"() requires it. Please check your configurations."}),A();break}b.addNamedListener("INVALIDATE_CACHED_ENDPOINTS","extractError",i),l(b,A);break;case"NULL":default:A();break}}L.exports={discoverEndpoint:h,requiredDiscoverEndpoint:l,optionalDiscoverEndpoint:p,marshallCustomIdentifiers:d,getCacheKey:f,invalidateCachedEndpoint:i}}).call(this)}).call(this,N("_process"))},{"./core":19,"./util":74,_process:91}],28:[function(N,L,u){var E=N("../event-stream/event-message-chunker").eventMessageChunker,C=N("./parse-event").parseEvent;function v(m,f,a){for(var d=E(m),p=[],c=0;c<d.length;c++)p.push(C(f,d[c],a));return p}L.exports={createEventStream:v}},{"../event-stream/event-message-chunker":29,"./parse-event":31}],29:[function(N,L,u){function E(C){for(var v=[],m=0;m<C.length;){var f=C.readInt32BE(m),a=C.slice(m,f+m);m+=f,v.push(a)}return v}L.exports={eventMessageChunker:E}},{}],30:[function(N,L,u){var E=N("../core").util,C=E.buffer.toBuffer;function v(f){if(f.length!==8)throw new Error("Int64 buffers must be exactly 8 bytes");E.Buffer.isBuffer(f)||(f=C(f)),this.bytes=f}v.fromNumber=function(f){if(f>9223372036854776e3||f<-9223372036854776e3)throw new Error(f+" is too large (or, if negative, too small) to represent as an Int64");for(var a=new Uint8Array(8),d=7,p=Math.abs(Math.round(f));d>-1&&p>0;d--,p/=256)a[d]=p;return f<0&&m(a),new v(a)},v.prototype.valueOf=function(){var f=this.bytes.slice(0),a=f[0]&128;return a&&m(f),parseInt(f.toString("hex"),16)*(a?-1:1)},v.prototype.toString=function(){return String(this.valueOf())};function m(f){for(var a=0;a<8;a++)f[a]^=255;for(var a=7;a>-1&&(f[a]++,f[a]===0);a--);}L.exports={Int64:v}},{"../core":19}],31:[function(N,L,u){var E=N("./parse-message").parseMessage;function C(m,f,a){var d=E(f),p=d.headers[":message-type"];if(p){if(p.value==="error")throw v(d);if(p.value!=="event")return}var c=d.headers[":event-type"],l=a.members[c.value];if(l){var s={},i=l.eventPayloadMemberName;if(i){var T=l.members[i];T.type==="binary"?s[i]=d.body:s[i]=m.parse(d.body.toString(),T)}for(var S=l.eventHeaderMemberNames,y=0;y<S.length;y++){var h=S[y];d.headers[h]&&(s[h]=l.members[h].toType(d.headers[h].value))}var b={};return b[c.value]=s,b}}function v(m){var f=m.headers[":error-code"],a=m.headers[":error-message"],d=new Error(a.value||a);return d.code=d.name=f.value||f,d}L.exports={parseEvent:C}},{"./parse-message":32}],32:[function(N,L,u){var E=N("./int64").Int64,C=N("./split-message").splitMessage,v="boolean",m="byte",f="short",a="integer",d="long",p="binary",c="string",l="timestamp",s="uuid";function i(S){for(var y={},h=0;h<S.length;){var b=S.readUInt8(h++),A=S.slice(h,h+b).toString();switch(h+=b,S.readUInt8(h++)){case 0:y[A]={type:v,value:!0};break;case 1:y[A]={type:v,value:!1};break;case 2:y[A]={type:m,value:S.readInt8(h++)};break;case 3:y[A]={type:f,value:S.readInt16BE(h)},h+=2;break;case 4:y[A]={type:a,value:S.readInt32BE(h)},h+=4;break;case 5:y[A]={type:d,value:new E(S.slice(h,h+8))},h+=8;break;case 6:var r=S.readUInt16BE(h);h+=2,y[A]={type:p,value:S.slice(h,h+r)},h+=r;break;case 7:var w=S.readUInt16BE(h);h+=2,y[A]={type:c,value:S.slice(h,h+w).toString()},h+=w;break;case 8:y[A]={type:l,value:new Date(new E(S.slice(h,h+8)).valueOf())},h+=8;break;case 9:var O=S.slice(h,h+16).toString("hex");h+=16,y[A]={type:s,value:O.substr(0,8)+"-"+O.substr(8,4)+"-"+O.substr(12,4)+"-"+O.substr(16,4)+"-"+O.substr(20)};break;default:throw new Error("Unrecognized header type tag")}}return y}function T(S){var y=C(S);return{headers:i(y.headers),body:y.body}}L.exports={parseMessage:T}},{"./int64":30,"./split-message":33}],33:[function(N,L,u){var E=N("../core").util,C=E.buffer.toBuffer,v=4,m=v*2,f=4,a=m+f*2;function d(p){if(E.Buffer.isBuffer(p)||(p=C(p)),p.length<a)throw new Error("Provided message too short to accommodate event stream message overhead");if(p.length!==p.readUInt32BE(0))throw new Error("Reported message length does not match received message length");var c=p.readUInt32BE(m);if(c!==E.crypto.crc32(p.slice(0,m)))throw new Error("The prelude checksum specified in the message ("+c+") does not match the calculated CRC32 checksum.");var l=p.readUInt32BE(p.length-f);if(l!==E.crypto.crc32(p.slice(0,p.length-f)))throw new Error("The message checksum did not match the expected value of "+l);var s=m+f,i=s+p.readUInt32BE(v);return{headers:p.slice(s,i),body:p.slice(i,p.length-f)}}L.exports={splitMessage:d}},{"../core":19}],34:[function(N,L,u){(function(E){(function(){var C=N("./core"),v=N("./sequential_executor"),m=N("./discover_endpoint").discoverEndpoint;C.EventListeners={Core:{}};function f(d){if(!d.service.api.operations)return"";var p=d.service.api.operations[d.operation];return p?p.authtype:""}function a(d){var p=d.service;return p.config.signatureVersion?p.config.signatureVersion:p.api.signatureVersion?p.api.signatureVersion:f(d)}C.EventListeners={Core:new v().addNamedListeners(function(d,p){p("VALIDATE_CREDENTIALS","validate",function(s,i){if(!s.service.api.signatureVersion&&!s.service.config.signatureVersion)return i();var T=a(s);if(T==="bearer"){s.service.config.getToken(function(S){S&&(s.response.error=C.util.error(S,{code:"TokenError"})),i()});return}s.service.config.getCredentials(function(S){S&&(s.response.error=C.util.error(S,{code:"CredentialsError",message:"Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1"})),i()})}),d("VALIDATE_REGION","validate",function(s){if(!s.service.isGlobalEndpoint){var i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);s.service.config.region?i.test(s.service.config.region)||(s.response.error=C.util.error(new Error,{code:"ConfigError",message:"Invalid region in config"})):s.response.error=C.util.error(new Error,{code:"ConfigError",message:"Missing region in config"})}}),d("BUILD_IDEMPOTENCY_TOKENS","validate",function(s){if(s.service.api.operations){var i=s.service.api.operations[s.operation];if(i){var T=i.idempotentMembers;if(T.length){for(var S=C.util.copy(s.params),y=0,h=T.length;y<h;y++)S[T[y]]||(S[T[y]]=C.util.uuid.v4());s.params=S}}}}),d("VALIDATE_PARAMETERS","validate",function(s){if(s.service.api.operations){var i=s.service.api.operations[s.operation].input,T=s.service.config.paramValidation;new C.ParamValidator(T).validate(i,s.params)}}),d("COMPUTE_CHECKSUM","afterBuild",function(s){if(s.service.api.operations){var i=s.service.api.operations[s.operation];if(i){var T=s.httpRequest.body,S=T&&(C.util.Buffer.isBuffer(T)||typeof T=="string"),y=s.httpRequest.headers;if(i.httpChecksumRequired&&s.service.config.computeChecksums&&S&&!y["Content-MD5"]){var h=C.util.crypto.md5(T,"base64");y["Content-MD5"]=h}}}}),p("COMPUTE_SHA256","afterBuild",function(s,i){if(s.haltHandlersOnError(),!!s.service.api.operations){var T=s.service.api.operations[s.operation],S=T?T.authtype:"";if(!s.service.api.signatureVersion&&!S&&!s.service.config.signatureVersion)return i();if(s.service.getSignerClass(s)===C.Signers.V4){var y=s.httpRequest.body||"";if(S.indexOf("unsigned-body")>=0)return s.httpRequest.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",i();C.util.computeSha256(y,function(h,b){h?i(h):(s.httpRequest.headers["X-Amz-Content-Sha256"]=b,i())})}else i()}}),d("SET_CONTENT_LENGTH","afterBuild",function(s){var i=f(s),T=C.util.getRequestPayloadShape(s);if(s.httpRequest.headers["Content-Length"]===void 0)try{var S=C.util.string.byteLength(s.httpRequest.body);s.httpRequest.headers["Content-Length"]=S}catch(y){if(T&&T.isStreaming){if(T.requiresLength)throw y;if(i.indexOf("unsigned-body")>=0){s.httpRequest.headers["Transfer-Encoding"]="chunked";return}else throw y}throw y}}),d("SET_HTTP_HOST","afterBuild",function(s){s.httpRequest.headers.Host=s.httpRequest.endpoint.host}),d("SET_TRACE_ID","afterBuild",function(s){var i="X-Amzn-Trace-Id";if(C.util.isNode()&&!Object.hasOwnProperty.call(s.httpRequest.headers,i)){var T="AWS_LAMBDA_FUNCTION_NAME",S="_X_AMZN_TRACE_ID",y=E.env[T],h=E.env[S];typeof y=="string"&&y.length>0&&typeof h=="string"&&h.length>0&&(s.httpRequest.headers[i]=h)}}),d("RESTART","restart",function(){var s=this.response.error;!s||!s.retryable||(this.httpRequest=new C.HttpRequest(this.service.endpoint,this.service.region),this.response.retryCount<this.service.config.maxRetries?this.response.retryCount++:this.response.error=null)});var c=!0;p("DISCOVER_ENDPOINT","sign",m,c),p("SIGN","sign",function(s,i){var T=s.service,S=a(s);if(!S||S.length===0)return i();S==="bearer"?T.config.getToken(function(y,h){if(y)return s.response.error=y,i();try{var b=T.getSignerClass(s),A=new b(s.httpRequest);A.addAuthorization(h)}catch(r){s.response.error=r}i()}):T.config.getCredentials(function(y,h){if(y)return s.response.error=y,i();try{var b=T.getSkewCorrectedDate(),A=T.getSignerClass(s),r=s.service.api.operations||{},w=r[s.operation],O=new A(s.httpRequest,T.getSigningName(s),{signatureCache:T.config.signatureCache,operation:w,signatureVersion:T.api.signatureVersion});O.setServiceClientId(T._clientId),delete s.httpRequest.headers.Authorization,delete s.httpRequest.headers.Date,delete s.httpRequest.headers["X-Amz-Date"],O.addAuthorization(h,b),s.signedAt=b}catch(R){s.response.error=R}i()})}),d("VALIDATE_RESPONSE","validateResponse",function(s){this.service.successfulResponse(s,this)?(s.data={},s.error=null):(s.data=null,s.error=C.util.error(new Error,{code:"UnknownError",message:"An unknown error occurred."}))}),d("ERROR","error",function(s,i){var T=i.request.service.api.awsQueryCompatible;if(T){var S=i.httpResponse.headers,y=S?S["x-amzn-query-error"]:void 0;y&&y.includes(";")&&(i.error.code=y.split(";")[0])}},!0),p("SEND","send",function(s,i){s.httpResponse._abortCallback=i,s.error=null,s.data=null;function T(A){s.httpResponse.stream=A;var r=s.request.httpRequest.stream,w=s.request.service,O=w.api,R=s.request.operation,z=O.operations[R]||{};A.on("headers",function(oe,Q,I){if(s.request.emit("httpHeaders",[oe,Q,s,I]),!s.httpResponse.streaming)if(C.HttpClient.streamsApiVersion===2){if(z.hasEventOutput&&w.successfulResponse(s)){s.request.emit("httpDone"),i();return}A.on("readable",function(){var Z=A.read();Z!==null&&s.request.emit("httpData",[Z,s])})}else A.on("data",function(Z){s.request.emit("httpData",[Z,s])})}),A.on("end",function(){if(!r||!r.didCallback){if(C.HttpClient.streamsApiVersion===2&&z.hasEventOutput&&w.successfulResponse(s))return;s.request.emit("httpDone"),i()}})}function S(A){A.on("sendProgress",function(w){s.request.emit("httpUploadProgress",[w,s])}),A.on("receiveProgress",function(w){s.request.emit("httpDownloadProgress",[w,s])})}function y(A){if(A.code!=="RequestAbortedError"){var r=A.code==="TimeoutError"?A.code:"NetworkingError";A=C.util.error(A,{code:r,region:s.request.httpRequest.region,hostname:s.request.httpRequest.endpoint.hostname,retryable:!0})}s.error=A,s.request.emit("httpError",[s.error,s],function(){i()})}function h(){var A=C.HttpClient.getInstance(),r=s.request.service.config.httpOptions||{};try{var w=A.handleRequest(s.request.httpRequest,r,T,y);S(w)}catch(O){y(O)}}var b=(s.request.service.getSkewCorrectedDate()-this.signedAt)/1e3;b>=600?this.emit("sign",[this],function(A){A?i(A):h()}):h()}),d("HTTP_HEADERS","httpHeaders",function(s,i,T,S){T.httpResponse.statusCode=s,T.httpResponse.statusMessage=S,T.httpResponse.headers=i,T.httpResponse.body=C.util.buffer.toBuffer(""),T.httpResponse.buffers=[],T.httpResponse.numBytes=0;var y=i.date||i.Date,h=T.request.service;if(y){var b=Date.parse(y);h.config.correctClockSkew&&h.isClockSkewed(b)&&h.applyClockOffset(b)}}),d("HTTP_DATA","httpData",function(s,i){if(s){if(C.util.isNode()){i.httpResponse.numBytes+=s.length;var T=i.httpResponse.headers["content-length"],S={loaded:i.httpResponse.numBytes,total:T};i.request.emit("httpDownloadProgress",[S,i])}i.httpResponse.buffers.push(C.util.buffer.toBuffer(s))}}),d("HTTP_DONE","httpDone",function(s){if(s.httpResponse.buffers&&s.httpResponse.buffers.length>0){var i=C.util.buffer.concat(s.httpResponse.buffers);s.httpResponse.body=i}delete s.httpResponse.numBytes,delete s.httpResponse.buffers}),d("FINALIZE_ERROR","retry",function(s){s.httpResponse.statusCode&&(s.error.statusCode=s.httpResponse.statusCode,s.error.retryable===void 0&&(s.error.retryable=this.service.retryableError(s.error,this)))}),d("INVALIDATE_CREDENTIALS","retry",function(s){if(s.error)switch(s.error.code){case"RequestExpired":case"ExpiredTokenException":case"ExpiredToken":s.error.retryable=!0,s.request.service.config.credentials.expired=!0}}),d("EXPIRED_SIGNATURE","retry",function(s){var i=s.error;i&&typeof i.code=="string"&&typeof i.message=="string"&&i.code.match(/Signature/)&&i.message.match(/expired/)&&(s.error.retryable=!0)}),d("CLOCK_SKEWED","retry",function(s){s.error&&this.service.clockSkewError(s.error)&&this.service.config.correctClockSkew&&(s.error.retryable=!0)}),d("REDIRECT","retry",function(s){s.error&&s.error.statusCode>=300&&s.error.statusCode<400&&s.httpResponse.headers.location&&(this.httpRequest.endpoint=new C.Endpoint(s.httpResponse.headers.location),this.httpRequest.headers.Host=this.httpRequest.endpoint.host,s.error.redirect=!0,s.error.retryable=!0)}),d("RETRY_CHECK","retry",function(s){s.error&&(s.error.redirect&&s.redirectCount<s.maxRedirects?s.error.retryDelay=0:s.retryCount<s.maxRetries&&(s.error.retryDelay=this.service.retryDelays(s.retryCount,s.error)||0))}),p("RESET_RETRY_STATE","afterRetry",function(s,i){var T,S=!1;s.error&&(T=s.error.retryDelay||0,s.error.retryable&&s.retryCount<s.maxRetries?(s.retryCount++,S=!0):s.error.redirect&&s.redirectCount<s.maxRedirects&&(s.redirectCount++,S=!0)),S&&T>=0?(s.error=null,setTimeout(i,T)):i()})}),CorePost:new v().addNamedListeners(function(d){d("EXTRACT_REQUEST_ID","extractData",C.util.extractRequestId),d("EXTRACT_REQUEST_ID","extractError",C.util.extractRequestId),d("ENOTFOUND_ERROR","httpError",function(c){function l(i){return i.errno==="ENOTFOUND"||typeof i.errno=="number"&&typeof C.util.getSystemErrorName=="function"&&["EAI_NONAME","EAI_NODATA"].indexOf(C.util.getSystemErrorName(i.errno)>=0)}if(c.code==="NetworkingError"&&l(c)){var s="Inaccessible host: `"+c.hostname+"' at port `"+c.port+"'. This service may not be available in the `"+c.region+"' region.";this.response.error=C.util.error(new Error(s),{code:"UnknownEndpoint",region:c.region,hostname:c.hostname,retryable:!0,originalError:c})}})}),Logger:new v().addNamedListeners(function(d){d("LOG_REQUEST","complete",function(c){var l=c.request,s=l.service.config.logger;if(!s)return;function i(y,h){if(!h)return h;if(y.isSensitive)return"***SensitiveInformation***";switch(y.type){case"structure":var b={};return C.util.each(h,function(w,O){Object.prototype.hasOwnProperty.call(y.members,w)?b[w]=i(y.members[w],O):b[w]=O}),b;case"list":var A=[];return C.util.arrayEach(h,function(w,O){A.push(i(y.member,w))}),A;case"map":var r={};return C.util.each(h,function(w,O){r[w]=i(y.value,O)}),r;default:return h}}function T(){var y=c.request.service.getSkewCorrectedDate().getTime(),h=(y-l.startTime.getTime())/1e3,b=!!s.isTTY,A=c.httpResponse.statusCode,r=l.params;if(l.service.api.operations&&l.service.api.operations[l.operation]&&l.service.api.operations[l.operation].input){var w=l.service.api.operations[l.operation].input;r=i(w,l.params)}var O=N("util").inspect(r,!0,null),R="";return b&&(R+="\x1B[33m"),R+="[AWS "+l.service.serviceIdentifier+" "+A,R+=" "+h.toString()+"s "+c.retryCount+" retries]",b&&(R+="\x1B[0;1m"),R+=" "+C.util.string.lowerFirst(l.operation),R+="("+O+")",b&&(R+="\x1B[0m"),R}var S=T();typeof s.log=="function"?s.log(S):typeof s.write=="function"&&s.write(S+`
`)})}),Json:new v().addNamedListeners(function(d){var p=N("./protocol/json");d("BUILD","build",p.buildRequest),d("EXTRACT_DATA","extractData",p.extractData),d("EXTRACT_ERROR","extractError",p.extractError)}),Rest:new v().addNamedListeners(function(d){var p=N("./protocol/rest");d("BUILD","build",p.buildRequest),d("EXTRACT_DATA","extractData",p.extractData),d("EXTRACT_ERROR","extractError",p.extractError)}),RestJson:new v().addNamedListeners(function(d){var p=N("./protocol/rest_json");d("BUILD","build",p.buildRequest),d("EXTRACT_DATA","extractData",p.extractData),d("EXTRACT_ERROR","extractError",p.extractError),d("UNSET_CONTENT_LENGTH","afterBuild",p.unsetContentLength)}),RestXml:new v().addNamedListeners(function(d){var p=N("./protocol/rest_xml");d("BUILD","build",p.buildRequest),d("EXTRACT_DATA","extractData",p.extractData),d("EXTRACT_ERROR","extractError",p.extractError)}),Query:new v().addNamedListeners(function(d){var p=N("./protocol/query");d("BUILD","build",p.buildRequest),d("EXTRACT_DATA","extractData",p.extractData),d("EXTRACT_ERROR","extractError",p.extractError)})}}).call(this)}).call(this,N("_process"))},{"./core":19,"./discover_endpoint":27,"./protocol/json":48,"./protocol/query":49,"./protocol/rest":50,"./protocol/rest_json":51,"./protocol/rest_xml":52,"./sequential_executor":61,_process:91,util:85}],35:[function(N,L,u){var E=N("./core"),C=E.util.inherit;E.Endpoint=C({constructor:function(m,f){if(E.util.hideProperties(this,["slashes","auth","hash","search","query"]),typeof m>"u"||m===null)throw new Error("Invalid endpoint: "+m);if(typeof m!="string")return E.util.copy(m);if(!m.match(/^http/)){var a=f&&f.sslEnabled!==void 0?f.sslEnabled:E.config.sslEnabled;m=(a?"https":"http")+"://"+m}E.util.update(this,E.util.urlParse(m)),this.port?this.port=parseInt(this.port,10):this.port=this.protocol==="https:"?443:80}}),E.HttpRequest=C({constructor:function(m,f){m=new E.Endpoint(m),this.method="POST",this.path=m.path||"/",this.headers={},this.body="",this.endpoint=m,this.region=f,this._userAgent="",this.setUserAgent()},setUserAgent:function(){this._userAgent=this.headers[this.getUserAgentHeaderName()]=E.util.userAgent()},getUserAgentHeaderName:function(){var m=E.util.isBrowser()?"X-Amz-":"";return m+"User-Agent"},appendToUserAgent:function(m){typeof m=="string"&&m&&(this._userAgent+=" "+m),this.headers[this.getUserAgentHeaderName()]=this._userAgent},getUserAgent:function(){return this._userAgent},pathname:function(){return this.path.split("?",1)[0]},search:function(){var m=this.path.split("?",2)[1];return m?(m=E.util.queryStringParse(m),E.util.queryParamsToString(m)):""},updateEndpoint:function(m){var f=new E.Endpoint(m);this.endpoint=f,this.path=f.path||"/",this.headers.Host&&(this.headers.Host=f.host)}}),E.HttpResponse=C({constructor:function(){this.statusCode=void 0,this.headers={},this.body=void 0,this.streaming=!1,this.stream=null},createUnbufferedStream:function(){return this.streaming=!0,this.stream}}),E.HttpClient=C({}),E.HttpClient.getInstance=function(){return this.singleton===void 0&&(this.singleton=new this),this.singleton}},{"./core":19}],36:[function(N,L,u){var E=N("../core"),C=N("events").EventEmitter;N("../http"),E.XHRClient=E.util.inherit({handleRequest:function(m,f,a,d){var p=this,c=m.endpoint,l=new C,s=c.protocol+"//"+c.hostname;c.port!==80&&c.port!==443&&(s+=":"+c.port),s+=m.path;var i=new XMLHttpRequest,T=!1;m.stream=i,i.addEventListener("readystatechange",function(){try{if(i.status===0)return}catch{return}this.readyState>=this.HEADERS_RECEIVED&&!T&&(l.statusCode=i.status,l.headers=p.parseHeaders(i.getAllResponseHeaders()),l.emit("headers",l.statusCode,l.headers,i.statusText),T=!0),this.readyState===this.DONE&&p.finishRequest(i,l)},!1),i.upload.addEventListener("progress",function(S){l.emit("sendProgress",S)}),i.addEventListener("progress",function(S){l.emit("receiveProgress",S)},!1),i.addEventListener("timeout",function(){d(E.util.error(new Error("Timeout"),{code:"TimeoutError"}))},!1),i.addEventListener("error",function(){d(E.util.error(new Error("Network Failure"),{code:"NetworkingError"}))},!1),i.addEventListener("abort",function(){d(E.util.error(new Error("Request aborted"),{code:"RequestAbortedError"}))},!1),a(l),i.open(m.method,s,f.xhrAsync!==!1),E.util.each(m.headers,function(S,y){S!=="Content-Length"&&S!=="User-Agent"&&S!=="Host"&&i.setRequestHeader(S,y)}),f.timeout&&f.xhrAsync!==!1&&(i.timeout=f.timeout),f.xhrWithCredentials&&(i.withCredentials=!0);try{i.responseType="arraybuffer"}catch{}try{m.body?i.send(m.body):i.send()}catch(S){if(m.body&&he(m.body.buffer)==="object")i.send(m.body.buffer);else throw S}return l},parseHeaders:function(m){var f={};return E.util.arrayEach(m.split(/\r?\n/),function(a){var d=a.split(":",1)[0],p=a.substring(d.length+2);d.length>0&&(f[d.toLowerCase()]=p)}),f},finishRequest:function(m,f){var a;if(m.responseType==="arraybuffer"&&m.response){var d=m.response;a=new E.util.Buffer(d.byteLength);for(var p=new Uint8Array(d),c=0;c<a.length;++c)a[c]=p[c]}try{!a&&typeof m.responseText=="string"&&(a=new E.util.Buffer(m.responseText))}catch{}a&&f.emit("data",a),f.emit("end")}}),E.HttpClient.prototype=E.XHRClient.prototype,E.HttpClient.streamsApiVersion=1},{"../core":19,"../http":35,events:87}],37:[function(N,L,u){var E=N("../util");function C(){}C.prototype.build=function(p,c){return JSON.stringify(v(p,c))};function v(p,c){if(!(!c||p===void 0||p===null))switch(c.type){case"structure":return m(p,c);case"map":return a(p,c);case"list":return f(p,c);default:return d(p,c)}}function m(p,c){if(c.isDocument)return p;var l={};return E.each(p,function(s,i){var T=c.members[s];if(T){if(T.location!=="body")return;var S=T.isLocationName?T.name:s,y=v(i,T);y!==void 0&&(l[S]=y)}}),l}function f(p,c){var l=[];return E.arrayEach(p,function(s){var i=v(s,c.member);i!==void 0&&l.push(i)}),l}function a(p,c){var l={};return E.each(p,function(s,i){var T=v(i,c.value);T!==void 0&&(l[s]=T)}),l}function d(p,c){return c.toWireFormat(p)}L.exports=C},{"../util":74}],38:[function(N,L,u){var E=N("../util");function C(){}C.prototype.parse=function(p,c){return v(JSON.parse(p),c)};function v(p,c){if(!(!c||p===void 0))switch(c.type){case"structure":return m(p,c);case"map":return a(p,c);case"list":return f(p,c);default:return d(p,c)}}function m(p,c){if(p!=null){if(c.isDocument)return p;var l={},s=c.members,i=c.api&&c.api.awsQueryCompatible;return E.each(s,function(T,S){var y=S.isLocationName?S.name:T;if(Object.prototype.hasOwnProperty.call(p,y)){var h=p[y],b=v(h,S);b!==void 0&&(l[T]=b)}else i&&S.defaultValue&&S.type==="list"&&(l[T]=typeof S.defaultValue=="function"?S.defaultValue():S.defaultValue)}),l}}function f(p,c){if(p!=null){var l=[];return E.arrayEach(p,function(s){var i=v(s,c.member);i===void 0?l.push(null):l.push(i)}),l}}function a(p,c){if(p!=null){var l={};return E.each(p,function(s,i){var T=v(i,c.value);T===void 0?l[s]=null:l[s]=T}),l}}function d(p,c){return c.toType(p)}L.exports=C},{"../util":74}],39:[function(N,L,u){(function(E){(function(){var C=["The AWS SDK for JavaScript (v2) will enter maintenance mode",`on September 8, 2024 and reach end-of-support on September 8, 2025.
`,"Please migrate your code to use AWS SDK for JavaScript (v3).","For more information, check blog post at https://a.co/cUPnyil"].join(`
`);L.exports={suppress:!1};function v(){typeof E>"u"||he(E.env)==="object"&&typeof E.env.AWS_EXECUTION_ENV<"u"&&E.env.AWS_EXECUTION_ENV.indexOf("AWS_Lambda_")===0||he(E.env)==="object"&&typeof E.env.AWS_SDK_JS_SUPPRESS_MAINTENANCE_MODE_MESSAGE<"u"||typeof E.emitWarning=="function"&&E.emitWarning(C,{type:"NOTE"})}setTimeout(function(){L.exports.suppress||v()},0)}).call(this)}).call(this,N("_process"))},{_process:91}],40:[function(N,L,u){var E=N("./collection"),C=N("./operation"),v=N("./shape"),m=N("./paginator"),f=N("./resource_waiter"),a=N("../../apis/metadata.json"),d=N("../util"),p=d.property,c=d.memoizedProperty;function l(s,i){var T=this;s=s||{},i=i||{},i.api=this,s.metadata=s.metadata||{};var S=i.serviceIdentifier;delete i.serviceIdentifier,p(this,"isApi",!0,!1),p(this,"apiVersion",s.metadata.apiVersion),p(this,"endpointPrefix",s.metadata.endpointPrefix),p(this,"signingName",s.metadata.signingName),p(this,"globalEndpoint",s.metadata.globalEndpoint),p(this,"signatureVersion",s.metadata.signatureVersion),p(this,"jsonVersion",s.metadata.jsonVersion),p(this,"targetPrefix",s.metadata.targetPrefix),p(this,"protocol",s.metadata.protocol),p(this,"timestampFormat",s.metadata.timestampFormat),p(this,"xmlNamespaceUri",s.metadata.xmlNamespace),p(this,"abbreviation",s.metadata.serviceAbbreviation),p(this,"fullName",s.metadata.serviceFullName),p(this,"serviceId",s.metadata.serviceId),S&&a[S]&&p(this,"xmlNoDefaultLists",a[S].xmlNoDefaultLists,!1),c(this,"className",function(){var h=s.metadata.serviceAbbreviation||s.metadata.serviceFullName;return h?(h=h.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g,""),h==="ElasticLoadBalancing"&&(h="ELB"),h):null});function y(h,b){b.endpointoperation===!0&&p(T,"endpointOperation",d.string.lowerFirst(h)),b.endpointdiscovery&&!T.hasRequiredEndpointDiscovery&&p(T,"hasRequiredEndpointDiscovery",b.endpointdiscovery.required===!0)}p(this,"operations",new E(s.operations,i,function(h,b){return new C(h,b,i)},d.string.lowerFirst,y)),p(this,"shapes",new E(s.shapes,i,function(h,b){return v.create(b,i)})),p(this,"paginators",new E(s.paginators,i,function(h,b){return new m(h,b,i)})),p(this,"waiters",new E(s.waiters,i,function(h,b){return new f(h,b,i)},d.string.lowerFirst)),i.documentation&&(p(this,"documentation",s.documentation),p(this,"documentationUrl",s.documentationUrl)),p(this,"awsQueryCompatible",s.metadata.awsQueryCompatible)}L.exports=l},{"../../apis/metadata.json":4,"../util":74,"./collection":41,"./operation":42,"./paginator":43,"./resource_waiter":44,"./shape":45}],41:[function(N,L,u){var E=N("../util").memoizedProperty;function C(m,f,a,d){E(this,d(m),function(){return a(m,f)})}function v(m,f,a,d,p){d=d||String;var c=this;for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(C.call(c,l,m[l],a,d),p&&p(l,m[l]))}L.exports=v},{"../util":74}],42:[function(N,L,u){var E=N("./shape"),C=N("../util"),v=C.property,m=C.memoizedProperty;function f(d,p,c){var l=this;c=c||{},v(this,"name",p.name||d),v(this,"api",c.api,!1),p.http=p.http||{},v(this,"endpoint",p.endpoint),v(this,"httpMethod",p.http.method||"POST"),v(this,"httpPath",p.http.requestUri||"/"),v(this,"authtype",p.authtype||""),v(this,"endpointDiscoveryRequired",p.endpointdiscovery?p.endpointdiscovery.required?"REQUIRED":"OPTIONAL":"NULL");var s=p.httpChecksumRequired||p.httpChecksum&&p.httpChecksum.requestChecksumRequired;v(this,"httpChecksumRequired",s,!1),m(this,"input",function(){return p.input?E.create(p.input,c):new E.create({type:"structure"},c)}),m(this,"output",function(){return p.output?E.create(p.output,c):new E.create({type:"structure"},c)}),m(this,"errors",function(){var i=[];if(!p.errors)return null;for(var T=0;T<p.errors.length;T++)i.push(E.create(p.errors[T],c));return i}),m(this,"paginator",function(){return c.api.paginators[d]}),c.documentation&&(v(this,"documentation",p.documentation),v(this,"documentationUrl",p.documentationUrl)),m(this,"idempotentMembers",function(){var i=[],T=l.input,S=T.members;if(!T.members)return i;for(var y in S)S.hasOwnProperty(y)&&S[y].isIdempotent===!0&&i.push(y);return i}),m(this,"hasEventOutput",function(){var i=l.output;return a(i)})}function a(d){var p=d.members,c=d.payload;if(!d.members)return!1;if(c){var l=p[c];return l.isEventStream}for(var s in p)if(!p.hasOwnProperty(s)&&p[s].isEventStream===!0)return!0;return!1}L.exports=f},{"../util":74,"./shape":45}],43:[function(N,L,u){var E=N("../util").property;function C(v,m){E(this,"inputToken",m.input_token),E(this,"limitKey",m.limit_key),E(this,"moreResults",m.more_results),E(this,"outputToken",m.output_token),E(this,"resultKey",m.result_key)}L.exports=C},{"../util":74}],44:[function(N,L,u){var E=N("../util"),C=E.property;function v(m,f,a){a=a||{},C(this,"name",m),C(this,"api",a.api,!1),f.operation&&C(this,"operation",E.string.lowerFirst(f.operation));var d=this,p=["type","description","delay","maxAttempts","acceptors"];p.forEach(function(c){var l=f[c];l&&C(d,c,l)})}L.exports=v},{"../util":74}],45:[function(N,L,u){var E=N("./collection"),C=N("../util");function v(b,A,r){r!=null&&C.property.apply(this,arguments)}function m(b,A){b.constructor.prototype[A]||C.memoizedProperty.apply(this,arguments)}function f(b,A,r){A=A||{},v(this,"shape",b.shape),v(this,"api",A.api,!1),v(this,"type",b.type),v(this,"enum",b.enum),v(this,"min",b.min),v(this,"max",b.max),v(this,"pattern",b.pattern),v(this,"location",b.location||this.location||"body"),v(this,"name",this.name||b.xmlName||b.queryName||b.locationName||r),v(this,"isStreaming",b.streaming||this.isStreaming||!1),v(this,"requiresLength",b.requiresLength,!1),v(this,"isComposite",b.isComposite||!1),v(this,"isShape",!0,!1),v(this,"isQueryName",!!b.queryName,!1),v(this,"isLocationName",!!b.locationName,!1),v(this,"isIdempotent",b.idempotencyToken===!0),v(this,"isJsonValue",b.jsonvalue===!0),v(this,"isSensitive",b.sensitive===!0||b.prototype&&b.prototype.sensitive===!0),v(this,"isEventStream",!!b.eventstream,!1),v(this,"isEvent",!!b.event,!1),v(this,"isEventPayload",!!b.eventpayload,!1),v(this,"isEventHeader",!!b.eventheader,!1),v(this,"isTimestampFormatSet",!!b.timestampFormat||b.prototype&&b.prototype.isTimestampFormatSet===!0,!1),v(this,"endpointDiscoveryId",!!b.endpointdiscoveryid,!1),v(this,"hostLabel",!!b.hostLabel,!1),A.documentation&&(v(this,"documentation",b.documentation),v(this,"documentationUrl",b.documentationUrl)),b.xmlAttribute&&v(this,"isXmlAttribute",b.xmlAttribute||!1),v(this,"defaultValue",null),this.toWireFormat=function(w){return w??""},this.toType=function(w){return w}}f.normalizedTypes={character:"string",double:"float",long:"integer",short:"integer",biginteger:"integer",bigdecimal:"float",blob:"binary"},f.types={structure:d,list:p,map:c,boolean:h,timestamp:l,float:i,integer:T,string:s,base64:y,binary:S},f.resolve=function(A,r){if(A.shape){var w=r.api.shapes[A.shape];if(!w)throw new Error("Cannot find shape reference: "+A.shape);return w}else return null},f.create=function(A,r,w){if(A.isShape)return A;var O=f.resolve(A,r);if(O){var R=Object.keys(A);r.documentation||(R=R.filter(function(oe){return!oe.match(/documentation/)}));var z=function(){O.constructor.call(this,A,r,w)};return z.prototype=O,new z}else{A.type||(A.members?A.type="structure":A.member?A.type="list":A.key?A.type="map":A.type="string");var ee=A.type;if(f.normalizedTypes[A.type]&&(A.type=f.normalizedTypes[A.type]),f.types[A.type])return new f.types[A.type](A,r,w);throw new Error("Unrecognized shape type: "+ee)}};function a(b){f.apply(this,arguments),v(this,"isComposite",!0),b.flattened&&v(this,"flattened",b.flattened||!1)}function d(b,A){var r=this,w=null,O=!this.isShape;a.apply(this,arguments),O&&(v(this,"defaultValue",function(){return{}}),v(this,"members",{}),v(this,"memberNames",[]),v(this,"required",[]),v(this,"isRequired",function(){return!1}),v(this,"isDocument",!!b.document)),b.members&&(v(this,"members",new E(b.members,A,function(R,z){return f.create(z,A,R)})),m(this,"memberNames",function(){return b.xmlOrder||Object.keys(b.members)}),b.event&&(m(this,"eventPayloadMemberName",function(){for(var R=r.members,z=r.memberNames,ee=0,oe=z.length;ee<oe;ee++)if(R[z[ee]].isEventPayload)return z[ee]}),m(this,"eventHeaderMemberNames",function(){for(var R=r.members,z=r.memberNames,ee=[],oe=0,Q=z.length;oe<Q;oe++)R[z[oe]].isEventHeader&&ee.push(z[oe]);return ee}))),b.required&&(v(this,"required",b.required),v(this,"isRequired",function(R){if(!w){w={};for(var z=0;z<b.required.length;z++)w[b.required[z]]=!0}return w[R]},!1,!0)),v(this,"resultWrapper",b.resultWrapper||null),b.payload&&v(this,"payload",b.payload),typeof b.xmlNamespace=="string"?v(this,"xmlNamespaceUri",b.xmlNamespace):he(b.xmlNamespace)==="object"&&(v(this,"xmlNamespacePrefix",b.xmlNamespace.prefix),v(this,"xmlNamespaceUri",b.xmlNamespace.uri))}function p(b,A){var r=this,w=!this.isShape;if(a.apply(this,arguments),w&&v(this,"defaultValue",function(){return[]}),b.member&&m(this,"member",function(){return f.create(b.member,A)}),this.flattened){var O=this.name;m(this,"name",function(){return r.member.name||O})}}function c(b,A){var r=!this.isShape;a.apply(this,arguments),r&&(v(this,"defaultValue",function(){return{}}),v(this,"key",f.create({type:"string"},A)),v(this,"value",f.create({type:"string"},A))),b.key&&m(this,"key",function(){return f.create(b.key,A)}),b.value&&m(this,"value",function(){return f.create(b.value,A)})}function l(b){var A=this;if(f.apply(this,arguments),b.timestampFormat)v(this,"timestampFormat",b.timestampFormat);else if(A.isTimestampFormatSet&&this.timestampFormat)v(this,"timestampFormat",this.timestampFormat);else if(this.location==="header")v(this,"timestampFormat","rfc822");else if(this.location==="querystring")v(this,"timestampFormat","iso8601");else if(this.api)switch(this.api.protocol){case"json":case"rest-json":v(this,"timestampFormat","unixTimestamp");break;case"rest-xml":case"query":case"ec2":v(this,"timestampFormat","iso8601");break}this.toType=function(r){return r==null?null:typeof r.toUTCString=="function"?r:typeof r=="string"||typeof r=="number"?C.date.parseTimestamp(r):null},this.toWireFormat=function(r){return C.date.format(r,A.timestampFormat)}}function s(){f.apply(this,arguments);var b=["rest-xml","query","ec2"];this.toType=function(A){return A=this.api&&b.indexOf(this.api.protocol)>-1?A||"":A,this.isJsonValue?JSON.parse(A):A&&typeof A.toString=="function"?A.toString():A},this.toWireFormat=function(A){return this.isJsonValue?JSON.stringify(A):A}}function i(){f.apply(this,arguments),this.toType=function(b){return b==null?null:parseFloat(b)},this.toWireFormat=this.toType}function T(){f.apply(this,arguments),this.toType=function(b){return b==null?null:parseInt(b,10)},this.toWireFormat=this.toType}function S(){f.apply(this,arguments),this.toType=function(b){var A=C.base64.decode(b);if(this.isSensitive&&C.isNode()&&typeof C.Buffer.alloc=="function"){var r=C.Buffer.alloc(A.length,A);A.fill(0),A=r}return A},this.toWireFormat=C.base64.encode}function y(){S.apply(this,arguments)}function h(){f.apply(this,arguments),this.toType=function(b){return typeof b=="boolean"?b:b==null?null:b==="true"}}f.shapes={StructureShape:d,ListShape:p,MapShape:c,StringShape:s,BooleanShape:h,Base64Shape:y},L.exports=f},{"../util":74,"./collection":41}],46:[function(N,L,u){var E=N("./core");E.ParamValidator=E.util.inherit({constructor:function(v){(v===!0||v===void 0)&&(v={min:!0}),this.validation=v},validate:function(v,m,f){if(this.errors=[],this.validateMember(v,m||{},f||"params"),this.errors.length>1){var a=this.errors.join(`
* `);throw a="There were "+this.errors.length+` validation errors:
* `+a,E.util.error(new Error(a),{code:"MultipleValidationErrors",errors:this.errors})}else{if(this.errors.length===1)throw this.errors[0];return!0}},fail:function(v,m){this.errors.push(E.util.error(new Error(m),{code:v}))},validateStructure:function(v,m,f){if(v.isDocument)return!0;this.validateType(m,f,["object"],"structure");for(var a,d=0;v.required&&d<v.required.length;d++){a=v.required[d];var p=m[a];p==null&&this.fail("MissingRequiredParameter","Missing required key '"+a+"' in "+f)}for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)){var c=m[a],l=v.members[a];if(l!==void 0){var s=[f,a].join(".");this.validateMember(l,c,s)}else c!=null&&this.fail("UnexpectedParameter","Unexpected key '"+a+"' found in "+f)}return!0},validateMember:function(v,m,f){switch(v.type){case"structure":return this.validateStructure(v,m,f);case"list":return this.validateList(v,m,f);case"map":return this.validateMap(v,m,f);default:return this.validateScalar(v,m,f)}},validateList:function(v,m,f){if(this.validateType(m,f,[Array])){this.validateRange(v,m.length,f,"list member count");for(var a=0;a<m.length;a++)this.validateMember(v.member,m[a],f+"["+a+"]")}},validateMap:function(v,m,f){if(this.validateType(m,f,["object"],"map")){var a=0;for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&(this.validateMember(v.key,d,f+"[key='"+d+"']"),this.validateMember(v.value,m[d],f+"['"+d+"']"),a++);this.validateRange(v,a,f,"map member count")}},validateScalar:function(v,m,f){switch(v.type){case null:case void 0:case"string":return this.validateString(v,m,f);case"base64":case"binary":return this.validatePayload(m,f);case"integer":case"float":return this.validateNumber(v,m,f);case"boolean":return this.validateType(m,f,["boolean"]);case"timestamp":return this.validateType(m,f,[Date,/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,"number"],"Date object, ISO-8601 string, or a UNIX timestamp");default:return this.fail("UnkownType","Unhandled type "+v.type+" for "+f)}},validateString:function(v,m,f){var a=["string"];v.isJsonValue&&(a=a.concat(["number","object","boolean"])),m!==null&&this.validateType(m,f,a)&&(this.validateEnum(v,m,f),this.validateRange(v,m.length,f,"string length"),this.validatePattern(v,m,f),this.validateUri(v,m,f))},validateUri:function(v,m,f){v.location==="uri"&&m.length===0&&this.fail("UriParameterError",'Expected uri parameter to have length >= 1, but found "'+m+'" for '+f)},validatePattern:function(v,m,f){this.validation.pattern&&v.pattern!==void 0&&(new RegExp(v.pattern).test(m)||this.fail("PatternMatchError",'Provided value "'+m+'" does not match regex pattern /'+v.pattern+"/ for "+f))},validateRange:function(v,m,f,a){this.validation.min&&v.min!==void 0&&m<v.min&&this.fail("MinRangeError","Expected "+a+" >= "+v.min+", but found "+m+" for "+f),this.validation.max&&v.max!==void 0&&m>v.max&&this.fail("MaxRangeError","Expected "+a+" <= "+v.max+", but found "+m+" for "+f)},validateEnum:function(v,m,f){this.validation.enum&&v.enum!==void 0&&v.enum.indexOf(m)===-1&&this.fail("EnumError","Found string value of "+m+", but expected "+v.enum.join("|")+" for "+f)},validateType:function(v,m,f,a){if(v==null)return!1;for(var d=!1,p=0;p<f.length;p++){if(typeof f[p]=="string"){if(he(v)===f[p])return!0}else if(f[p]instanceof RegExp){if((v||"").toString().match(f[p]))return!0}else{if(v instanceof f[p]||E.util.isType(v,f[p]))return!0;!a&&!d&&(f=f.slice()),f[p]=E.util.typeName(f[p])}d=!0}var c=a;c||(c=f.join(", ").replace(/,([^,]+)$/,", or$1"));var l=c.match(/^[aeiou]/i)?"n":"";return this.fail("InvalidParameterType","Expected "+m+" to be a"+l+" "+c),!1},validateNumber:function(v,m,f){if(m!=null){if(typeof m=="string"){var a=parseFloat(m);a.toString()===m&&(m=a)}this.validateType(m,f,["number"])&&this.validateRange(v,m,f,"numeric value")}},validatePayload:function(v,m){if(v!=null&&typeof v!="string"&&!(v&&typeof v.byteLength=="number")){if(E.util.isNode()){var f=E.util.stream.Stream;if(E.util.Buffer.isBuffer(v)||v instanceof f)return}else if((typeof Blob>"u"?"undefined":he(Blob))!==void 0&&v instanceof Blob)return;var a=["Buffer","Stream","File","Blob","ArrayBuffer","DataView"];if(v){for(var d=0;d<a.length;d++)if(E.util.isType(v,a[d])||E.util.typeName(v.constructor)===a[d])return}this.fail("InvalidParameterType","Expected "+m+" to be a string, Buffer, Stream, Blob, or typed array object")}}})},{"./core":19}],47:[function(N,L,u){var E=N("../util"),C=N("../core");function v(p){var c=p.service.config.hostPrefixEnabled;if(!c)return p;var l=p.service.api.operations[p.operation];if(m(p))return p;if(l.endpoint&&l.endpoint.hostPrefix){var s=l.endpoint.hostPrefix,i=f(s,p.params,l.input);a(p.httpRequest.endpoint,i),d(p.httpRequest.endpoint.hostname)}return p}function m(p){var c=p.service.api,l=c.operations[p.operation],s=c.endpointOperation&&c.endpointOperation===E.string.lowerFirst(l.name);return l.endpointDiscoveryRequired!=="NULL"||s===!0}function f(p,c,l){return E.each(l.members,function(s,i){if(i.hostLabel===!0){if(typeof c[s]!="string"||c[s]==="")throw E.error(new Error,{message:"Parameter "+s+" should be a non-empty string.",code:"InvalidParameter"});var T=new RegExp("\\{"+s+"\\}","g");p=p.replace(T,c[s])}}),p}function a(p,c){p.host&&(p.host=c+p.host),p.hostname&&(p.hostname=c+p.hostname)}function d(p){var c=p.split("."),l=/^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;E.arrayEach(c,function(s){if(!s.length||s.length<1||s.length>63)throw E.error(new Error,{code:"ValidationError",message:"Hostname label length should be between 1 to 63 characters, inclusive."});if(!l.test(s))throw C.util.error(new Error,{code:"ValidationError",message:s+" is not hostname compatible."})})}L.exports={populateHostPrefix:v}},{"../core":19,"../util":74}],48:[function(N,L,u){var E=N("../util"),C=N("../json/builder"),v=N("../json/parser"),m=N("./helpers").populateHostPrefix;function f(p){var c=p.httpRequest,l=p.service.api,s=l.targetPrefix+"."+l.operations[p.operation].name,i=l.jsonVersion||"1.0",T=l.operations[p.operation].input,S=new C;i===1&&(i="1.0"),l.awsQueryCompatible&&(c.params||(c.params={}),Object.assign(c.params,p.params)),c.body=S.build(p.params||{},T),c.headers["Content-Type"]="application/x-amz-json-"+i,c.headers["X-Amz-Target"]=s,m(p)}function a(p){var c={},l=p.httpResponse;if(c.code=l.headers["x-amzn-errortype"]||"UnknownError",typeof c.code=="string"&&(c.code=c.code.split(":")[0]),l.body.length>0)try{var s=JSON.parse(l.body.toString()),i=s.__type||s.code||s.Code;i&&(c.code=i.split("#").pop()),c.code==="RequestEntityTooLarge"?c.message="Request body must be less than 1 MB":c.message=s.message||s.Message||null;for(var T in s||{})T==="code"||T==="message"||(c["["+T+"]"]="See error."+T+" for details.",Object.defineProperty(c,T,{value:s[T],enumerable:!1,writable:!0}))}catch{c.statusCode=l.statusCode,c.message=l.statusMessage}else c.statusCode=l.statusCode,c.message=l.statusCode.toString();p.error=E.error(new Error,c)}function d(p){var c=p.httpResponse.body.toString()||"{}";if(p.request.service.config.convertResponseTypes===!1)p.data=JSON.parse(c);else{var l=p.request.service.api.operations[p.request.operation],s=l.output||{},i=new v;p.data=i.parse(c,s)}}L.exports={buildRequest:f,extractError:a,extractData:d}},{"../json/builder":37,"../json/parser":38,"../util":74,"./helpers":47}],49:[function(N,L,u){var E=N("../core"),C=N("../util"),v=N("../query/query_param_serializer"),m=N("../model/shape"),f=N("./helpers").populateHostPrefix;function a(c){var l=c.service.api.operations[c.operation],s=c.httpRequest;s.headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8",s.params={Version:c.service.api.apiVersion,Action:l.name};var i=new v;i.serialize(c.params,l.input,function(T,S){s.params[T]=S}),s.body=C.queryParamsToString(s.params),f(c)}function d(c){var l,s=c.httpResponse.body.toString();if(s.match("<UnknownOperationException"))l={Code:"UnknownOperation",Message:"Unknown operation "+c.request.operation};else try{l=new E.XML.Parser().parse(s)}catch{l={Code:c.httpResponse.statusCode,Message:c.httpResponse.statusMessage}}l.requestId&&!c.requestId&&(c.requestId=l.requestId),l.Errors&&(l=l.Errors),l.Error&&(l=l.Error),l.Code?c.error=C.error(new Error,{code:l.Code,message:l.Message}):c.error=C.error(new Error,{code:c.httpResponse.statusCode,message:null})}function p(c){var l=c.request,s=l.service.api.operations[l.operation],i=s.output||{},T=i;if(T.resultWrapper){var S=m.create({type:"structure"});S.members[T.resultWrapper]=i,S.memberNames=[T.resultWrapper],C.property(i,"name",i.resultWrapper),i=S}var y=new E.XML.Parser;if(i&&i.members&&!i.members._XAMZRequestId){var h=m.create({type:"string"},{api:{protocol:"query"}},"requestId");i.members._XAMZRequestId=h}var b=y.parse(c.httpResponse.body.toString(),i);c.requestId=b._XAMZRequestId||b.requestId,b._XAMZRequestId&&delete b._XAMZRequestId,T.resultWrapper&&b[T.resultWrapper]&&(C.update(b,b[T.resultWrapper]),delete b[T.resultWrapper]),c.data=b}L.exports={buildRequest:a,extractError:d,extractData:p}},{"../core":19,"../model/shape":45,"../query/query_param_serializer":53,"../util":74,"./helpers":47}],50:[function(N,L,u){var E=N("../util"),C=N("./helpers").populateHostPrefix;function v(l){l.httpRequest.method=l.service.api.operations[l.operation].httpMethod}function m(l,s,i,T){var S=[l,s].join("/");S=S.replace(/\/+/g,"/");var y={},h=!1;if(E.each(i.members,function(A,r){var w=T[A];if(w!=null)if(r.location==="uri"){var O=new RegExp("\\{"+r.name+"(\\+)?\\}");S=S.replace(O,function(R,z){var ee=z?E.uriEscapePath:E.uriEscape;return ee(String(w))})}else r.location==="querystring"&&(h=!0,r.type==="list"?y[r.name]=w.map(function(R){return E.uriEscape(r.member.toWireFormat(R).toString())}):r.type==="map"?E.each(w,function(R,z){Array.isArray(z)?y[R]=z.map(function(ee){return E.uriEscape(String(ee))}):y[R]=E.uriEscape(String(z))}):y[r.name]=E.uriEscape(r.toWireFormat(w).toString()))}),h){S+=S.indexOf("?")>=0?"&":"?";var b=[];E.arrayEach(Object.keys(y).sort(),function(A){Array.isArray(y[A])||(y[A]=[y[A]]);for(var r=0;r<y[A].length;r++)b.push(E.uriEscape(String(A))+"="+y[A][r])}),S+=b.join("&")}return S}function f(l){var s=l.service.api.operations[l.operation],i=s.input,T=m(l.httpRequest.endpoint.path,s.httpPath,i,l.params);l.httpRequest.path=T}function a(l){var s=l.service.api.operations[l.operation];E.each(s.input.members,function(i,T){var S=l.params[i];S!=null&&(T.location==="headers"&&T.type==="map"?E.each(S,function(y,h){l.httpRequest.headers[T.name+y]=h}):T.location==="header"&&(S=T.toWireFormat(S).toString(),T.isJsonValue&&(S=E.base64.encode(S)),l.httpRequest.headers[T.name]=S))})}function d(l){v(l),f(l),a(l),C(l)}function p(){}function c(l){var s=l.request,i={},T=l.httpResponse,S=s.service.api.operations[s.operation],y=S.output,h={};E.each(T.headers,function(b,A){h[b.toLowerCase()]=A}),E.each(y.members,function(b,A){var r=(A.name||b).toLowerCase();if(A.location==="headers"&&A.type==="map"){i[b]={};var w=A.isLocationName?A.name:"",O=new RegExp("^"+w+"(.+)","i");E.each(T.headers,function(z,ee){var oe=z.match(O);oe!==null&&(i[b][oe[1]]=ee)})}else if(A.location==="header"){if(h[r]!==void 0){var R=A.isJsonValue?E.base64.decode(h[r]):h[r];i[b]=A.toType(R)}}else A.location==="statusCode"&&(i[b]=parseInt(T.statusCode,10))}),l.data=i}L.exports={buildRequest:d,extractError:p,extractData:c,generateURI:m}},{"../util":74,"./helpers":47}],51:[function(N,L,u){var E=N("../util"),C=N("./rest"),v=N("./json"),m=N("../json/builder"),f=N("../json/parser"),a=["GET","HEAD","DELETE"];function d(T){var S=E.getRequestPayloadShape(T);S===void 0&&a.indexOf(T.httpRequest.method)>=0&&delete T.httpRequest.headers["Content-Length"]}function p(T){var S=new m,y=T.service.api.operations[T.operation].input;if(y.payload){var h={},b=y.members[y.payload];h=T.params[y.payload],b.type==="structure"?(T.httpRequest.body=S.build(h||{},b),c(T)):h!==void 0&&(T.httpRequest.body=h,(b.type==="binary"||b.isStreaming)&&c(T,!0))}else T.httpRequest.body=S.build(T.params,y),c(T)}function c(T,S){if(!T.httpRequest.headers["Content-Type"]){var y=S?"binary/octet-stream":"application/json";T.httpRequest.headers["Content-Type"]=y}}function l(T){C.buildRequest(T),a.indexOf(T.httpRequest.method)<0&&p(T)}function s(T){v.extractError(T)}function i(T){C.extractData(T);var S=T.request,y=S.service.api.operations[S.operation],h=S.service.api.operations[S.operation].output||{},b;if(y.hasEventOutput,h.payload){var A=h.members[h.payload],r=T.httpResponse.body;if(A.isEventStream)b=new f,T.data[payload]=E.createEventStream(AWS.HttpClient.streamsApiVersion===2?T.httpResponse.stream:r,b,A);else if(A.type==="structure"||A.type==="list"){var b=new f;T.data[h.payload]=b.parse(r,A)}else A.type==="binary"||A.isStreaming?T.data[h.payload]=r:T.data[h.payload]=A.toType(r)}else{var w=T.data;v.extractData(T),T.data=E.merge(w,T.data)}}L.exports={buildRequest:l,extractError:s,extractData:i,unsetContentLength:d}},{"../json/builder":37,"../json/parser":38,"../util":74,"./json":48,"./rest":50}],52:[function(N,L,u){var E=N("../core"),C=N("../util"),v=N("./rest");function m(p){var c=p.service.api.operations[p.operation].input,l=new E.XML.Builder,s=p.params,i=c.payload;if(i){var T=c.members[i];if(s=s[i],s===void 0)return;if(T.type==="structure"){var S=T.name;p.httpRequest.body=l.toXML(s,T,S,!0)}else p.httpRequest.body=s}else p.httpRequest.body=l.toXML(s,c,c.name||c.shape||C.string.upperFirst(p.operation)+"Request")}function f(p){v.buildRequest(p),["GET","HEAD"].indexOf(p.httpRequest.method)<0&&m(p)}function a(p){v.extractError(p);var c;try{c=new E.XML.Parser().parse(p.httpResponse.body.toString())}catch{c={Code:p.httpResponse.statusCode,Message:p.httpResponse.statusMessage}}c.Errors&&(c=c.Errors),c.Error&&(c=c.Error),c.Code?p.error=C.error(new Error,{code:c.Code,message:c.Message}):p.error=C.error(new Error,{code:p.httpResponse.statusCode,message:null})}function d(p){v.extractData(p);var c,l=p.request,s=p.httpResponse.body,i=l.service.api.operations[l.operation],T=i.output;i.hasEventOutput;var S=T.payload;if(S){var y=T.members[S];y.isEventStream?(c=new E.XML.Parser,p.data[S]=C.createEventStream(E.HttpClient.streamsApiVersion===2?p.httpResponse.stream:p.httpResponse.body,c,y)):y.type==="structure"?(c=new E.XML.Parser,p.data[S]=c.parse(s.toString(),y)):y.type==="binary"||y.isStreaming?p.data[S]=s:p.data[S]=y.toType(s)}else if(s.length>0){c=new E.XML.Parser;var h=c.parse(s.toString(),T);C.update(p.data,h)}}L.exports={buildRequest:f,extractError:a,extractData:d}},{"../core":19,"../util":74,"./rest":50}],53:[function(N,L,u){var E=N("../util");function C(){}C.prototype.serialize=function(p,c,l){m("",p,c,l)};function v(p){return p.isQueryName||p.api.protocol!=="ec2"?p.name:p.name[0].toUpperCase()+p.name.substr(1)}function m(p,c,l,s){E.each(l.members,function(i,T){var S=c[i];if(S!=null){var y=v(T);y=p?p+"."+y:y,d(y,S,T,s)}})}function f(p,c,l,s){var i=1;E.each(c,function(T,S){var y=l.flattened?".":".entry.",h=y+i+++".",b=h+(l.key.name||"key"),A=h+(l.value.name||"value");d(p+b,T,l.key,s),d(p+A,S,l.value,s)})}function a(p,c,l,s){var i=l.member||{};if(c.length===0){s.call(this,p,null);return}E.arrayEach(c,function(T,S){var y="."+(S+1);if(l.api.protocol==="ec2")y=y+"";else if(l.flattened){if(i.name){var h=p.split(".");h.pop(),h.push(v(i)),p=h.join(".")}}else y="."+(i.name?i.name:"member")+y;d(p+y,T,i,s)})}function d(p,c,l,s){c!=null&&(l.type==="structure"?m(p,c,l,s):l.type==="list"?a(p,c,l,s):l.type==="map"?f(p,c,l,s):s(p,l.toWireFormat(c).toString()))}L.exports=C},{"../util":74}],54:[function(N,L,u){L.exports={now:function(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}}},{}],55:[function(N,L,u){function E(m){return typeof m=="string"&&(m.startsWith("fips-")||m.endsWith("-fips"))}function C(m){return typeof m=="string"&&["aws-global","aws-us-gov-global"].includes(m)}function v(m){return["fips-aws-global","aws-fips","aws-global"].includes(m)?"us-east-1":["fips-aws-us-gov-global","aws-us-gov-global"].includes(m)?"us-gov-west-1":m.replace(/fips-(dkr-|prod-)?|-fips/,"")}L.exports={isFipsRegion:E,isGlobalRegion:C,getRealRegion:v}},{}],56:[function(N,L,u){var E=N("./util"),C=N("./region_config_data.json");function v(p){if(!p)return null;var c=p.split("-");return c.length<3?null:c.slice(0,c.length-2).join("-")+"-*"}function m(p){var c=p.config.region,l=v(c),s=p.api.endpointPrefix;return[[c,s],[l,s],[c,"*"],[l,"*"],["*",s],[c,"internal-*"],["*","*"]].map(function(i){return i[0]&&i[1]?i.join("/"):null})}function f(p,c){E.each(c,function(l,s){l!=="globalEndpoint"&&(p.config[l]===void 0||p.config[l]===null)&&(p.config[l]=s)})}function a(p){for(var c=m(p),l=p.config.useFipsEndpoint,s=p.config.useDualstackEndpoint,i=0;i<c.length;i++){var T=c[i];if(T){var S=l?s?C.dualstackFipsRules:C.fipsRules:s?C.dualstackRules:C.rules;if(Object.prototype.hasOwnProperty.call(S,T)){var y=S[T];typeof y=="string"&&(y=C.patterns[y]),p.isGlobalEndpoint=!!y.globalEndpoint,y.signingRegion&&(p.signingRegion=y.signingRegion),y.signatureVersion||(y.signatureVersion="v4");var h=(p.api&&p.api.signatureVersion)==="bearer";f(p,Object.assign({},y,{signatureVersion:h?"bearer":y.signatureVersion}));return}}}}function d(p){for(var c={"^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$":"amazonaws.com","^cn\\-\\w+\\-\\d+$":"amazonaws.com.cn","^us\\-gov\\-\\w+\\-\\d+$":"amazonaws.com","^us\\-iso\\-\\w+\\-\\d+$":"c2s.ic.gov","^us\\-isob\\-\\w+\\-\\d+$":"sc2s.sgov.gov"},l="amazonaws.com",s=Object.keys(c),i=0;i<s.length;i++){var T=RegExp(s[i]),S=c[s[i]];if(T.test(p))return S}return l}L.exports={configureEndpoint:a,getEndpointSuffix:d}},{"./region_config_data.json":57,"./util":74}],57:[function(N,L,u){L.exports={rules:{"*/*":{endpoint:"{service}.{region}.amazonaws.com"},"cn-*/*":{endpoint:"{service}.{region}.amazonaws.com.cn"},"eu-isoe-*/*":"euIsoe","us-iso-*/*":"usIso","us-isob-*/*":"usIsob","*/budgets":"globalSSL","*/cloudfront":"globalSSL","*/sts":"globalSSL","*/importexport":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2",globalEndpoint:!0},"*/route53":"globalSSL","cn-*/route53":{endpoint:"{service}.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/route53":"globalGovCloud","us-iso-*/route53":{endpoint:"{service}.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-isob-*/route53":{endpoint:"{service}.sc2s.sgov.gov",globalEndpoint:!0,signingRegion:"us-isob-east-1"},"*/waf":"globalSSL","*/iam":"globalSSL","cn-*/iam":{endpoint:"{service}.cn-north-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-north-1"},"us-iso-*/iam":{endpoint:"{service}.us-iso-east-1.c2s.ic.gov",globalEndpoint:!0,signingRegion:"us-iso-east-1"},"us-gov-*/iam":"globalGovCloud","*/ce":{endpoint:"{service}.us-east-1.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},"cn-*/ce":{endpoint:"{service}.cn-northwest-1.amazonaws.com.cn",globalEndpoint:!0,signingRegion:"cn-northwest-1"},"us-gov-*/sts":{endpoint:"{service}.{region}.amazonaws.com"},"us-gov-west-1/s3":"s3signature","us-west-1/s3":"s3signature","us-west-2/s3":"s3signature","eu-west-1/s3":"s3signature","ap-southeast-1/s3":"s3signature","ap-southeast-2/s3":"s3signature","ap-northeast-1/s3":"s3signature","sa-east-1/s3":"s3signature","us-east-1/s3":{endpoint:"{service}.amazonaws.com",signatureVersion:"s3"},"us-east-1/sdb":{endpoint:"{service}.amazonaws.com",signatureVersion:"v2"},"*/sdb":{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"v2"},"*/resource-explorer-2":"dualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"globalDualstackByDefault"},fipsRules:{"*/*":"fipsStandard","us-gov-*/*":"fipsStandard","us-iso-*/*":{endpoint:"{service}-fips.{region}.c2s.ic.gov"},"us-iso-*/dms":"usIso","us-isob-*/*":{endpoint:"{service}-fips.{region}.sc2s.sgov.gov"},"us-isob-*/dms":"usIsob","cn-*/*":{endpoint:"{service}-fips.{region}.amazonaws.com.cn"},"*/api.ecr":"fips.api.ecr","*/api.sagemaker":"fips.api.sagemaker","*/batch":"fipsDotPrefix","*/eks":"fipsDotPrefix","*/models.lex":"fips.models.lex","*/runtime.lex":"fips.runtime.lex","*/runtime.sagemaker":{endpoint:"runtime-fips.sagemaker.{region}.amazonaws.com"},"*/iam":"fipsWithoutRegion","*/route53":"fipsWithoutRegion","*/transcribe":"fipsDotPrefix","*/waf":"fipsWithoutRegion","us-gov-*/transcribe":"fipsDotPrefix","us-gov-*/api.ecr":"fips.api.ecr","us-gov-*/models.lex":"fips.models.lex","us-gov-*/runtime.lex":"fips.runtime.lex","us-gov-*/access-analyzer":"fipsWithServiceOnly","us-gov-*/acm":"fipsWithServiceOnly","us-gov-*/acm-pca":"fipsWithServiceOnly","us-gov-*/api.sagemaker":"fipsWithServiceOnly","us-gov-*/appconfig":"fipsWithServiceOnly","us-gov-*/application-autoscaling":"fipsWithServiceOnly","us-gov-*/autoscaling":"fipsWithServiceOnly","us-gov-*/autoscaling-plans":"fipsWithServiceOnly","us-gov-*/batch":"fipsWithServiceOnly","us-gov-*/cassandra":"fipsWithServiceOnly","us-gov-*/clouddirectory":"fipsWithServiceOnly","us-gov-*/cloudformation":"fipsWithServiceOnly","us-gov-*/cloudshell":"fipsWithServiceOnly","us-gov-*/cloudtrail":"fipsWithServiceOnly","us-gov-*/config":"fipsWithServiceOnly","us-gov-*/connect":"fipsWithServiceOnly","us-gov-*/databrew":"fipsWithServiceOnly","us-gov-*/dlm":"fipsWithServiceOnly","us-gov-*/dms":"fipsWithServiceOnly","us-gov-*/dynamodb":"fipsWithServiceOnly","us-gov-*/ec2":"fipsWithServiceOnly","us-gov-*/eks":"fipsWithServiceOnly","us-gov-*/elasticache":"fipsWithServiceOnly","us-gov-*/elasticbeanstalk":"fipsWithServiceOnly","us-gov-*/elasticloadbalancing":"fipsWithServiceOnly","us-gov-*/elasticmapreduce":"fipsWithServiceOnly","us-gov-*/events":"fipsWithServiceOnly","us-gov-*/fis":"fipsWithServiceOnly","us-gov-*/glacier":"fipsWithServiceOnly","us-gov-*/greengrass":"fipsWithServiceOnly","us-gov-*/guardduty":"fipsWithServiceOnly","us-gov-*/identitystore":"fipsWithServiceOnly","us-gov-*/imagebuilder":"fipsWithServiceOnly","us-gov-*/kafka":"fipsWithServiceOnly","us-gov-*/kinesis":"fipsWithServiceOnly","us-gov-*/logs":"fipsWithServiceOnly","us-gov-*/mediaconvert":"fipsWithServiceOnly","us-gov-*/monitoring":"fipsWithServiceOnly","us-gov-*/networkmanager":"fipsWithServiceOnly","us-gov-*/organizations":"fipsWithServiceOnly","us-gov-*/outposts":"fipsWithServiceOnly","us-gov-*/participant.connect":"fipsWithServiceOnly","us-gov-*/ram":"fipsWithServiceOnly","us-gov-*/rds":"fipsWithServiceOnly","us-gov-*/redshift":"fipsWithServiceOnly","us-gov-*/resource-groups":"fipsWithServiceOnly","us-gov-*/runtime.sagemaker":"fipsWithServiceOnly","us-gov-*/serverlessrepo":"fipsWithServiceOnly","us-gov-*/servicecatalog-appregistry":"fipsWithServiceOnly","us-gov-*/servicequotas":"fipsWithServiceOnly","us-gov-*/sns":"fipsWithServiceOnly","us-gov-*/sqs":"fipsWithServiceOnly","us-gov-*/ssm":"fipsWithServiceOnly","us-gov-*/streams.dynamodb":"fipsWithServiceOnly","us-gov-*/sts":"fipsWithServiceOnly","us-gov-*/support":"fipsWithServiceOnly","us-gov-*/swf":"fipsWithServiceOnly","us-gov-west-1/states":"fipsWithServiceOnly","us-iso-east-1/elasticfilesystem":{endpoint:"elasticfilesystem-fips.{region}.c2s.ic.gov"},"us-gov-west-1/organizations":"fipsWithServiceOnly","us-gov-west-1/route53":{endpoint:"route53.us-gov.amazonaws.com"},"*/resource-explorer-2":"fipsDualstackByDefault","*/kendra-ranking":"dualstackByDefault","*/internetmonitor":"dualstackByDefault","*/codecatalyst":"fipsGlobalDualstackByDefault"},dualstackRules:{"*/*":{endpoint:"{service}.{region}.api.aws"},"cn-*/*":{endpoint:"{service}.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackLegacy","cn-*/s3":"dualstackLegacyCn","*/s3-control":"dualstackLegacy","cn-*/s3-control":"dualstackLegacyCn","ap-south-1/ec2":"dualstackLegacyEc2","eu-west-1/ec2":"dualstackLegacyEc2","sa-east-1/ec2":"dualstackLegacyEc2","us-east-1/ec2":"dualstackLegacyEc2","us-east-2/ec2":"dualstackLegacyEc2","us-west-2/ec2":"dualstackLegacyEc2"},dualstackFipsRules:{"*/*":{endpoint:"{service}-fips.{region}.api.aws"},"cn-*/*":{endpoint:"{service}-fips.{region}.api.amazonwebservices.com.cn"},"*/s3":"dualstackFipsLegacy","cn-*/s3":"dualstackFipsLegacyCn","*/s3-control":"dualstackFipsLegacy","cn-*/s3-control":"dualstackFipsLegacyCn"},patterns:{globalSSL:{endpoint:"https://{service}.amazonaws.com",globalEndpoint:!0,signingRegion:"us-east-1"},globalGovCloud:{endpoint:"{service}.us-gov.amazonaws.com",globalEndpoint:!0,signingRegion:"us-gov-west-1"},s3signature:{endpoint:"{service}.{region}.amazonaws.com",signatureVersion:"s3"},euIsoe:{endpoint:"{service}.{region}.cloud.adc-e.uk"},usIso:{endpoint:"{service}.{region}.c2s.ic.gov"},usIsob:{endpoint:"{service}.{region}.sc2s.sgov.gov"},fipsStandard:{endpoint:"{service}-fips.{region}.amazonaws.com"},fipsDotPrefix:{endpoint:"fips.{service}.{region}.amazonaws.com"},fipsWithoutRegion:{endpoint:"{service}-fips.amazonaws.com"},"fips.api.ecr":{endpoint:"ecr-fips.{region}.amazonaws.com"},"fips.api.sagemaker":{endpoint:"api-fips.sagemaker.{region}.amazonaws.com"},"fips.models.lex":{endpoint:"models-fips.lex.{region}.amazonaws.com"},"fips.runtime.lex":{endpoint:"runtime-fips.lex.{region}.amazonaws.com"},fipsWithServiceOnly:{endpoint:"{service}.{region}.amazonaws.com"},dualstackLegacy:{endpoint:"{service}.dualstack.{region}.amazonaws.com"},dualstackLegacyCn:{endpoint:"{service}.dualstack.{region}.amazonaws.com.cn"},dualstackFipsLegacy:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com"},dualstackFipsLegacyCn:{endpoint:"{service}-fips.dualstack.{region}.amazonaws.com.cn"},dualstackLegacyEc2:{endpoint:"api.ec2.{region}.aws"},dualstackByDefault:{endpoint:"{service}.{region}.api.aws"},fipsDualstackByDefault:{endpoint:"{service}-fips.{region}.api.aws"},globalDualstackByDefault:{endpoint:"{service}.global.api.aws"},fipsGlobalDualstackByDefault:{endpoint:"{service}-fips.global.api.aws"}}}},{}],58:[function(N,L,u){(function(E){(function(){var C=N("./core"),v=N("./state_machine"),m=C.util.inherit,f=C.util.domain,a=N("jmespath"),d={success:1,error:1,complete:1};function p(l){return Object.prototype.hasOwnProperty.call(d,l._asm.currentState)}var c=new v;c.setupStates=function(){var l=function(i,T){var S=this;S._haltHandlersOnError=!1,S.emit(S._asm.currentState,function(y){if(y)if(p(S))if(f&&S.domain instanceof f.Domain)y.domainEmitter=S,y.domain=S.domain,y.domainThrown=!1,S.domain.emit("error",y);else throw y;else S.response.error=y,T(y);else T(S.response.error)})};this.addState("validate","build","error",l),this.addState("build","afterBuild","restart",l),this.addState("afterBuild","sign","restart",l),this.addState("sign","send","retry",l),this.addState("retry","afterRetry","afterRetry",l),this.addState("afterRetry","sign","error",l),this.addState("send","validateResponse","retry",l),this.addState("validateResponse","extractData","extractError",l),this.addState("extractError","extractData","retry",l),this.addState("extractData","success","retry",l),this.addState("restart","build","error",l),this.addState("success","complete","complete",l),this.addState("error","complete","complete",l),this.addState("complete",null,null,l)},c.setupStates(),C.Request=m({constructor:function(s,i,T){var S=s.endpoint,y=s.config.region,h=s.config.customUserAgent;s.signingRegion?y=s.signingRegion:s.isGlobalEndpoint&&(y="us-east-1"),this.domain=f&&f.active,this.service=s,this.operation=i,this.params=T||{},this.httpRequest=new C.HttpRequest(S,y),this.httpRequest.appendToUserAgent(h),this.startTime=s.getSkewCorrectedDate(),this.response=new C.Response(this),this._asm=new v(c.states,"validate"),this._haltHandlersOnError=!1,C.SequentialExecutor.call(this),this.emit=this.emitEvent},send:function(s){return s&&(this.httpRequest.appendToUserAgent("callback"),this.on("complete",function(i){s.call(i,i.error,i.data)})),this.runTo(),this.response},build:function(s){return this.runTo("send",s)},runTo:function(s,i){return this._asm.runTo(s,i,this),this},abort:function(){return this.removeAllListeners("validateResponse"),this.removeAllListeners("extractError"),this.on("validateResponse",function(i){i.error=C.util.error(new Error("Request aborted by user"),{code:"RequestAbortedError",retryable:!1})}),this.httpRequest.stream&&!this.httpRequest.stream.didCallback&&(this.httpRequest.stream.abort(),this.httpRequest._abortCallback?this.httpRequest._abortCallback():this.removeAllListeners("send")),this},eachPage:function(s){s=C.util.fn.makeAsync(s,3);function i(T){s.call(T,T.error,T.data,function(S){S!==!1&&(T.hasNextPage()?T.nextPage().on("complete",i).send():s.call(T,null,null,C.util.fn.noop))})}this.on("complete",i).send()},eachItem:function(s){var i=this;function T(S,y){if(S)return s(S,null);if(y===null)return s(null,null);var h=i.service.paginationConfig(i.operation),b=h.resultKey;Array.isArray(b)&&(b=b[0]);var A=a.search(y,b),r=!0;return C.util.arrayEach(A,function(w){if(r=s(null,w),r===!1)return C.util.abort}),r}this.eachPage(T)},isPageable:function(){return!!this.service.paginationConfig(this.operation)},createReadStream:function(){var s=C.util.stream,i=this,T=null;return C.HttpClient.streamsApiVersion===2?(T=new s.PassThrough,E.nextTick(function(){i.send()})):(T=new s.Stream,T.readable=!0,T.sent=!1,T.on("newListener",function(S){!T.sent&&S==="data"&&(T.sent=!0,E.nextTick(function(){i.send()}))})),this.on("error",function(S){T.emit("error",S)}),this.on("httpHeaders",function(y,h,b){if(y<300){i.removeListener("httpData",C.EventListeners.Core.HTTP_DATA),i.removeListener("httpError",C.EventListeners.Core.HTTP_ERROR),i.on("httpError",function(oe){b.error=oe,b.error.retryable=!1});var A=!1,r;if(i.httpRequest.method!=="HEAD"&&(r=parseInt(h["content-length"],10)),r!==void 0&&!isNaN(r)&&r>=0){A=!0;var w=0}var O=function(){A&&w!==r?T.emit("error",C.util.error(new Error("Stream content length mismatch. Received "+w+" of "+r+" bytes."),{code:"StreamContentLengthMismatch"})):C.HttpClient.streamsApiVersion===2?T.end():T.emit("end")},R=b.httpResponse.createUnbufferedStream();if(C.HttpClient.streamsApiVersion===2)if(A){var z=new s.PassThrough;z._write=function(ee){return ee&&ee.length&&(w+=ee.length),s.PassThrough.prototype._write.apply(this,arguments)},z.on("end",O),T.on("error",function(ee){A=!1,R.unpipe(z),z.emit("end"),z.end()}),R.pipe(z).pipe(T,{end:!1})}else R.pipe(T);else A&&R.on("data",function(ee){ee&&ee.length&&(w+=ee.length)}),R.on("data",function(ee){T.emit("data",ee)}),R.on("end",O);R.on("error",function(ee){A=!1,T.emit("error",ee)})}}),T},emitEvent:function(s,i,T){typeof i=="function"&&(T=i,i=null),T||(T=function(){}),i||(i=this.eventParameters(s,this.response));var S=C.SequentialExecutor.prototype.emit;S.call(this,s,i,function(y){y&&(this.response.error=y),T.call(this,y)})},eventParameters:function(s){switch(s){case"restart":case"validate":case"sign":case"build":case"afterValidate":case"afterBuild":return[this];case"error":return[this.response.error,this.response];default:return[this.response]}},presign:function(s,i){return!i&&typeof s=="function"&&(i=s,s=null),new C.Signers.Presign().sign(this.toGet(),s,i)},isPresigned:function(){return Object.prototype.hasOwnProperty.call(this.httpRequest.headers,"presigned-expires")},toUnauthenticated:function(){return this._unAuthenticated=!0,this.removeListener("validate",C.EventListeners.Core.VALIDATE_CREDENTIALS),this.removeListener("sign",C.EventListeners.Core.SIGN),this},toGet:function(){return(this.service.api.protocol==="query"||this.service.api.protocol==="ec2")&&(this.removeListener("build",this.buildAsGet),this.addListener("build",this.buildAsGet)),this},buildAsGet:function(s){s.httpRequest.method="GET",s.httpRequest.path=s.service.endpoint.path+"?"+s.httpRequest.body,s.httpRequest.body="",delete s.httpRequest.headers["Content-Length"],delete s.httpRequest.headers["Content-Type"]},haltHandlersOnError:function(){this._haltHandlersOnError=!0}}),C.Request.addPromisesToClass=function(s){this.prototype.promise=function(){var T=this;return this.httpRequest.appendToUserAgent("promise"),new s(function(S,y){T.on("complete",function(h){h.error?y(h.error):S(Object.defineProperty(h.data||{},"$response",{value:h}))}),T.runTo()})}},C.Request.deletePromisesFromClass=function(){delete this.prototype.promise},C.util.addPromises(C.Request),C.util.mixin(C.Request,C.SequentialExecutor)}).call(this)}).call(this,N("_process"))},{"./core":19,"./state_machine":73,_process:91,jmespath:90}],59:[function(N,L,u){var E=N("./core"),C=E.util.inherit,v=N("jmespath");function m(f){var a=f.request._waiter,d=a.config.acceptors,p=!1,c="retry";d.forEach(function(l){if(!p){var s=a.matchers[l.matcher];s&&s(f,l.expected,l.argument)&&(p=!0,c=l.state)}}),!p&&f.error&&(c="failure"),c==="success"?a.setSuccess(f):a.setError(f,c==="retry")}E.ResourceWaiter=C({constructor:function(a,d){this.service=a,this.state=d,this.loadWaiterConfig(this.state)},service:null,state:null,config:null,matchers:{path:function(a,d,p){try{var c=v.search(a.data,p)}catch{return!1}return v.strictDeepEqual(c,d)},pathAll:function(a,d,p){try{var c=v.search(a.data,p)}catch{return!1}Array.isArray(c)||(c=[c]);var l=c.length;if(!l)return!1;for(var s=0;s<l;s++)if(!v.strictDeepEqual(c[s],d))return!1;return!0},pathAny:function(a,d,p){try{var c=v.search(a.data,p)}catch{return!1}Array.isArray(c)||(c=[c]);for(var l=c.length,s=0;s<l;s++)if(v.strictDeepEqual(c[s],d))return!0;return!1},status:function(a,d){var p=a.httpResponse.statusCode;return typeof p=="number"&&p===d},error:function(a,d){return typeof d=="string"&&a.error?d===a.error.code:d===!!a.error}},listeners:new E.SequentialExecutor().addNamedListeners(function(f){f("RETRY_CHECK","retry",function(a){var d=a.request._waiter;a.error&&a.error.code==="ResourceNotReady"&&(a.error.retryDelay=(d.config.delay||0)*1e3)}),f("CHECK_OUTPUT","extractData",m),f("CHECK_ERROR","extractError",m)}),wait:function(a,d){typeof a=="function"&&(d=a,a=void 0),a&&a.$waiter&&(a=E.util.copy(a),typeof a.$waiter.delay=="number"&&(this.config.delay=a.$waiter.delay),typeof a.$waiter.maxAttempts=="number"&&(this.config.maxAttempts=a.$waiter.maxAttempts),delete a.$waiter);var p=this.service.makeRequest(this.config.operation,a);return p._waiter=this,p.response.maxRetries=this.config.maxAttempts,p.addListeners(this.listeners),d&&p.send(d),p},setSuccess:function(a){a.error=null,a.data=a.data||{},a.request.removeAllListeners("extractData")},setError:function(a,d){a.data=null,a.error=E.util.error(a.error||new Error,{code:"ResourceNotReady",message:"Resource is not in the state "+this.state,retryable:d})},loadWaiterConfig:function(a){if(!this.service.api.waiters[a])throw new E.util.error(new Error,{code:"StateNotFoundError",message:"State "+a+" not found."});this.config=E.util.copy(this.service.api.waiters[a])}})},{"./core":19,jmespath:90}],60:[function(N,L,u){var E=N("./core"),C=E.util.inherit,v=N("jmespath");E.Response=C({constructor:function(f){this.request=f,this.data=null,this.error=null,this.retryCount=0,this.redirectCount=0,this.httpResponse=new E.HttpResponse,f&&(this.maxRetries=f.service.numRetries(),this.maxRedirects=f.service.config.maxRedirects)},nextPage:function(f){var a,d=this.request.service,p=this.request.operation;try{a=d.paginationConfig(p,!0)}catch(i){this.error=i}if(!this.hasNextPage()){if(f)f(this.error,null);else if(this.error)throw this.error;return null}var c=E.util.copy(this.request.params);if(this.nextPageTokens){var l=a.inputToken;typeof l=="string"&&(l=[l]);for(var s=0;s<l.length;s++)c[l[s]]=this.nextPageTokens[s];return d.makeRequest(this.request.operation,c,f)}else return f?f(null,null):null},hasNextPage:function(){if(this.cacheNextPageTokens(),this.nextPageTokens)return!0;if(this.nextPageTokens!==void 0)return!1},cacheNextPageTokens:function(){if(Object.prototype.hasOwnProperty.call(this,"nextPageTokens"))return this.nextPageTokens;this.nextPageTokens=void 0;var f=this.request.service.paginationConfig(this.request.operation);if(!f)return this.nextPageTokens;if(this.nextPageTokens=null,f.moreResults&&!v.search(this.data,f.moreResults))return this.nextPageTokens;var a=f.outputToken;return typeof a=="string"&&(a=[a]),E.util.arrayEach.call(this,a,function(d){var p=v.search(this.data,d);p&&(this.nextPageTokens=this.nextPageTokens||[],this.nextPageTokens.push(p))}),this.nextPageTokens}})},{"./core":19,jmespath:90}],61:[function(N,L,u){var E=N("./core");E.SequentialExecutor=E.util.inherit({constructor:function(){this._events={}},listeners:function(v){return this._events[v]?this._events[v].slice(0):[]},on:function(v,m,f){return this._events[v]?f?this._events[v].unshift(m):this._events[v].push(m):this._events[v]=[m],this},onAsync:function(v,m,f){return m._isAsync=!0,this.on(v,m,f)},removeListener:function(v,m){var f=this._events[v];if(f){for(var a=f.length,d=-1,p=0;p<a;++p)f[p]===m&&(d=p);d>-1&&f.splice(d,1)}return this},removeAllListeners:function(v){return v?delete this._events[v]:this._events={},this},emit:function(v,m,f){f||(f=function(){});var a=this.listeners(v),d=a.length;return this.callListeners(a,m,f),d>0},callListeners:function(v,m,f,a){var d=this,p=a||null;function c(s){if(s&&(p=E.util.error(p||new Error,s),d._haltHandlersOnError))return f.call(d,p);d.callListeners(v,m,f,p)}for(;v.length>0;){var l=v.shift();if(l._isAsync){l.apply(d,m.concat([c]));return}else{try{l.apply(d,m)}catch(s){p=E.util.error(p||new Error,s)}if(p&&d._haltHandlersOnError){f.call(d,p);return}}}f.call(d,p)},addListeners:function(v){var m=this;return v._events&&(v=v._events),E.util.each(v,function(f,a){typeof a=="function"&&(a=[a]),E.util.arrayEach(a,function(d){m.on(f,d)})}),m},addNamedListener:function(v,m,f,a){return this[v]=f,this.addListener(m,f,a),this},addNamedAsyncListener:function(v,m,f,a){return f._isAsync=!0,this.addNamedListener(v,m,f,a)},addNamedListeners:function(v){var m=this;return v(function(){m.addNamedListener.apply(m,arguments)},function(){m.addNamedAsyncListener.apply(m,arguments)}),this}}),E.SequentialExecutor.prototype.addListener=E.SequentialExecutor.prototype.on,L.exports=E.SequentialExecutor},{"./core":19}],62:[function(N,L,u){(function(E){(function(){var C=N("./core"),v=N("./model/api"),m=N("./region_config"),f=C.util.inherit,a=0,d=N("./region/utils");C.Service=f({constructor:function(c){if(!this.loadServiceClass)throw C.util.error(new Error,"Service must be constructed with `new' operator");if(c){if(c.region){var l=c.region;d.isFipsRegion(l)&&(c.region=d.getRealRegion(l),c.useFipsEndpoint=!0),d.isGlobalRegion(l)&&(c.region=d.getRealRegion(l))}typeof c.useDualstack=="boolean"&&typeof c.useDualstackEndpoint!="boolean"&&(c.useDualstackEndpoint=c.useDualstack)}var s=this.loadServiceClass(c||{});if(s){var i=C.util.copy(c),T=new s(c);return Object.defineProperty(T,"_originalConfig",{get:function(){return i},enumerable:!1,configurable:!0}),T._clientId=++a,T}this.initialize(c)},initialize:function(c){var l=C.config[this.serviceIdentifier];if(this.config=new C.Config(C.config),l&&this.config.update(l,!0),c&&this.config.update(c,!0),this.validateService(),this.config.endpoint||m.configureEndpoint(this),this.config.endpoint=this.endpointFromTemplate(this.config.endpoint),this.setEndpoint(this.config.endpoint),C.SequentialExecutor.call(this),C.Service.addDefaultMonitoringListeners(this),(this.config.clientSideMonitoring||C.Service._clientSideMonitoring)&&this.publisher){var s=this.publisher;this.addNamedListener("PUBLISH_API_CALL","apiCall",function(T){E.nextTick(function(){s.eventHandler(T)})}),this.addNamedListener("PUBLISH_API_ATTEMPT","apiCallAttempt",function(T){E.nextTick(function(){s.eventHandler(T)})})}},validateService:function(){},loadServiceClass:function(c){var l=c;if(C.util.isEmpty(this.api)){if(l.apiConfig)return C.Service.defineServiceApi(this.constructor,l.apiConfig);if(this.constructor.services){l=new C.Config(C.config),l.update(c,!0);var s=l.apiVersions[this.constructor.serviceIdentifier];return s=s||l.apiVersion,this.getLatestServiceClass(s)}else return null}else return null},getLatestServiceClass:function(c){return c=this.getLatestServiceVersion(c),this.constructor.services[c]===null&&C.Service.defineServiceApi(this.constructor,c),this.constructor.services[c]},getLatestServiceVersion:function(c){if(!this.constructor.services||this.constructor.services.length===0)throw new Error("No services defined on "+this.constructor.serviceIdentifier);if(c?C.util.isType(c,Date)&&(c=C.util.date.iso8601(c).split("T")[0]):c="latest",Object.hasOwnProperty(this.constructor.services,c))return c;for(var l=Object.keys(this.constructor.services).sort(),s=null,i=l.length-1;i>=0;i--)if(l[i][l[i].length-1]!=="*"&&(s=l[i]),l[i].substr(0,10)<=c)return s;throw new Error("Could not find "+this.constructor.serviceIdentifier+" API to satisfy version constraint `"+c+"'")},api:{},defaultRetryCount:3,customizeRequests:function(c){if(!c)this.customRequestHandler=null;else if(typeof c=="function")this.customRequestHandler=c;else throw new Error("Invalid callback type '"+he(c)+"' provided in customizeRequests")},makeRequest:function(c,l,s){if(typeof l=="function"&&(s=l,l=null),l=l||{},this.config.params){var i=this.api.operations[c];i&&(l=C.util.copy(l),C.util.each(this.config.params,function(S,y){i.input.members[S]&&(l[S]===void 0||l[S]===null)&&(l[S]=y)}))}var T=new C.Request(this,c,l);return this.addAllRequestListeners(T),this.attachMonitoringEmitter(T),s&&T.send(s),T},makeUnauthenticatedRequest:function(c,l,s){typeof l=="function"&&(s=l,l={});var i=this.makeRequest(c,l).toUnauthenticated();return s?i.send(s):i},waitFor:function(c,l,s){var i=new C.ResourceWaiter(this,c);return i.wait(l,s)},addAllRequestListeners:function(c){for(var l=[C.events,C.EventListeners.Core,this.serviceInterface(),C.EventListeners.CorePost],s=0;s<l.length;s++)l[s]&&c.addListeners(l[s]);this.config.paramValidation||c.removeListener("validate",C.EventListeners.Core.VALIDATE_PARAMETERS),this.config.logger&&c.addListeners(C.EventListeners.Logger),this.setupRequestListeners(c),typeof this.constructor.prototype.customRequestHandler=="function"&&this.constructor.prototype.customRequestHandler(c),Object.prototype.hasOwnProperty.call(this,"customRequestHandler")&&typeof this.customRequestHandler=="function"&&this.customRequestHandler(c)},apiCallEvent:function(c){var l=c.service.api.operations[c.operation],s={Type:"ApiCall",Api:l?l.name:c.operation,Version:1,Service:c.service.api.serviceId||c.service.api.endpointPrefix,Region:c.httpRequest.region,MaxRetriesExceeded:0,UserAgent:c.httpRequest.getUserAgent()},i=c.response;if(i.httpResponse.statusCode&&(s.FinalHttpStatusCode=i.httpResponse.statusCode),i.error){var T=i.error,S=i.httpResponse.statusCode;S>299?(T.code&&(s.FinalAwsException=T.code),T.message&&(s.FinalAwsExceptionMessage=T.message)):((T.code||T.name)&&(s.FinalSdkException=T.code||T.name),T.message&&(s.FinalSdkExceptionMessage=T.message))}return s},apiAttemptEvent:function(c){var l=c.service.api.operations[c.operation],s={Type:"ApiCallAttempt",Api:l?l.name:c.operation,Version:1,Service:c.service.api.serviceId||c.service.api.endpointPrefix,Fqdn:c.httpRequest.endpoint.hostname,UserAgent:c.httpRequest.getUserAgent()},i=c.response;return i.httpResponse.statusCode&&(s.HttpStatusCode=i.httpResponse.statusCode),!c._unAuthenticated&&c.service.config.credentials&&c.service.config.credentials.accessKeyId&&(s.AccessKey=c.service.config.credentials.accessKeyId),i.httpResponse.headers&&(c.httpRequest.headers["x-amz-security-token"]&&(s.SessionToken=c.httpRequest.headers["x-amz-security-token"]),i.httpResponse.headers["x-amzn-requestid"]&&(s.XAmznRequestId=i.httpResponse.headers["x-amzn-requestid"]),i.httpResponse.headers["x-amz-request-id"]&&(s.XAmzRequestId=i.httpResponse.headers["x-amz-request-id"]),i.httpResponse.headers["x-amz-id-2"]&&(s.XAmzId2=i.httpResponse.headers["x-amz-id-2"])),s},attemptFailEvent:function(c){var l=this.apiAttemptEvent(c),s=c.response,i=s.error;return s.httpResponse.statusCode>299?(i.code&&(l.AwsException=i.code),i.message&&(l.AwsExceptionMessage=i.message)):((i.code||i.name)&&(l.SdkException=i.code||i.name),i.message&&(l.SdkExceptionMessage=i.message)),l},attachMonitoringEmitter:function(c){var l,s,i,T,S=0,y,h,b=this,A=!0;c.on("validate",function(){T=C.util.realClock.now(),h=Date.now()},A),c.on("sign",function(){s=C.util.realClock.now(),l=Date.now(),y=c.httpRequest.region,S++},A),c.on("validateResponse",function(){i=Math.round(C.util.realClock.now()-s)}),c.addNamedListener("API_CALL_ATTEMPT","success",function(){var w=b.apiAttemptEvent(c);w.Timestamp=l,w.AttemptLatency=i>=0?i:0,w.Region=y,b.emit("apiCallAttempt",[w])}),c.addNamedListener("API_CALL_ATTEMPT_RETRY","retry",function(){var w=b.attemptFailEvent(c);w.Timestamp=l,i=i||Math.round(C.util.realClock.now()-s),w.AttemptLatency=i>=0?i:0,w.Region=y,b.emit("apiCallAttempt",[w])}),c.addNamedListener("API_CALL","complete",function(){var w=b.apiCallEvent(c);if(w.AttemptCount=S,!(w.AttemptCount<=0)){w.Timestamp=h;var O=Math.round(C.util.realClock.now()-T);w.Latency=O>=0?O:0;var R=c.response;R.error&&R.error.retryable&&typeof R.retryCount=="number"&&typeof R.maxRetries=="number"&&R.retryCount>=R.maxRetries&&(w.MaxRetriesExceeded=1),b.emit("apiCall",[w])}})},setupRequestListeners:function(c){},getSigningName:function(){return this.api.signingName||this.api.endpointPrefix},getSignerClass:function(c){var l,s=null,i="";if(c){var T=c.service.api.operations||{};s=T[c.operation]||null,i=s?s.authtype:""}return this.config.signatureVersion?l=this.config.signatureVersion:i==="v4"||i==="v4-unsigned-body"?l="v4":i==="bearer"?l="bearer":l=this.api.signatureVersion,C.Signers.RequestSigner.getVersion(l)},serviceInterface:function(){switch(this.api.protocol){case"ec2":return C.EventListeners.Query;case"query":return C.EventListeners.Query;case"json":return C.EventListeners.Json;case"rest-json":return C.EventListeners.RestJson;case"rest-xml":return C.EventListeners.RestXml}if(this.api.protocol)throw new Error("Invalid service `protocol' "+this.api.protocol+" in API config")},successfulResponse:function(c){return c.httpResponse.statusCode<300},numRetries:function(){return this.config.maxRetries!==void 0?this.config.maxRetries:this.defaultRetryCount},retryDelays:function(c,l){return C.util.calculateRetryDelay(c,this.config.retryDelayOptions,l)},retryableError:function(c){return!!(this.timeoutError(c)||this.networkingError(c)||this.expiredCredentialsError(c)||this.throttledError(c)||c.statusCode>=500)},networkingError:function(c){return c.code==="NetworkingError"},timeoutError:function(c){return c.code==="TimeoutError"},expiredCredentialsError:function(c){return c.code==="ExpiredTokenException"},clockSkewError:function(c){switch(c.code){case"RequestTimeTooSkewed":case"RequestExpired":case"InvalidSignatureException":case"SignatureDoesNotMatch":case"AuthFailure":case"RequestInTheFuture":return!0;default:return!1}},getSkewCorrectedDate:function(){return new Date(Date.now()+this.config.systemClockOffset)},applyClockOffset:function(c){c&&(this.config.systemClockOffset=c-Date.now())},isClockSkewed:function(c){if(c)return Math.abs(this.getSkewCorrectedDate().getTime()-c)>=3e5},throttledError:function(c){if(c.statusCode===429)return!0;switch(c.code){case"ProvisionedThroughputExceededException":case"Throttling":case"ThrottlingException":case"RequestLimitExceeded":case"RequestThrottled":case"RequestThrottledException":case"TooManyRequestsException":case"TransactionInProgressException":case"EC2ThrottledException":return!0;default:return!1}},endpointFromTemplate:function(c){if(typeof c!="string")return c;var l=c;return l=l.replace(/\{service\}/g,this.api.endpointPrefix),l=l.replace(/\{region\}/g,this.config.region),l=l.replace(/\{scheme\}/g,this.config.sslEnabled?"https":"http"),l},setEndpoint:function(c){this.endpoint=new C.Endpoint(c,this.config)},paginationConfig:function(c,l){var s=this.api.operations[c].paginator;if(!s){if(l){var i=new Error;throw C.util.error(i,"No pagination configuration for "+c)}return null}return s}}),C.util.update(C.Service,{defineMethods:function(c){C.util.each(c.prototype.api.operations,function(s){if(!c.prototype[s]){var i=c.prototype.api.operations[s];i.authtype==="none"?c.prototype[s]=function(T,S){return this.makeUnauthenticatedRequest(s,T,S)}:c.prototype[s]=function(T,S){return this.makeRequest(s,T,S)}}})},defineService:function(c,l,s){C.Service._serviceMap[c]=!0,Array.isArray(l)||(s=l,l=[]);var i=f(C.Service,s||{});if(typeof c=="string"){C.Service.addVersions(i,l);var T=i.serviceIdentifier||c;i.serviceIdentifier=T}else i.prototype.api=c,C.Service.defineMethods(i);if(C.SequentialExecutor.call(this.prototype),!this.prototype.publisher&&C.util.clientSideMonitoring){var S=C.util.clientSideMonitoring.Publisher,y=C.util.clientSideMonitoring.configProvider,h=y();this.prototype.publisher=new S(h),h.enabled&&(C.Service._clientSideMonitoring=!0)}return C.SequentialExecutor.call(i.prototype),C.Service.addDefaultMonitoringListeners(i.prototype),i},addVersions:function(c,l){Array.isArray(l)||(l=[l]),c.services=c.services||{};for(var s=0;s<l.length;s++)c.services[l[s]]===void 0&&(c.services[l[s]]=null);c.apiVersions=Object.keys(c.services).sort()},defineServiceApi:function(c,l,s){var i=f(c,{serviceIdentifier:c.serviceIdentifier});function T(S){S.isApi?i.prototype.api=S:i.prototype.api=new v(S,{serviceIdentifier:c.serviceIdentifier})}if(typeof l=="string"){if(s)T(s);else try{T(C.apiLoader(c.serviceIdentifier,l))}catch(S){throw C.util.error(S,{message:"Could not find API configuration "+c.serviceIdentifier+"-"+l})}Object.prototype.hasOwnProperty.call(c.services,l)||(c.apiVersions=c.apiVersions.concat(l).sort()),c.services[l]=i}else T(l);return C.Service.defineMethods(i),i},hasService:function(c){return Object.prototype.hasOwnProperty.call(C.Service._serviceMap,c)},addDefaultMonitoringListeners:function(c){c.addNamedListener("MONITOR_EVENTS_BUBBLE","apiCallAttempt",function(s){var i=Object.getPrototypeOf(c);i._events&&i.emit("apiCallAttempt",[s])}),c.addNamedListener("CALL_EVENTS_BUBBLE","apiCall",function(s){var i=Object.getPrototypeOf(c);i._events&&i.emit("apiCall",[s])})},_serviceMap:{}}),C.util.mixin(C.Service,C.SequentialExecutor),L.exports=C.Service}).call(this)}).call(this,N("_process"))},{"./core":19,"./model/api":40,"./region/utils":55,"./region_config":56,_process:91}],63:[function(N,L,u){var E=N("../core"),C=N("../config_regional_endpoint"),v="AWS_STS_REGIONAL_ENDPOINTS",m="sts_regional_endpoints";E.util.update(E.STS.prototype,{credentialsFrom:function(a,d){return a?(d||(d=new E.TemporaryCredentials),d.expired=!1,d.accessKeyId=a.Credentials.AccessKeyId,d.secretAccessKey=a.Credentials.SecretAccessKey,d.sessionToken=a.Credentials.SessionToken,d.expireTime=a.Credentials.Expiration,d):null},assumeRoleWithWebIdentity:function(a,d){return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity",a,d)},assumeRoleWithSAML:function(a,d){return this.makeUnauthenticatedRequest("assumeRoleWithSAML",a,d)},setupRequestListeners:function(a){a.addListener("validate",this.optInRegionalEndpoint,!0)},optInRegionalEndpoint:function(a){var d=a.service,p=d.config;if(p.stsRegionalEndpoints=C(d._originalConfig,{env:v,sharedConfig:m,clientConfig:"stsRegionalEndpoints"}),p.stsRegionalEndpoints==="regional"&&d.isGlobalEndpoint){if(!p.region)throw E.util.error(new Error,{code:"ConfigError",message:"Missing region in config"});var c=p.endpoint.indexOf(".amazonaws.com"),l=p.endpoint.substring(0,c)+"."+p.region+p.endpoint.substring(c);a.httpRequest.updateEndpoint(l),a.httpRequest.region=p.region}}})},{"../config_regional_endpoint":18,"../core":19}],64:[function(N,L,u){var E=N("../core");E.Signers.Bearer=E.util.inherit(E.Signers.RequestSigner,{constructor:function(v){E.Signers.RequestSigner.call(this,v)},addAuthorization:function(v){this.request.headers.Authorization="Bearer "+v.token}})},{"../core":19}],65:[function(N,L,u){var E=N("../core"),C=E.util.inherit,v="presigned-expires";function m(a){var d=a.httpRequest.headers[v],p=a.service.getSignerClass(a);if(delete a.httpRequest.headers["User-Agent"],delete a.httpRequest.headers["X-Amz-User-Agent"],p===E.Signers.V4){if(d>604800){var c="Presigning does not support expiry time greater than a week with SigV4 signing.";throw E.util.error(new Error,{code:"InvalidExpiryTime",message:c,retryable:!1})}a.httpRequest.headers[v]=d}else if(p===E.Signers.S3){var l=a.service?a.service.getSkewCorrectedDate():E.util.date.getDate();a.httpRequest.headers[v]=parseInt(E.util.date.unixTimestamp(l)+d,10).toString()}else throw E.util.error(new Error,{message:"Presigning only supports S3 or SigV4 signing.",code:"UnsupportedSigner",retryable:!1})}function f(a){var d=a.httpRequest.endpoint,p=E.util.urlParse(a.httpRequest.path),c={};p.search&&(c=E.util.queryStringParse(p.search.substr(1)));var l=a.httpRequest.headers.Authorization.split(" ");if(l[0]==="AWS")l=l[1].split(":"),c.Signature=l.pop(),c.AWSAccessKeyId=l.join(":"),E.util.each(a.httpRequest.headers,function(T,S){T===v&&(T="Expires"),T.indexOf("x-amz-meta-")===0&&(delete c[T],T=T.toLowerCase()),c[T]=S}),delete a.httpRequest.headers[v],delete c.Authorization,delete c.Host;else if(l[0]==="AWS4-HMAC-SHA256"){l.shift();var s=l.join(" "),i=s.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];c["X-Amz-Signature"]=i,delete c.Expires}d.pathname=p.pathname,d.search=E.util.queryParamsToString(c)}E.Signers.Presign=C({sign:function(d,p,c){if(d.httpRequest.headers[v]=p||3600,d.on("build",m),d.on("sign",f),d.removeListener("afterBuild",E.EventListeners.Core.SET_CONTENT_LENGTH),d.removeListener("afterBuild",E.EventListeners.Core.COMPUTE_SHA256),d.emit("beforePresign",[d]),c)d.build(function(){this.response.error?c(this.response.error):c(null,E.util.urlFormat(d.httpRequest.endpoint))});else{if(d.build(),d.response.error)throw d.response.error;return E.util.urlFormat(d.httpRequest.endpoint)}}}),L.exports=E.Signers.Presign},{"../core":19}],66:[function(N,L,u){var E=N("../core"),C=E.util.inherit;E.Signers.RequestSigner=C({constructor:function(m){this.request=m},setServiceClientId:function(m){this.serviceClientId=m},getServiceClientId:function(){return this.serviceClientId}}),E.Signers.RequestSigner.getVersion=function(m){switch(m){case"v2":return E.Signers.V2;case"v3":return E.Signers.V3;case"s3v4":return E.Signers.V4;case"v4":return E.Signers.V4;case"s3":return E.Signers.S3;case"v3https":return E.Signers.V3Https;case"bearer":return E.Signers.Bearer}throw new Error("Unknown signing version "+m)},N("./v2"),N("./v3"),N("./v3https"),N("./v4"),N("./s3"),N("./presign"),N("./bearer")},{"../core":19,"./bearer":64,"./presign":65,"./s3":67,"./v2":68,"./v3":69,"./v3https":70,"./v4":71}],67:[function(N,L,u){var E=N("../core"),C=E.util.inherit;E.Signers.S3=C(E.Signers.RequestSigner,{subResources:{acl:1,accelerate:1,analytics:1,cors:1,lifecycle:1,delete:1,inventory:1,location:1,logging:1,metrics:1,notification:1,partNumber:1,policy:1,requestPayment:1,replication:1,restore:1,tagging:1,torrent:1,uploadId:1,uploads:1,versionId:1,versioning:1,versions:1,website:1},responseHeaders:{"response-content-type":1,"response-content-language":1,"response-expires":1,"response-cache-control":1,"response-content-disposition":1,"response-content-encoding":1},addAuthorization:function(m,f){this.request.headers["presigned-expires"]||(this.request.headers["X-Amz-Date"]=E.util.date.rfc822(f)),m.sessionToken&&(this.request.headers["x-amz-security-token"]=m.sessionToken);var a=this.sign(m.secretAccessKey,this.stringToSign()),d="AWS "+m.accessKeyId+":"+a;this.request.headers.Authorization=d},stringToSign:function(){var m=this.request,f=[];f.push(m.method),f.push(m.headers["Content-MD5"]||""),f.push(m.headers["Content-Type"]||""),f.push(m.headers["presigned-expires"]||"");var a=this.canonicalizedAmzHeaders();return a&&f.push(a),f.push(this.canonicalizedResource()),f.join(`
`)},canonicalizedAmzHeaders:function(){var m=[];E.util.each(this.request.headers,function(a){a.match(/^x-amz-/i)&&m.push(a)}),m.sort(function(a,d){return a.toLowerCase()<d.toLowerCase()?-1:1});var f=[];return E.util.arrayEach.call(this,m,function(a){f.push(a.toLowerCase()+":"+String(this.request.headers[a]))}),f.join(`
`)},canonicalizedResource:function(){var m=this.request,f=m.path.split("?"),a=f[0],d=f[1],p="";if(m.virtualHostedBucket&&(p+="/"+m.virtualHostedBucket),p+=a,d){var c=[];E.util.arrayEach.call(this,d.split("&"),function(l){var s=l.split("=")[0],i=l.split("=")[1];if(this.subResources[s]||this.responseHeaders[s]){var T={name:s};i!==void 0&&(this.subResources[s]?T.value=i:T.value=decodeURIComponent(i)),c.push(T)}}),c.sort(function(l,s){return l.name<s.name?-1:1}),c.length&&(d=[],E.util.arrayEach(c,function(l){l.value===void 0?d.push(l.name):d.push(l.name+"="+l.value)}),p+="?"+d.join("&"))}return p},sign:function(m,f){return E.util.crypto.hmac(m,f,"base64","sha1")}}),L.exports=E.Signers.S3},{"../core":19}],68:[function(N,L,u){var E=N("../core"),C=E.util.inherit;E.Signers.V2=C(E.Signers.RequestSigner,{addAuthorization:function(m,f){f||(f=E.util.date.getDate());var a=this.request;a.params.Timestamp=E.util.date.iso8601(f),a.params.SignatureVersion="2",a.params.SignatureMethod="HmacSHA256",a.params.AWSAccessKeyId=m.accessKeyId,m.sessionToken&&(a.params.SecurityToken=m.sessionToken),delete a.params.Signature,a.params.Signature=this.signature(m),a.body=E.util.queryParamsToString(a.params),a.headers["Content-Length"]=a.body.length},signature:function(m){return E.util.crypto.hmac(m.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var m=[];return m.push(this.request.method),m.push(this.request.endpoint.host.toLowerCase()),m.push(this.request.pathname()),m.push(E.util.queryParamsToString(this.request.params)),m.join(`
`)}}),L.exports=E.Signers.V2},{"../core":19}],69:[function(N,L,u){var E=N("../core"),C=E.util.inherit;E.Signers.V3=C(E.Signers.RequestSigner,{addAuthorization:function(m,f){var a=E.util.date.rfc822(f);this.request.headers["X-Amz-Date"]=a,m.sessionToken&&(this.request.headers["x-amz-security-token"]=m.sessionToken),this.request.headers["X-Amzn-Authorization"]=this.authorization(m,a)},authorization:function(m){return"AWS3 AWSAccessKeyId="+m.accessKeyId+",Algorithm=HmacSHA256,SignedHeaders="+this.signedHeaders()+",Signature="+this.signature(m)},signedHeaders:function(){var m=[];return E.util.arrayEach(this.headersToSign(),function(a){m.push(a.toLowerCase())}),m.sort().join(";")},canonicalHeaders:function(){var m=this.request.headers,f=[];return E.util.arrayEach(this.headersToSign(),function(d){f.push(d.toLowerCase().trim()+":"+String(m[d]).trim())}),f.sort().join(`
`)+`
`},headersToSign:function(){var m=[];return E.util.each(this.request.headers,function(a){(a==="Host"||a==="Content-Encoding"||a.match(/^X-Amz/i))&&m.push(a)}),m},signature:function(m){return E.util.crypto.hmac(m.secretAccessKey,this.stringToSign(),"base64")},stringToSign:function(){var m=[];return m.push(this.request.method),m.push("/"),m.push(""),m.push(this.canonicalHeaders()),m.push(this.request.body),E.util.crypto.sha256(m.join(`
`))}}),L.exports=E.Signers.V3},{"../core":19}],70:[function(N,L,u){var E=N("../core"),C=E.util.inherit;N("./v3"),E.Signers.V3Https=C(E.Signers.V3,{authorization:function(m){return"AWS3-HTTPS AWSAccessKeyId="+m.accessKeyId+",Algorithm=HmacSHA256,Signature="+this.signature(m)},stringToSign:function(){return this.request.headers["X-Amz-Date"]}}),L.exports=E.Signers.V3Https},{"../core":19,"./v3":69}],71:[function(N,L,u){var E=N("../core"),C=N("./v4_credentials"),v=E.util.inherit,m="presigned-expires";E.Signers.V4=v(E.Signers.RequestSigner,{constructor:function(a,d,p){E.Signers.RequestSigner.call(this,a),this.serviceName=d,p=p||{},this.signatureCache=typeof p.signatureCache=="boolean"?p.signatureCache:!0,this.operation=p.operation,this.signatureVersion=p.signatureVersion},algorithm:"AWS4-HMAC-SHA256",addAuthorization:function(a,d){var p=E.util.date.iso8601(d).replace(/[:\-]|\.\d{3}/g,"");this.isPresigned()?this.updateForPresigned(a,p):this.addHeaders(a,p),this.request.headers.Authorization=this.authorization(a,p)},addHeaders:function(a,d){this.request.headers["X-Amz-Date"]=d,a.sessionToken&&(this.request.headers["x-amz-security-token"]=a.sessionToken)},updateForPresigned:function(a,d){var p=this.credentialString(d),c={"X-Amz-Date":d,"X-Amz-Algorithm":this.algorithm,"X-Amz-Credential":a.accessKeyId+"/"+p,"X-Amz-Expires":this.request.headers[m],"X-Amz-SignedHeaders":this.signedHeaders()};a.sessionToken&&(c["X-Amz-Security-Token"]=a.sessionToken),this.request.headers["Content-Type"]&&(c["Content-Type"]=this.request.headers["Content-Type"]),this.request.headers["Content-MD5"]&&(c["Content-MD5"]=this.request.headers["Content-MD5"]),this.request.headers["Cache-Control"]&&(c["Cache-Control"]=this.request.headers["Cache-Control"]),E.util.each.call(this,this.request.headers,function(s,i){if(s!==m&&this.isSignableHeader(s)){var T=s.toLowerCase();T.indexOf("x-amz-meta-")===0?c[T]=i:T.indexOf("x-amz-")===0&&(c[s]=i)}});var l=this.request.path.indexOf("?")>=0?"&":"?";this.request.path+=l+E.util.queryParamsToString(c)},authorization:function(a,d){var p=[],c=this.credentialString(d);return p.push(this.algorithm+" Credential="+a.accessKeyId+"/"+c),p.push("SignedHeaders="+this.signedHeaders()),p.push("Signature="+this.signature(a,d)),p.join(", ")},signature:function(a,d){var p=C.getSigningKey(a,d.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return E.util.crypto.hmac(p,this.stringToSign(d),"hex")},stringToSign:function(a){var d=[];return d.push("AWS4-HMAC-SHA256"),d.push(a),d.push(this.credentialString(a)),d.push(this.hexEncodedHash(this.canonicalString())),d.join(`
`)},canonicalString:function(){var a=[],d=this.request.pathname();return this.serviceName!=="s3"&&this.signatureVersion!=="s3v4"&&(d=E.util.uriEscapePath(d)),a.push(this.request.method),a.push(d),a.push(this.request.search()),a.push(this.canonicalHeaders()+`
`),a.push(this.signedHeaders()),a.push(this.hexEncodedBodyHash()),a.join(`
`)},canonicalHeaders:function(){var a=[];E.util.each.call(this,this.request.headers,function(p,c){a.push([p,c])}),a.sort(function(p,c){return p[0].toLowerCase()<c[0].toLowerCase()?-1:1});var d=[];return E.util.arrayEach.call(this,a,function(p){var c=p[0].toLowerCase();if(this.isSignableHeader(c)){var l=p[1];if(typeof l>"u"||l===null||typeof l.toString!="function")throw E.util.error(new Error("Header "+c+" contains invalid value"),{code:"InvalidHeader"});d.push(c+":"+this.canonicalHeaderValues(l.toString()))}}),d.join(`
`)},canonicalHeaderValues:function(a){return a.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")},signedHeaders:function(){var a=[];return E.util.each.call(this,this.request.headers,function(d){d=d.toLowerCase(),this.isSignableHeader(d)&&a.push(d)}),a.sort().join(";")},credentialString:function(a){return C.createScope(a.substr(0,8),this.request.region,this.serviceName)},hexEncodedHash:function(a){return E.util.crypto.sha256(a,"hex")},hexEncodedBodyHash:function(){var a=this.request;return this.isPresigned()&&["s3","s3-object-lambda"].indexOf(this.serviceName)>-1&&!a.body?"UNSIGNED-PAYLOAD":a.headers["X-Amz-Content-Sha256"]?a.headers["X-Amz-Content-Sha256"]:this.hexEncodedHash(this.request.body||"")},unsignableHeaders:["authorization","content-type","content-length","user-agent",m,"expect","x-amzn-trace-id"],isSignableHeader:function(a){return a.toLowerCase().indexOf("x-amz-")===0?!0:this.unsignableHeaders.indexOf(a)<0},isPresigned:function(){return!!this.request.headers[m]}}),L.exports=E.Signers.V4},{"../core":19,"./v4_credentials":72}],72:[function(N,L,u){var E=N("../core"),C={},v=[],m=50,f="aws4_request";L.exports={createScope:function(d,p,c){return[d.substr(0,8),p,c,f].join("/")},getSigningKey:function(d,p,c,l,s){var i=E.util.crypto.hmac(d.secretAccessKey,d.accessKeyId,"base64"),T=[i,p,c,l].join("_");if(s=s!==!1,s&&T in C)return C[T];var S=E.util.crypto.hmac("AWS4"+d.secretAccessKey,p,"buffer"),y=E.util.crypto.hmac(S,c,"buffer"),h=E.util.crypto.hmac(y,l,"buffer"),b=E.util.crypto.hmac(h,f,"buffer");return s&&(C[T]=b,v.push(T),v.length>m&&delete C[v.shift()]),b},emptyCache:function(){C={},v=[]}}},{"../core":19}],73:[function(N,L,u){function E(C,v){this.currentState=v||null,this.states=C||{}}E.prototype.runTo=function(v,m,f,a){typeof v=="function"&&(a=f,f=m,m=v,v=null);var d=this,p=d.states[d.currentState];p.fn.call(f||d,a,function(c){if(c)if(p.fail)d.currentState=p.fail;else return m?m.call(f,c):null;else if(p.accept)d.currentState=p.accept;else return m?m.call(f):null;if(d.currentState===v)return m?m.call(f,c):null;d.runTo(v,m,f,c)})},E.prototype.addState=function(v,m,f,a){return typeof m=="function"?(a=m,m=null,f=null):typeof f=="function"&&(a=f,f=null),this.currentState||(this.currentState=v),this.states[v]={accept:m,fail:f,fn:a},this},L.exports=E},{}],74:[function(N,L,u){(function(E,C){(function(){var v,m={environment:"nodejs",engine:function(){if(m.isBrowser()&&typeof navigator<"u")return navigator.userAgent;var a=E.platform+"/"+E.version;return E.env.AWS_EXECUTION_ENV&&(a+=" exec-env/"+E.env.AWS_EXECUTION_ENV),a},userAgent:function(){var a=m.environment,d="aws-sdk-"+a+"/"+N("./core").VERSION;return a==="nodejs"&&(d+=" "+m.engine()),d},uriEscape:function(a){var d=encodeURIComponent(a);return d=d.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),d=d.replace(/[*]/g,function(p){return"%"+p.charCodeAt(0).toString(16).toUpperCase()}),d},uriEscapePath:function(a){var d=[];return m.arrayEach(a.split("/"),function(p){d.push(m.uriEscape(p))}),d.join("/")},urlParse:function(a){return m.url.parse(a)},urlFormat:function(a){return m.url.format(a)},queryStringParse:function(a){return m.querystring.parse(a)},queryParamsToString:function(a){var d=[],p=m.uriEscape,c=Object.keys(a).sort();return m.arrayEach(c,function(l){var s=a[l],i=p(l),T=i+"=";if(Array.isArray(s)){var S=[];m.arrayEach(s,function(y){S.push(p(y))}),T=i+"="+S.sort().join("&"+i+"=")}else s!=null&&(T=i+"="+p(s));d.push(T)}),d.join("&")},readFileSync:function(a){return m.isBrowser()?null:N("fs").readFileSync(a,"utf-8")},base64:{encode:function(a){if(typeof a=="number")throw m.error(new Error("Cannot base64 encode number "+a));if(a===null||typeof a>"u")return a;var d=m.buffer.toBuffer(a);return d.toString("base64")},decode:function(a){if(typeof a=="number")throw m.error(new Error("Cannot base64 decode number "+a));return a===null||typeof a>"u"?a:m.buffer.toBuffer(a,"base64")}},buffer:{toBuffer:function(a,d){return typeof m.Buffer.from=="function"&&m.Buffer.from!==Uint8Array.from?m.Buffer.from(a,d):new m.Buffer(a,d)},alloc:function(a,d,p){if(typeof a!="number")throw new Error("size passed to alloc must be a number.");if(typeof m.Buffer.alloc=="function")return m.Buffer.alloc(a,d,p);var c=new m.Buffer(a);return d!==void 0&&typeof c.fill=="function"&&c.fill(d,void 0,void 0,p),c},toStream:function(a){m.Buffer.isBuffer(a)||(a=m.buffer.toBuffer(a));var d=new m.stream.Readable,p=0;return d._read=function(c){if(p>=a.length)return d.push(null);var l=p+c;l>a.length&&(l=a.length),d.push(a.slice(p,l)),p=l},d},concat:function(a){var d=0,p=0,c=null,l;for(l=0;l<a.length;l++)d+=a[l].length;for(c=m.buffer.alloc(d),l=0;l<a.length;l++)a[l].copy(c,p),p+=a[l].length;return c}},string:{byteLength:function(a){if(a==null)return 0;if(typeof a=="string"&&(a=m.buffer.toBuffer(a)),typeof a.byteLength=="number")return a.byteLength;if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.path=="string")return N("fs").lstatSync(a.path).size;throw m.error(new Error("Cannot determine length of "+a),{object:a})},upperFirst:function(a){return a[0].toUpperCase()+a.substr(1)},lowerFirst:function(a){return a[0].toLowerCase()+a.substr(1)}},ini:{parse:function(a){var d,p={};return m.arrayEach(a.split(/\r?\n/),function(c){c=c.split(/(^|\s)[;#]/)[0].trim();var l=c[0]==="["&&c[c.length-1]==="]";if(l){if(d=c.substring(1,c.length-1),d==="__proto__"||d.split(/\s/)[1]==="__proto__")throw m.error(new Error("Cannot load profile name '"+d+"' from shared ini file."))}else if(d){var s=c.indexOf("="),i=0,T=c.length-1,S=s!==-1&&s!==i&&s!==T;if(S){var y=c.substring(0,s).trim(),h=c.substring(s+1).trim();p[d]=p[d]||{},p[d][y]=h}}}),p}},fn:{noop:function(){},callback:function(a){if(a)throw a},makeAsync:function(a,d){return d&&d<=a.length?a:function(){var p=Array.prototype.slice.call(arguments,0),c=p.pop(),l=a.apply(null,p);c(l)}}},date:{getDate:function(){return v||(v=N("./core")),v.config.systemClockOffset?new Date(new Date().getTime()+v.config.systemClockOffset):new Date},iso8601:function(a){return a===void 0&&(a=m.date.getDate()),a.toISOString().replace(/\.\d{3}Z$/,"Z")},rfc822:function(a){return a===void 0&&(a=m.date.getDate()),a.toUTCString()},unixTimestamp:function(a){return a===void 0&&(a=m.date.getDate()),a.getTime()/1e3},from:function(a){return typeof a=="number"?new Date(a*1e3):new Date(a)},format:function(a,d){return d||(d="iso8601"),m.date[d](m.date.from(a))},parseTimestamp:function(a){if(typeof a=="number")return new Date(a*1e3);if(a.match(/^\d+$/))return new Date(a*1e3);if(a.match(/^\d{4}/))return new Date(a);if(a.match(/^\w{3},/))return new Date(a);throw m.error(new Error("unhandled timestamp format: "+a),{code:"TimestampParserError"})}},crypto:{crc32Table:[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],crc32:function(a){var d=m.crypto.crc32Table,p=-1;typeof a=="string"&&(a=m.buffer.toBuffer(a));for(var c=0;c<a.length;c++){var l=a.readUInt8(c);p=p>>>8^d[(p^l)&255]}return(p^-1)>>>0},hmac:function(a,d,p,c){return p||(p="binary"),p==="buffer"&&(p=void 0),c||(c="sha256"),typeof d=="string"&&(d=m.buffer.toBuffer(d)),m.crypto.lib.createHmac(c,a).update(d).digest(p)},md5:function(a,d,p){return m.crypto.hash("md5",a,d,p)},sha256:function(a,d,p){return m.crypto.hash("sha256",a,d,p)},hash:function(a,d,p,c){var l=m.crypto.createHash(a);p||(p="binary"),p==="buffer"&&(p=void 0),typeof d=="string"&&(d=m.buffer.toBuffer(d));var s=m.arraySliceFn(d),i=m.Buffer.isBuffer(d);if(m.isBrowser()&&typeof ArrayBuffer<"u"&&d&&d.buffer instanceof ArrayBuffer&&(i=!0),c&&he(d)==="object"&&typeof d.on=="function"&&!i)d.on("data",function(b){l.update(b)}),d.on("error",function(b){c(b)}),d.on("end",function(){c(null,l.digest(p))});else if(c&&s&&!i&&typeof FileReader<"u"){var T=0,S=1024*512,y=new FileReader;y.onerror=function(){c(new Error("Failed to read data."))},y.onload=function(){var b=new m.Buffer(new Uint8Array(y.result));l.update(b),T+=b.length,y._continueReading()},y._continueReading=function(){if(T>=d.size){c(null,l.digest(p));return}var b=T+S;b>d.size&&(b=d.size),y.readAsArrayBuffer(s.call(d,T,b))},y._continueReading()}else{m.isBrowser()&&he(d)==="object"&&!i&&(d=new m.Buffer(new Uint8Array(d)));var h=l.update(d).digest(p);return c&&c(null,h),h}},toHex:function(a){for(var d=[],p=0;p<a.length;p++)d.push(("0"+a.charCodeAt(p).toString(16)).substr(-2,2));return d.join("")},createHash:function(a){return m.crypto.lib.createHash(a)}},abort:{},each:function(a,d){for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var c=d.call(this,p,a[p]);if(c===m.abort)break}},arrayEach:function(a,d){for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var c=d.call(this,a[p],parseInt(p,10));if(c===m.abort)break}},update:function(a,d){return m.each(d,function(c,l){a[c]=l}),a},merge:function(a,d){return m.update(m.copy(a),d)},copy:function(a){if(a==null)return a;var d={};for(var p in a)d[p]=a[p];return d},isEmpty:function(a){for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d))return!1;return!0},arraySliceFn:function(a){var d=a.slice||a.webkitSlice||a.mozSlice;return typeof d=="function"?d:null},isType:function(a,d){return typeof d=="function"&&(d=m.typeName(d)),Object.prototype.toString.call(a)==="[object "+d+"]"},typeName:function(a){if(Object.prototype.hasOwnProperty.call(a,"name"))return a.name;var d=a.toString(),p=d.match(/^\s*function (.+)\(/);return p?p[1]:d},error:function(a,d){var p=null;typeof a.message=="string"&&a.message!==""&&(typeof d=="string"||d&&d.message)&&(p=m.copy(a),p.message=a.message),a.message=a.message||null,typeof d=="string"?a.message=d:he(d)==="object"&&d!==null&&(m.update(a,d),d.message&&(a.message=d.message),(d.code||d.name)&&(a.code=d.code||d.name),d.stack&&(a.stack=d.stack)),typeof Object.defineProperty=="function"&&(Object.defineProperty(a,"name",{writable:!0,enumerable:!1}),Object.defineProperty(a,"message",{enumerable:!0})),a.name=String(d&&d.name||a.name||a.code||"Error"),a.time=new Date,p&&(a.originalError=p);for(var c in d||{})if(c[0]==="["&&c[c.length-1]==="]"){if(c=c.slice(1,-1),c==="code"||c==="message")continue;a["["+c+"]"]="See error."+c+" for details.",Object.defineProperty(a,c,{value:a[c]||d&&d[c]||p&&p[c],enumerable:!1,writable:!0})}return a},inherit:function(a,d){var p=null;if(d===void 0)d=a,a=Object,p={};else{var c=function(){};c.prototype=a.prototype,p=new c}return d.constructor===Object&&(d.constructor=function(){if(a!==Object)return a.apply(this,arguments)}),d.constructor.prototype=p,m.update(d.constructor.prototype,d),d.constructor.__super__=a,d.constructor},mixin:function(){for(var a=arguments[0],d=1;d<arguments.length;d++)for(var p in arguments[d].prototype){var c=arguments[d].prototype[p];p!=="constructor"&&(a.prototype[p]=c)}return a},hideProperties:function(a,d){typeof Object.defineProperty=="function"&&m.arrayEach(d,function(p){Object.defineProperty(a,p,{enumerable:!1,writable:!0,configurable:!0})})},property:function(a,d,p,c,l){var s={configurable:!0,enumerable:c!==void 0?c:!0};typeof p=="function"&&!l?s.get=p:(s.value=p,s.writable=!0),Object.defineProperty(a,d,s)},memoizedProperty:function(a,d,p,c){var l=null;m.property(a,d,function(){return l===null&&(l=p()),l},c)},hoistPayloadMember:function(a){var d=a.request,p=d.operation,c=d.service.api.operations[p],l=c.output;if(l.payload&&!c.hasEventOutput){var s=l.members[l.payload],i=a.data[l.payload];s.type==="structure"&&m.each(i,function(T,S){m.property(a.data,T,S,!1)})}},computeSha256:function(a,d){if(m.isNode()){var p=m.stream.Stream,c=N("fs");if(typeof p=="function"&&a instanceof p)if(typeof a.path=="string"){var l={};typeof a.start=="number"&&(l.start=a.start),typeof a.end=="number"&&(l.end=a.end),a=c.createReadStream(a.path,l)}else return d(new Error("Non-file stream objects are not supported with SigV4"))}m.crypto.sha256(a,"hex",function(s,i){s?d(s):d(null,i)})},isClockSkewed:function(a){if(a)return m.property(v.config,"isClockSkewed",Math.abs(new Date().getTime()-a)>=3e5,!1),v.config.isClockSkewed},applyClockOffset:function(a){a&&(v.config.systemClockOffset=a-new Date().getTime())},extractRequestId:function(a){var d=a.httpResponse.headers["x-amz-request-id"]||a.httpResponse.headers["x-amzn-requestid"];!d&&a.data&&a.data.ResponseMetadata&&(d=a.data.ResponseMetadata.RequestId),d&&(a.requestId=d),a.error&&(a.error.requestId=d)},addPromises:function(a,d){var p=!1;d===void 0&&v&&v.config&&(d=v.config.getPromisesDependency()),d===void 0&&typeof Promise<"u"&&(d=Promise),typeof d!="function"&&(p=!0),Array.isArray(a)||(a=[a]);for(var c=0;c<a.length;c++){var l=a[c];p?l.deletePromisesFromClass&&l.deletePromisesFromClass():l.addPromisesToClass&&l.addPromisesToClass(d)}},promisifyMethod:function(a,d){return function(){var c=this,l=Array.prototype.slice.call(arguments);return new d(function(s,i){l.push(function(T,S){T?i(T):s(S)}),c[a].apply(c,l)})}},isDualstackAvailable:function(a){if(!a)return!1;var d=N("../apis/metadata.json");return typeof a!="string"&&(a=a.serviceIdentifier),typeof a!="string"||!d.hasOwnProperty(a)?!1:!!d[a].dualstackAvailable},calculateRetryDelay:function(a,d,p){d||(d={});var c=d.customBackoff||null;if(typeof c=="function")return c(a,p);var l=typeof d.base=="number"?d.base:100,s=Math.random()*(Math.pow(2,a)*l);return s},handleRequestWithRetries:function(a,d,p){d||(d={});var c=v.HttpClient.getInstance(),l=d.httpOptions||{},s=0,i=function(y){var h=d.maxRetries||0;if(y&&y.code==="TimeoutError"&&(y.retryable=!0),y&&y.retryable&&s<h){var b=m.calculateRetryDelay(s,d.retryDelayOptions,y);if(b>=0){s++,setTimeout(T,b+(y.retryAfter||0));return}}p(y)},T=function(){var y="";c.handleRequest(a,l,function(h){h.on("data",function(b){y+=b.toString()}),h.on("end",function(){var b=h.statusCode;if(b<300)p(null,y);else{var A=parseInt(h.headers["retry-after"],10)*1e3||0,r=m.error(new Error,{statusCode:b,retryable:b>=500||b===429});A&&r.retryable&&(r.retryAfter=A),i(r)}})},i)};v.util.defer(T)},uuid:{v4:function(){return N("uuid").v4()}},convertPayloadToString:function(a){var d=a.request,p=d.operation,c=d.service.api.operations[p].output||{};c.payload&&a.data[c.payload]&&(a.data[c.payload]=a.data[c.payload].toString())},defer:function(a){he(E)==="object"&&typeof E.nextTick=="function"?E.nextTick(a):typeof C=="function"?C(a):setTimeout(a,0)},getRequestPayloadShape:function(a){var d=a.service.api.operations;if(d){var p=(d||{})[a.operation];if(!(!p||!p.input||!p.input.payload))return p.input.members[p.input.payload]}},getProfilesFromSharedConfig:function(a,d){var p={},c={};if(E.env[m.configOptInEnv])var c=a.loadFrom({isConfig:!0,filename:E.env[m.sharedConfigFileEnv]});var l={};try{var l=a.loadFrom({filename:d||E.env[m.configOptInEnv]&&E.env[m.sharedCredentialsFileEnv]})}catch(S){if(!E.env[m.configOptInEnv])throw S}for(var s=0,i=Object.keys(c);s<i.length;s++)p[i[s]]=T(p[i[s]]||{},c[i[s]]);for(var s=0,i=Object.keys(l);s<i.length;s++)p[i[s]]=T(p[i[s]]||{},l[i[s]]);return p;function T(S,y){for(var h=0,b=Object.keys(y);h<b.length;h++)S[b[h]]=y[b[h]];return S}},ARN:{validate:function(a){return a&&a.indexOf("arn:")===0&&a.split(":").length>=6},parse:function(a){var d=a.split(":");return{partition:d[1],service:d[2],region:d[3],accountId:d[4],resource:d.slice(5).join(":")}},build:function(a){if(a.service===void 0||a.region===void 0||a.accountId===void 0||a.resource===void 0)throw m.error(new Error("Input ARN object is invalid"));return"arn:"+(a.partition||"aws")+":"+a.service+":"+a.region+":"+a.accountId+":"+a.resource}},defaultProfile:"default",configOptInEnv:"AWS_SDK_LOAD_CONFIG",sharedCredentialsFileEnv:"AWS_SHARED_CREDENTIALS_FILE",sharedConfigFileEnv:"AWS_CONFIG_FILE",imdsDisabledEnv:"AWS_EC2_METADATA_DISABLED"};L.exports=m}).call(this)}).call(this,N("_process"),N("timers").setImmediate)},{"../apis/metadata.json":4,"./core":19,_process:91,fs:82,timers:99,uuid:102}],75:[function(N,L,u){var E=N("../util"),C=N("../model/shape");function v(){}v.prototype.parse=function(s,i){if(s.replace(/^\s+/,"")==="")return{};var T,S;try{if(window.DOMParser){try{var y=new DOMParser;T=y.parseFromString(s,"text/xml")}catch(w){throw E.error(new Error("Parse error in document"),{originalError:w,code:"XMLParserError",retryable:!0})}if(T.documentElement===null)throw E.error(new Error("Cannot parse empty document."),{code:"XMLParserError",retryable:!0});var h=T.getElementsByTagName("parsererror")[0];if(h&&(h.parentNode===T||h.parentNode.nodeName==="body"||h.parentNode.parentNode===T||h.parentNode.parentNode.nodeName==="body")){var b=h.getElementsByTagName("div")[0]||h;throw E.error(new Error(b.textContent||"Parser error in document"),{code:"XMLParserError",retryable:!0})}}else if(window.ActiveXObject){if(T=new window.ActiveXObject("Microsoft.XMLDOM"),T.async=!1,!T.loadXML(s))throw E.error(new Error("Parse error in document"),{code:"XMLParserError",retryable:!0})}else throw new Error("Cannot load XML parser")}catch(w){S=w}if(T&&T.documentElement&&!S){var A=f(T.documentElement,i),r=m(T.documentElement,"ResponseMetadata");return r&&(A.ResponseMetadata=f(r,{})),A}else{if(S)throw E.error(S||new Error,{code:"XMLParserError",retryable:!0});return{}}};function m(s,i){for(var T=s.getElementsByTagName(i),S=0,y=T.length;S<y;S++)if(T[S].parentNode===s)return T[S]}function f(s,i){switch(i||(i={}),i.type){case"structure":return a(s,i);case"map":return d(s,i);case"list":return p(s,i);case void 0:case null:return l(s);default:return c(s,i)}}function a(s,i){var T={};return s===null||E.each(i.members,function(S,y){if(y.isXmlAttribute){if(Object.prototype.hasOwnProperty.call(s.attributes,y.name)){var h=s.attributes[y.name].value;T[S]=f({textContent:h},y)}}else{var b=y.flattened?s:m(s,y.name);b?T[S]=f(b,y):!y.flattened&&y.type==="list"&&!i.api.xmlNoDefaultLists&&(T[S]=y.defaultValue)}}),T}function d(s,i){for(var T={},S=i.key.name||"key",y=i.value.name||"value",h=i.flattened?i.name:"entry",b=s.firstElementChild;b;){if(b.nodeName===h){var A=m(b,S).textContent,r=m(b,y);T[A]=f(r,i.value)}b=b.nextElementSibling}return T}function p(s,i){for(var T=[],S=i.flattened?i.name:i.member.name||"member",y=s.firstElementChild;y;)y.nodeName===S&&T.push(f(y,i.member)),y=y.nextElementSibling;return T}function c(s,i){if(s.getAttribute){var T=s.getAttribute("encoding");T==="base64"&&(i=new C.create({type:T}))}var S=s.textContent;return S===""&&(S=null),typeof i.toType=="function"?i.toType(S):S}function l(s){if(s==null)return"";if(!s.firstElementChild)return s.parentNode.parentNode===null?{}:s.childNodes.length===0?"":s.textContent;for(var i={members:{}},T=s.firstElementChild;T;){var S=T.nodeName;Object.prototype.hasOwnProperty.call(i.members,S)?i.members[S].type="list":i.members[S]={name:S},T=T.nextElementSibling}return a(s,i)}L.exports=v},{"../model/shape":45,"../util":74}],76:[function(N,L,u){var E=N("../util"),C=N("./xml-node").XmlNode,v=N("./xml-text").XmlText;function m(){}m.prototype.toXML=function(s,i,T,S){var y=new C(T);return l(y,i,!0),f(y,s,i),y.children.length>0||S?y.toString():""};function f(s,i,T){switch(T.type){case"structure":return a(s,i,T);case"map":return d(s,i,T);case"list":return p(s,i,T);default:return c(s,i,T)}}function a(s,i,T){E.arrayEach(T.memberNames,function(S){var y=T.members[S];if(y.location==="body"){var h=i[S],b=y.name;if(h!=null)if(y.isXmlAttribute)s.addAttribute(b,h);else if(y.flattened)f(s,h,y);else{var A=new C(b);s.addChildNode(A),l(A,y),f(A,h,y)}}})}function d(s,i,T){var S=T.key.name||"key",y=T.value.name||"value";E.each(i,function(h,b){var A=new C(T.flattened?T.name:"entry");s.addChildNode(A);var r=new C(S),w=new C(y);A.addChildNode(r),A.addChildNode(w),f(r,h,T.key),f(w,b,T.value)})}function p(s,i,T){T.flattened?E.arrayEach(i,function(S){var y=T.member.name||T.name,h=new C(y);s.addChildNode(h),f(h,S,T.member)}):E.arrayEach(i,function(S){var y=T.member.name||"member",h=new C(y);s.addChildNode(h),f(h,S,T.member)})}function c(s,i,T){s.addChildNode(new v(T.toWireFormat(i)))}function l(s,i,T){var S,y="xmlns";i.xmlNamespaceUri?(S=i.xmlNamespaceUri,i.xmlNamespacePrefix&&(y+=":"+i.xmlNamespacePrefix)):T&&i.api.xmlNamespaceUri&&(S=i.api.xmlNamespaceUri),S&&s.addAttribute(y,S)}L.exports=m},{"../util":74,"./xml-node":79,"./xml-text":80}],77:[function(N,L,u){function E(C){return C.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}L.exports={escapeAttribute:E}},{}],78:[function(N,L,u){function E(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}L.exports={escapeElement:E}},{}],79:[function(N,L,u){var E=N("./escape-attribute").escapeAttribute;function C(v,m){m===void 0&&(m=[]),this.name=v,this.children=m,this.attributes={}}C.prototype.addAttribute=function(v,m){return this.attributes[v]=m,this},C.prototype.addChildNode=function(v){return this.children.push(v),this},C.prototype.removeAttribute=function(v){return delete this.attributes[v],this},C.prototype.toString=function(){for(var v=!!this.children.length,m="<"+this.name,f=this.attributes,a=0,d=Object.keys(f);a<d.length;a++){var p=d[a],c=f[p];typeof c<"u"&&c!==null&&(m+=" "+p+'="'+E(""+c)+'"')}return m+=v?">"+this.children.map(function(l){return l.toString()}).join("")+"</"+this.name+">":"/>"},L.exports={XmlNode:C}},{"./escape-attribute":77}],80:[function(N,L,u){var E=N("./escape-element").escapeElement;function C(v){this.value=v}C.prototype.toString=function(){return E(""+this.value)},L.exports={XmlText:C}},{"./escape-element":78}],81:[function(N,L,u){u.byteLength=p,u.toByteArray=l,u.fromByteArray=T;for(var E=[],C=[],v=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,a=m.length;f<a;++f)E[f]=m[f],C[m.charCodeAt(f)]=f;C[45]=62,C[95]=63;function d(S){var y=S.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=S.indexOf("=");h===-1&&(h=y);var b=h===y?0:4-h%4;return[h,b]}function p(S){var y=d(S),h=y[0],b=y[1];return(h+b)*3/4-b}function c(S,y,h){return(y+h)*3/4-h}function l(S){var y,h=d(S),b=h[0],A=h[1],r=new v(c(S,b,A)),w=0,O=A>0?b-4:b,R;for(R=0;R<O;R+=4)y=C[S.charCodeAt(R)]<<18|C[S.charCodeAt(R+1)]<<12|C[S.charCodeAt(R+2)]<<6|C[S.charCodeAt(R+3)],r[w++]=y>>16&255,r[w++]=y>>8&255,r[w++]=y&255;return A===2&&(y=C[S.charCodeAt(R)]<<2|C[S.charCodeAt(R+1)]>>4,r[w++]=y&255),A===1&&(y=C[S.charCodeAt(R)]<<10|C[S.charCodeAt(R+1)]<<4|C[S.charCodeAt(R+2)]>>2,r[w++]=y>>8&255,r[w++]=y&255),r}function s(S){return E[S>>18&63]+E[S>>12&63]+E[S>>6&63]+E[S&63]}function i(S,y,h){for(var b,A=[],r=y;r<h;r+=3)b=(S[r]<<16&16711680)+(S[r+1]<<8&65280)+(S[r+2]&255),A.push(s(b));return A.join("")}function T(S){for(var y,h=S.length,b=h%3,A=[],r=16383,w=0,O=h-b;w<O;w+=r)A.push(i(S,w,w+r>O?O:w+r));return b===1?(y=S[h-1],A.push(E[y>>2]+E[y<<4&63]+"==")):b===2&&(y=(S[h-2]<<8)+S[h-1],A.push(E[y>>10]+E[y>>4&63]+E[y<<2&63]+"=")),A.join("")}},{}],82:[function(N,L,u){},{}],83:[function(N,L,u){typeof Object.create=="function"?L.exports=function(C,v){C.super_=v,C.prototype=Object.create(v.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}:L.exports=function(C,v){C.super_=v;var m=function(){};m.prototype=v.prototype,C.prototype=new m,C.prototype.constructor=C}},{}],84:[function(N,L,u){L.exports=function(C){return C&&he(C)==="object"&&typeof C.copy=="function"&&typeof C.fill=="function"&&typeof C.readUInt8=="function"}},{}],85:[function(N,L,u){(function(E,C){(function(){var v=/%[sdj%]/g;u.format=function(q){if(!O(q)){for(var X=[],se=0;se<arguments.length;se++)X.push(a(arguments[se]));return X.join(" ")}for(var se=1,le=arguments,ve=le.length,_e=String(q).replace(v,function(He){if(He==="%%")return"%";if(se>=ve)return He;switch(He){case"%s":return String(le[se++]);case"%d":return Number(le[se++]);case"%j":try{return JSON.stringify(le[se++])}catch{return"[Circular]"}default:return He}}),Ie=le[se];se<ve;Ie=le[++se])A(Ie)||!oe(Ie)?_e+=" "+Ie:_e+=" "+a(Ie);return _e},u.deprecate=function(q,X){if(z(C.process))return function(){return u.deprecate(q,X).apply(this,arguments)};if(E.noDeprecation===!0)return q;var se=!1;function le(){if(!se){if(E.throwDeprecation)throw new Error(X);E.traceDeprecation?console.trace(X):console.error(X),se=!0}return q.apply(this,arguments)}return le};var m={},f;u.debuglog=function(q){if(z(f)&&(f=E.env.NODE_DEBUG||""),q=q.toUpperCase(),!m[q])if(new RegExp("\\b"+q+"\\b","i").test(f)){var X=E.pid;m[q]=function(){var se=u.format.apply(u,arguments);console.error("%s %d: %s",q,X,se)}}else m[q]=function(){};return m[q]};function a(q,X){var se={seen:[],stylize:p};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),b(X)?se.showHidden=X:X&&u._extend(se,X),z(se.showHidden)&&(se.showHidden=!1),z(se.depth)&&(se.depth=2),z(se.colors)&&(se.colors=!1),z(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=d),l(se,q,se.depth)}u.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function d(q,X){var se=a.styles[X];return se?"\x1B["+a.colors[se][0]+"m"+q+"\x1B["+a.colors[se][1]+"m":q}function p(q,X){return q}function c(q){var X={};return q.forEach(function(se,le){X[se]=!0}),X}function l(q,X,se){if(q.customInspect&&X&&W(X.inspect)&&X.inspect!==u.inspect&&!(X.constructor&&X.constructor.prototype===X)){var le=X.inspect(se,q);return O(le)||(le=l(q,le,se)),le}var ve=s(q,X);if(ve)return ve;var _e=Object.keys(X),Ie=c(_e);if(q.showHidden&&(_e=Object.getOwnPropertyNames(X)),I(X)&&(_e.indexOf("message")>=0||_e.indexOf("description")>=0))return i(X);if(_e.length===0){if(W(X)){var He=X.name?": "+X.name:"";return q.stylize("[Function"+He+"]","special")}if(ee(X))return q.stylize(RegExp.prototype.toString.call(X),"regexp");if(Q(X))return q.stylize(Date.prototype.toString.call(X),"date");if(I(X))return i(X)}var be="",Ae=!1,we=["{","}"];if(h(X)&&(Ae=!0,we=["[","]"]),W(X)){var Be=X.name?": "+X.name:"";be=" [Function"+Be+"]"}if(ee(X)&&(be=" "+RegExp.prototype.toString.call(X)),Q(X)&&(be=" "+Date.prototype.toUTCString.call(X)),I(X)&&(be=" "+i(X)),_e.length===0&&(!Ae||X.length==0))return we[0]+be+we[1];if(se<0)return ee(X)?q.stylize(RegExp.prototype.toString.call(X),"regexp"):q.stylize("[Object]","special");q.seen.push(X);var Ve;return Ae?Ve=T(q,X,se,Ie,_e):Ve=_e.map(function(Ge){return S(q,X,se,Ie,Ge,Ae)}),q.seen.pop(),y(Ve,be,we)}function s(q,X){if(z(X))return q.stylize("undefined","undefined");if(O(X)){var se="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(se,"string")}if(w(X))return q.stylize(""+X,"number");if(b(X))return q.stylize(""+X,"boolean");if(A(X))return q.stylize("null","null")}function i(q){return"["+Error.prototype.toString.call(q)+"]"}function T(q,X,se,le,ve){for(var _e=[],Ie=0,He=X.length;Ie<He;++Ie)K(X,String(Ie))?_e.push(S(q,X,se,le,String(Ie),!0)):_e.push("");return ve.forEach(function(be){be.match(/^\d+$/)||_e.push(S(q,X,se,le,be,!0))}),_e}function S(q,X,se,le,ve,_e){var Ie,He,be;if(be=Object.getOwnPropertyDescriptor(X,ve)||{value:X[ve]},be.get?be.set?He=q.stylize("[Getter/Setter]","special"):He=q.stylize("[Getter]","special"):be.set&&(He=q.stylize("[Setter]","special")),K(le,ve)||(Ie="["+ve+"]"),He||(q.seen.indexOf(be.value)<0?(A(se)?He=l(q,be.value,null):He=l(q,be.value,se-1),He.indexOf(`
`)>-1&&(_e?He=He.split(`
`).map(function(Ae){return"  "+Ae}).join(`
`).substr(2):He=`
`+He.split(`
`).map(function(Ae){return"   "+Ae}).join(`
`))):He=q.stylize("[Circular]","special")),z(Ie)){if(_e&&ve.match(/^\d+$/))return He;Ie=JSON.stringify(""+ve),Ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ie=Ie.substr(1,Ie.length-2),Ie=q.stylize(Ie,"name")):(Ie=Ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ie=q.stylize(Ie,"string"))}return Ie+": "+He}function y(q,X,se){var le=q.reduce(function(ve,_e){return _e.indexOf(`
`)>=0,ve+_e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return le>60?se[0]+(X===""?"":X+`
 `)+" "+q.join(`,
  `)+" "+se[1]:se[0]+X+" "+q.join(", ")+" "+se[1]}function h(q){return Array.isArray(q)}u.isArray=h;function b(q){return typeof q=="boolean"}u.isBoolean=b;function A(q){return q===null}u.isNull=A;function r(q){return q==null}u.isNullOrUndefined=r;function w(q){return typeof q=="number"}u.isNumber=w;function O(q){return typeof q=="string"}u.isString=O;function R(q){return he(q)==="symbol"}u.isSymbol=R;function z(q){return q===void 0}u.isUndefined=z;function ee(q){return oe(q)&&V(q)==="[object RegExp]"}u.isRegExp=ee;function oe(q){return he(q)==="object"&&q!==null}u.isObject=oe;function Q(q){return oe(q)&&V(q)==="[object Date]"}u.isDate=Q;function I(q){return oe(q)&&(V(q)==="[object Error]"||q instanceof Error)}u.isError=I;function W(q){return typeof q=="function"}u.isFunction=W;function Z(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||he(q)==="symbol"||typeof q>"u"}u.isPrimitive=Z,u.isBuffer=N("./support/isBuffer");function V(q){return Object.prototype.toString.call(q)}function M(q){return q<10?"0"+q.toString(10):q.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var q=new Date,X=[M(q.getHours()),M(q.getMinutes()),M(q.getSeconds())].join(":");return[q.getDate(),B[q.getMonth()],X].join(" ")}u.log=function(){console.log("%s - %s",Y(),u.format.apply(u,arguments))},u.inherits=N("inherits"),u._extend=function(q,X){if(!X||!oe(X))return q;for(var se=Object.keys(X),le=se.length;le--;)q[se[le]]=X[se[le]];return q};function K(q,X){return Object.prototype.hasOwnProperty.call(q,X)}}).call(this)}).call(this,N("_process"),typeof ue.g<"u"?ue.g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":84,_process:91,inherits:83}],86:[function(N,L,u){(function(E,C){(function(){var v=N("base64-js"),m=N("ieee754"),f=N("isarray");u.Buffer=c,u.SlowBuffer=r,u.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=E.TYPED_ARRAY_SUPPORT!==void 0?E.TYPED_ARRAY_SUPPORT:a(),u.kMaxLength=d();function a(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}function d(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p($,k){if(d()<k)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?($=new Uint8Array(k),$.__proto__=c.prototype):($===null&&($=new c(k)),$.length=k),$}function c($,k,U){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c($,k,U);if(typeof $=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return T(this,$)}return l(this,$,k,U)}c.poolSize=8192,c._augment=function($){return $.__proto__=c.prototype,$};function l($,k,U,ne){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&k instanceof ArrayBuffer?h($,k,U,ne):typeof k=="string"?S($,k,U):b($,k)}c.from=function($,k,U){return l(null,$,k,U)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}));function s($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function i($,k,U,ne){return s(k),k<=0?p($,k):U!==void 0?typeof ne=="string"?p($,k).fill(U,ne):p($,k).fill(U):p($,k)}c.alloc=function($,k,U){return i(null,$,k,U)};function T($,k){if(s(k),$=p($,k<0?0:A(k)|0),!c.TYPED_ARRAY_SUPPORT)for(var U=0;U<k;++U)$[U]=0;return $}c.allocUnsafe=function($){return T(null,$)},c.allocUnsafeSlow=function($){return T(null,$)};function S($,k,U){if((typeof U!="string"||U==="")&&(U="utf8"),!c.isEncoding(U))throw new TypeError('"encoding" must be a valid string encoding');var ne=w(k,U)|0;$=p($,ne);var de=$.write(k,U);return de!==ne&&($=$.slice(0,de)),$}function y($,k){var U=k.length<0?0:A(k.length)|0;$=p($,U);for(var ne=0;ne<U;ne+=1)$[ne]=k[ne]&255;return $}function h($,k,U,ne){if(k.byteLength,U<0||k.byteLength<U)throw new RangeError("'offset' is out of bounds");if(k.byteLength<U+(ne||0))throw new RangeError("'length' is out of bounds");return U===void 0&&ne===void 0?k=new Uint8Array(k):ne===void 0?k=new Uint8Array(k,U):k=new Uint8Array(k,U,ne),c.TYPED_ARRAY_SUPPORT?($=k,$.__proto__=c.prototype):$=y($,k),$}function b($,k){if(c.isBuffer(k)){var U=A(k.length)|0;return $=p($,U),$.length===0||k.copy($,0,0,U),$}if(k){if(typeof ArrayBuffer<"u"&&k.buffer instanceof ArrayBuffer||"length"in k)return typeof k.length!="number"||Me(k.length)?p($,0):y($,k);if(k.type==="Buffer"&&f(k.data))return y($,k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function A($){if($>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return $|0}function r($){return+$!=$&&($=0),c.alloc(+$)}c.isBuffer=function(k){return!!(k!=null&&k._isBuffer)},c.compare=function(k,U){if(!c.isBuffer(k)||!c.isBuffer(U))throw new TypeError("Arguments must be Buffers");if(k===U)return 0;for(var ne=k.length,de=U.length,pe=0,F=Math.min(ne,de);pe<F;++pe)if(k[pe]!==U[pe]){ne=k[pe],de=U[pe];break}return ne<de?-1:de<ne?1:0},c.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(k,U){if(!f(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return c.alloc(0);var ne;if(U===void 0)for(U=0,ne=0;ne<k.length;++ne)U+=k[ne].length;var de=c.allocUnsafe(U),pe=0;for(ne=0;ne<k.length;++ne){var F=k[ne];if(!c.isBuffer(F))throw new TypeError('"list" argument must be an Array of Buffers');F.copy(de,pe),pe+=F.length}return de};function w($,k){if(c.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var U=$.length;if(U===0)return 0;for(var ne=!1;;)switch(k){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":case void 0:return De($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return qe($).length;default:if(ne)return De($).length;k=(""+k).toLowerCase(),ne=!0}}c.byteLength=w;function O($,k,U){var ne=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,k>>>=0,U<=k))return"";for($||($="utf8");;)switch($){case"hex":return se(this,k,U);case"utf8":case"utf-8":return B(this,k,U);case"ascii":return q(this,k,U);case"latin1":case"binary":return X(this,k,U);case"base64":return M(this,k,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,k,U);default:if(ne)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ne=!0}}c.prototype._isBuffer=!0;function R($,k,U){var ne=$[k];$[k]=$[U],$[U]=ne}c.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<k;U+=2)R(this,U,U+1);return this},c.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<k;U+=4)R(this,U,U+3),R(this,U+1,U+2);return this},c.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<k;U+=8)R(this,U,U+7),R(this,U+1,U+6),R(this,U+2,U+5),R(this,U+3,U+4);return this},c.prototype.toString=function(){var k=this.length|0;return k===0?"":arguments.length===0?B(this,0,k):O.apply(this,arguments)},c.prototype.equals=function(k){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:c.compare(this,k)===0},c.prototype.inspect=function(){var k="",U=u.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,U).match(/.{2}/g).join(" "),this.length>U&&(k+=" ... ")),"<Buffer "+k+">"},c.prototype.compare=function(k,U,ne,de,pe){if(!c.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(U===void 0&&(U=0),ne===void 0&&(ne=k?k.length:0),de===void 0&&(de=0),pe===void 0&&(pe=this.length),U<0||ne>k.length||de<0||pe>this.length)throw new RangeError("out of range index");if(de>=pe&&U>=ne)return 0;if(de>=pe)return-1;if(U>=ne)return 1;if(U>>>=0,ne>>>=0,de>>>=0,pe>>>=0,this===k)return 0;for(var F=pe-de,j=ne-U,G=Math.min(F,j),x=this.slice(de,pe),D=k.slice(U,ne),H=0;H<G;++H)if(x[H]!==D[H]){F=x[H],j=D[H];break}return F<j?-1:j<F?1:0};function z($,k,U,ne,de){if($.length===0)return-1;if(typeof U=="string"?(ne=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,isNaN(U)&&(U=de?0:$.length-1),U<0&&(U=$.length+U),U>=$.length){if(de)return-1;U=$.length-1}else if(U<0)if(de)U=0;else return-1;if(typeof k=="string"&&(k=c.from(k,ne)),c.isBuffer(k))return k.length===0?-1:ee($,k,U,ne,de);if(typeof k=="number")return k=k&255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call($,k,U):Uint8Array.prototype.lastIndexOf.call($,k,U):ee($,[k],U,ne,de);throw new TypeError("val must be string, number or Buffer")}function ee($,k,U,ne,de){var pe=1,F=$.length,j=k.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if($.length<2||k.length<2)return-1;pe=2,F/=2,j/=2,U/=2}function G(re,me){return pe===1?re[me]:re.readUInt16BE(me*pe)}var x;if(de){var D=-1;for(x=U;x<F;x++)if(G($,x)===G(k,D===-1?0:x-D)){if(D===-1&&(D=x),x-D+1===j)return D*pe}else D!==-1&&(x-=x-D),D=-1}else for(U+j>F&&(U=F-j),x=U;x>=0;x--){for(var H=!0,te=0;te<j;te++)if(G($,x+te)!==G(k,te)){H=!1;break}if(H)return x}return-1}c.prototype.includes=function(k,U,ne){return this.indexOf(k,U,ne)!==-1},c.prototype.indexOf=function(k,U,ne){return z(this,k,U,ne,!0)},c.prototype.lastIndexOf=function(k,U,ne){return z(this,k,U,ne,!1)};function oe($,k,U,ne){U=Number(U)||0;var de=$.length-U;ne?(ne=Number(ne),ne>de&&(ne=de)):ne=de;var pe=k.length;if(pe%2!==0)throw new TypeError("Invalid hex string");ne>pe/2&&(ne=pe/2);for(var F=0;F<ne;++F){var j=parseInt(k.substr(F*2,2),16);if(isNaN(j))return F;$[U+F]=j}return F}function Q($,k,U,ne){return Ye(De(k,$.length-U),$,U,ne)}function I($,k,U,ne){return Ye(Re(k),$,U,ne)}function W($,k,U,ne){return I($,k,U,ne)}function Z($,k,U,ne){return Ye(qe(k),$,U,ne)}function V($,k,U,ne){return Ye(Ue(k,$.length-U),$,U,ne)}c.prototype.write=function(k,U,ne,de){if(U===void 0)de="utf8",ne=this.length,U=0;else if(ne===void 0&&typeof U=="string")de=U,ne=this.length,U=0;else if(isFinite(U))U=U|0,isFinite(ne)?(ne=ne|0,de===void 0&&(de="utf8")):(de=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var pe=this.length-U;if((ne===void 0||ne>pe)&&(ne=pe),k.length>0&&(ne<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");for(var F=!1;;)switch(de){case"hex":return oe(this,k,U,ne);case"utf8":case"utf-8":return Q(this,k,U,ne);case"ascii":return I(this,k,U,ne);case"latin1":case"binary":return W(this,k,U,ne);case"base64":return Z(this,k,U,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,k,U,ne);default:if(F)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),F=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M($,k,U){return k===0&&U===$.length?v.fromByteArray($):v.fromByteArray($.slice(k,U))}function B($,k,U){U=Math.min($.length,U);for(var ne=[],de=k;de<U;){var pe=$[de],F=null,j=pe>239?4:pe>223?3:pe>191?2:1;if(de+j<=U){var G,x,D,H;switch(j){case 1:pe<128&&(F=pe);break;case 2:G=$[de+1],(G&192)===128&&(H=(pe&31)<<6|G&63,H>127&&(F=H));break;case 3:G=$[de+1],x=$[de+2],(G&192)===128&&(x&192)===128&&(H=(pe&15)<<12|(G&63)<<6|x&63,H>2047&&(H<55296||H>57343)&&(F=H));break;case 4:G=$[de+1],x=$[de+2],D=$[de+3],(G&192)===128&&(x&192)===128&&(D&192)===128&&(H=(pe&15)<<18|(G&63)<<12|(x&63)<<6|D&63,H>65535&&H<1114112&&(F=H))}}F===null?(F=65533,j=1):F>65535&&(F-=65536,ne.push(F>>>10&1023|55296),F=56320|F&1023),ne.push(F),de+=j}return K(ne)}var Y=4096;function K($){var k=$.length;if(k<=Y)return String.fromCharCode.apply(String,$);for(var U="",ne=0;ne<k;)U+=String.fromCharCode.apply(String,$.slice(ne,ne+=Y));return U}function q($,k,U){var ne="";U=Math.min($.length,U);for(var de=k;de<U;++de)ne+=String.fromCharCode($[de]&127);return ne}function X($,k,U){var ne="";U=Math.min($.length,U);for(var de=k;de<U;++de)ne+=String.fromCharCode($[de]);return ne}function se($,k,U){var ne=$.length;(!k||k<0)&&(k=0),(!U||U<0||U>ne)&&(U=ne);for(var de="",pe=k;pe<U;++pe)de+=ot($[pe]);return de}function le($,k,U){for(var ne=$.slice(k,U),de="",pe=0;pe<ne.length;pe+=2)de+=String.fromCharCode(ne[pe]+ne[pe+1]*256);return de}c.prototype.slice=function(k,U){var ne=this.length;k=~~k,U=U===void 0?ne:~~U,k<0?(k+=ne,k<0&&(k=0)):k>ne&&(k=ne),U<0?(U+=ne,U<0&&(U=0)):U>ne&&(U=ne),U<k&&(U=k);var de;if(c.TYPED_ARRAY_SUPPORT)de=this.subarray(k,U),de.__proto__=c.prototype;else{var pe=U-k;de=new c(pe,void 0);for(var F=0;F<pe;++F)de[F]=this[F+k]}return de};function ve($,k,U){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+k>U)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUIntLE=function(k,U,ne){k=k|0,U=U|0,ne||ve(k,U,this.length);for(var de=this[k],pe=1,F=0;++F<U&&(pe*=256);)de+=this[k+F]*pe;return de},c.prototype.readUIntBE=function(k,U,ne){k=k|0,U=U|0,ne||ve(k,U,this.length);for(var de=this[k+--U],pe=1;U>0&&(pe*=256);)de+=this[k+--U]*pe;return de},c.prototype.readUInt8=function(k,U){return U||ve(k,1,this.length),this[k]},c.prototype.readUInt16LE=function(k,U){return U||ve(k,2,this.length),this[k]|this[k+1]<<8},c.prototype.readUInt16BE=function(k,U){return U||ve(k,2,this.length),this[k]<<8|this[k+1]},c.prototype.readUInt32LE=function(k,U){return U||ve(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},c.prototype.readUInt32BE=function(k,U){return U||ve(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},c.prototype.readIntLE=function(k,U,ne){k=k|0,U=U|0,ne||ve(k,U,this.length);for(var de=this[k],pe=1,F=0;++F<U&&(pe*=256);)de+=this[k+F]*pe;return pe*=128,de>=pe&&(de-=Math.pow(2,8*U)),de},c.prototype.readIntBE=function(k,U,ne){k=k|0,U=U|0,ne||ve(k,U,this.length);for(var de=U,pe=1,F=this[k+--de];de>0&&(pe*=256);)F+=this[k+--de]*pe;return pe*=128,F>=pe&&(F-=Math.pow(2,8*U)),F},c.prototype.readInt8=function(k,U){return U||ve(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},c.prototype.readInt16LE=function(k,U){U||ve(k,2,this.length);var ne=this[k]|this[k+1]<<8;return ne&32768?ne|4294901760:ne},c.prototype.readInt16BE=function(k,U){U||ve(k,2,this.length);var ne=this[k+1]|this[k]<<8;return ne&32768?ne|4294901760:ne},c.prototype.readInt32LE=function(k,U){return U||ve(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},c.prototype.readInt32BE=function(k,U){return U||ve(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},c.prototype.readFloatLE=function(k,U){return U||ve(k,4,this.length),m.read(this,k,!0,23,4)},c.prototype.readFloatBE=function(k,U){return U||ve(k,4,this.length),m.read(this,k,!1,23,4)},c.prototype.readDoubleLE=function(k,U){return U||ve(k,8,this.length),m.read(this,k,!0,52,8)},c.prototype.readDoubleBE=function(k,U){return U||ve(k,8,this.length),m.read(this,k,!1,52,8)};function _e($,k,U,ne,de,pe){if(!c.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>de||k<pe)throw new RangeError('"value" argument is out of bounds');if(U+ne>$.length)throw new RangeError("Index out of range")}c.prototype.writeUIntLE=function(k,U,ne,de){if(k=+k,U=U|0,ne=ne|0,!de){var pe=Math.pow(2,8*ne)-1;_e(this,k,U,ne,pe,0)}var F=1,j=0;for(this[U]=k&255;++j<ne&&(F*=256);)this[U+j]=k/F&255;return U+ne},c.prototype.writeUIntBE=function(k,U,ne,de){if(k=+k,U=U|0,ne=ne|0,!de){var pe=Math.pow(2,8*ne)-1;_e(this,k,U,ne,pe,0)}var F=ne-1,j=1;for(this[U+F]=k&255;--F>=0&&(j*=256);)this[U+F]=k/j&255;return U+ne},c.prototype.writeUInt8=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,1,255,0),c.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[U]=k&255,U+1};function Ie($,k,U,ne){k<0&&(k=65535+k+1);for(var de=0,pe=Math.min($.length-U,2);de<pe;++de)$[U+de]=(k&255<<8*(ne?de:1-de))>>>(ne?de:1-de)*8}c.prototype.writeUInt16LE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[U]=k&255,this[U+1]=k>>>8):Ie(this,k,U,!0),U+2},c.prototype.writeUInt16BE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[U]=k>>>8,this[U+1]=k&255):Ie(this,k,U,!1),U+2};function He($,k,U,ne){k<0&&(k=4294967295+k+1);for(var de=0,pe=Math.min($.length-U,4);de<pe;++de)$[U+de]=k>>>(ne?de:3-de)*8&255}c.prototype.writeUInt32LE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[U+3]=k>>>24,this[U+2]=k>>>16,this[U+1]=k>>>8,this[U]=k&255):He(this,k,U,!0),U+4},c.prototype.writeUInt32BE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[U]=k>>>24,this[U+1]=k>>>16,this[U+2]=k>>>8,this[U+3]=k&255):He(this,k,U,!1),U+4},c.prototype.writeIntLE=function(k,U,ne,de){if(k=+k,U=U|0,!de){var pe=Math.pow(2,8*ne-1);_e(this,k,U,ne,pe-1,-pe)}var F=0,j=1,G=0;for(this[U]=k&255;++F<ne&&(j*=256);)k<0&&G===0&&this[U+F-1]!==0&&(G=1),this[U+F]=(k/j>>0)-G&255;return U+ne},c.prototype.writeIntBE=function(k,U,ne,de){if(k=+k,U=U|0,!de){var pe=Math.pow(2,8*ne-1);_e(this,k,U,ne,pe-1,-pe)}var F=ne-1,j=1,G=0;for(this[U+F]=k&255;--F>=0&&(j*=256);)k<0&&G===0&&this[U+F+1]!==0&&(G=1),this[U+F]=(k/j>>0)-G&255;return U+ne},c.prototype.writeInt8=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,1,127,-128),c.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[U]=k&255,U+1},c.prototype.writeInt16LE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[U]=k&255,this[U+1]=k>>>8):Ie(this,k,U,!0),U+2},c.prototype.writeInt16BE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[U]=k>>>8,this[U+1]=k&255):Ie(this,k,U,!1),U+2},c.prototype.writeInt32LE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[U]=k&255,this[U+1]=k>>>8,this[U+2]=k>>>16,this[U+3]=k>>>24):He(this,k,U,!0),U+4},c.prototype.writeInt32BE=function(k,U,ne){return k=+k,U=U|0,ne||_e(this,k,U,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),c.TYPED_ARRAY_SUPPORT?(this[U]=k>>>24,this[U+1]=k>>>16,this[U+2]=k>>>8,this[U+3]=k&255):He(this,k,U,!1),U+4};function be($,k,U,ne,de,pe){if(U+ne>$.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function Ae($,k,U,ne,de){return de||be($,k,U,4),m.write($,k,U,ne,23,4),U+4}c.prototype.writeFloatLE=function(k,U,ne){return Ae(this,k,U,!0,ne)},c.prototype.writeFloatBE=function(k,U,ne){return Ae(this,k,U,!1,ne)};function we($,k,U,ne,de){return de||be($,k,U,8),m.write($,k,U,ne,52,8),U+8}c.prototype.writeDoubleLE=function(k,U,ne){return we(this,k,U,!0,ne)},c.prototype.writeDoubleBE=function(k,U,ne){return we(this,k,U,!1,ne)},c.prototype.copy=function(k,U,ne,de){if(ne||(ne=0),!de&&de!==0&&(de=this.length),U>=k.length&&(U=k.length),U||(U=0),de>0&&de<ne&&(de=ne),de===ne||k.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),k.length-U<de-ne&&(de=k.length-U+ne);var pe=de-ne,F;if(this===k&&ne<U&&U<de)for(F=pe-1;F>=0;--F)k[F+U]=this[F+ne];else if(pe<1e3||!c.TYPED_ARRAY_SUPPORT)for(F=0;F<pe;++F)k[F+U]=this[F+ne];else Uint8Array.prototype.set.call(k,this.subarray(ne,ne+pe),U);return pe},c.prototype.fill=function(k,U,ne,de){if(typeof k=="string"){if(typeof U=="string"?(de=U,U=0,ne=this.length):typeof ne=="string"&&(de=ne,ne=this.length),k.length===1){var pe=k.charCodeAt(0);pe<256&&(k=pe)}if(de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!c.isEncoding(de))throw new TypeError("Unknown encoding: "+de)}else typeof k=="number"&&(k=k&255);if(U<0||this.length<U||this.length<ne)throw new RangeError("Out of range index");if(ne<=U)return this;U=U>>>0,ne=ne===void 0?this.length:ne>>>0,k||(k=0);var F;if(typeof k=="number")for(F=U;F<ne;++F)this[F]=k;else{var j=c.isBuffer(k)?k:De(new c(k,de).toString()),G=j.length;for(F=0;F<ne-U;++F)this[F+U]=j[F%G]}return this};var Be=/[^+\/0-9A-Za-z-_]/g;function Ve($){if($=Ge($).replace(Be,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function Ge($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")}function ot($){return $<16?"0"+$.toString(16):$.toString(16)}function De($,k){k=k||1/0;for(var U,ne=$.length,de=null,pe=[],F=0;F<ne;++F){if(U=$.charCodeAt(F),U>55295&&U<57344){if(!de){if(U>56319){(k-=3)>-1&&pe.push(239,191,189);continue}else if(F+1===ne){(k-=3)>-1&&pe.push(239,191,189);continue}de=U;continue}if(U<56320){(k-=3)>-1&&pe.push(239,191,189),de=U;continue}U=(de-55296<<10|U-56320)+65536}else de&&(k-=3)>-1&&pe.push(239,191,189);if(de=null,U<128){if((k-=1)<0)break;pe.push(U)}else if(U<2048){if((k-=2)<0)break;pe.push(U>>6|192,U&63|128)}else if(U<65536){if((k-=3)<0)break;pe.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((k-=4)<0)break;pe.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return pe}function Re($){for(var k=[],U=0;U<$.length;++U)k.push($.charCodeAt(U)&255);return k}function Ue($,k){for(var U,ne,de,pe=[],F=0;F<$.length&&!((k-=2)<0);++F)U=$.charCodeAt(F),ne=U>>8,de=U%256,pe.push(de),pe.push(ne);return pe}function qe($){return v.toByteArray(Ve($))}function Ye($,k,U,ne){for(var de=0;de<ne&&!(de+U>=k.length||de>=$.length);++de)k[de+U]=$[de];return de}function Me($){return $!==$}}).call(this)}).call(this,typeof ue.g<"u"?ue.g:typeof self<"u"?self:typeof window<"u"?window:{},N("buffer").Buffer)},{"base64-js":81,buffer:86,ieee754:88,isarray:89}],87:[function(N,L,u){function E(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}L.exports=E,E.EventEmitter=E,E.prototype._events=void 0,E.prototype._maxListeners=void 0,E.defaultMaxListeners=10,E.prototype.setMaxListeners=function(a){if(!v(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},E.prototype.emit=function(a){var d,p,c,l,s,i;if(this._events||(this._events={}),a==="error"&&(!this._events.error||m(this._events.error)&&!this._events.error.length)){if(d=arguments[1],d instanceof Error)throw d;var T=new Error('Uncaught, unspecified "error" event. ('+d+")");throw T.context=d,T}if(p=this._events[a],f(p))return!1;if(C(p))switch(arguments.length){case 1:p.call(this);break;case 2:p.call(this,arguments[1]);break;case 3:p.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),p.apply(this,l)}else if(m(p))for(l=Array.prototype.slice.call(arguments,1),i=p.slice(),c=i.length,s=0;s<c;s++)i[s].apply(this,l);return!0},E.prototype.addListener=function(a,d){var p;if(!C(d))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,C(d.listener)?d.listener:d),this._events[a]?m(this._events[a])?this._events[a].push(d):this._events[a]=[this._events[a],d]:this._events[a]=d,m(this._events[a])&&!this._events[a].warned&&(f(this._maxListeners)?p=E.defaultMaxListeners:p=this._maxListeners,p&&p>0&&this._events[a].length>p&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace())),this},E.prototype.on=E.prototype.addListener,E.prototype.once=function(a,d){if(!C(d))throw TypeError("listener must be a function");var p=!1;function c(){this.removeListener(a,c),p||(p=!0,d.apply(this,arguments))}return c.listener=d,this.on(a,c),this},E.prototype.removeListener=function(a,d){var p,c,l,s;if(!C(d))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(p=this._events[a],l=p.length,c=-1,p===d||C(p.listener)&&p.listener===d)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,d);else if(m(p)){for(s=l;s-- >0;)if(p[s]===d||p[s].listener&&p[s].listener===d){c=s;break}if(c<0)return this;p.length===1?(p.length=0,delete this._events[a]):p.splice(c,1),this._events.removeListener&&this.emit("removeListener",a,d)}return this},E.prototype.removeAllListeners=function(a){var d,p;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(d in this._events)d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events={},this}if(p=this._events[a],C(p))this.removeListener(a,p);else if(p)for(;p.length;)this.removeListener(a,p[p.length-1]);return delete this._events[a],this},E.prototype.listeners=function(a){var d;return!this._events||!this._events[a]?d=[]:C(this._events[a])?d=[this._events[a]]:d=this._events[a].slice(),d},E.prototype.listenerCount=function(a){if(this._events){var d=this._events[a];if(C(d))return 1;if(d)return d.length}return 0},E.listenerCount=function(a,d){return a.listenerCount(d)};function C(a){return typeof a=="function"}function v(a){return typeof a=="number"}function m(a){return he(a)==="object"&&a!==null}function f(a){return a===void 0}},{}],88:[function(N,L,u){u.read=function(E,C,v,m,f){var a,d,p=f*8-m-1,c=(1<<p)-1,l=c>>1,s=-7,i=v?f-1:0,T=v?-1:1,S=E[C+i];for(i+=T,a=S&(1<<-s)-1,S>>=-s,s+=p;s>0;a=a*256+E[C+i],i+=T,s-=8);for(d=a&(1<<-s)-1,a>>=-s,s+=m;s>0;d=d*256+E[C+i],i+=T,s-=8);if(a===0)a=1-l;else{if(a===c)return d?NaN:(S?-1:1)*(1/0);d=d+Math.pow(2,m),a=a-l}return(S?-1:1)*d*Math.pow(2,a-m)},u.write=function(E,C,v,m,f,a){var d,p,c,l=a*8-f-1,s=(1<<l)-1,i=s>>1,T=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=m?0:a-1,y=m?1:-1,h=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(p=isNaN(C)?1:0,d=s):(d=Math.floor(Math.log(C)/Math.LN2),C*(c=Math.pow(2,-d))<1&&(d--,c*=2),d+i>=1?C+=T/c:C+=T*Math.pow(2,1-i),C*c>=2&&(d++,c/=2),d+i>=s?(p=0,d=s):d+i>=1?(p=(C*c-1)*Math.pow(2,f),d=d+i):(p=C*Math.pow(2,i-1)*Math.pow(2,f),d=0));f>=8;E[v+S]=p&255,S+=y,p/=256,f-=8);for(d=d<<f|p,l+=f;l>0;E[v+S]=d&255,S+=y,d/=256,l-=8);E[v+S-y]|=h*128}},{}],89:[function(N,L,u){var E={}.toString;L.exports=Array.isArray||function(C){return E.call(C)=="[object Array]"}},{}],90:[function(N,L,u){(function(E){function C(F){return F!==null?Object.prototype.toString.call(F)==="[object Array]":!1}function v(F){return F!==null?Object.prototype.toString.call(F)==="[object Object]":!1}function m(F,j){if(F===j)return!0;var G=Object.prototype.toString.call(F);if(G!==Object.prototype.toString.call(j))return!1;if(C(F)===!0){if(F.length!==j.length)return!1;for(var x=0;x<F.length;x++)if(m(F[x],j[x])===!1)return!1;return!0}if(v(F)===!0){var D={};for(var H in F)if(hasOwnProperty.call(F,H)){if(m(F[H],j[H])===!1)return!1;D[H]=!0}for(var te in j)if(hasOwnProperty.call(j,te)&&D[te]!==!0)return!1;return!0}return!1}function f(F){if(F===""||F===!1||F===null)return!0;if(C(F)&&F.length===0)return!0;if(v(F)){for(var j in F)if(F.hasOwnProperty(j))return!1;return!0}else return!1}function a(F){for(var j=Object.keys(F),G=[],x=0;x<j.length;x++)G.push(F[j[x]]);return G}var d;typeof String.prototype.trimLeft=="function"?d=function(j){return j.trimLeft()}:d=function(j){return j.match(/^\s*(.*)/)[1]};var p=0,c=1,l=2,s=3,i=4,T=5,S=6,y=7,h=8,b=9,A={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},r="EOF",w="UnquotedIdentifier",O="QuotedIdentifier",R="Rbracket",z="Rparen",ee="Comma",oe="Colon",Q="Rbrace",I="Number",W="Current",Z="Expref",V="Pipe",M="Or",B="And",Y="EQ",K="GT",q="LT",X="GTE",se="LTE",le="NE",ve="Flatten",_e="Star",Ie="Filter",He="Dot",be="Not",Ae="Lbrace",we="Lbracket",Be="Lparen",Ve="Literal",Ge={".":He,"*":_e,",":ee,":":oe,"{":Ae,"}":Q,"]":R,"(":Be,")":z,"@":W},ot={"<":!0,">":!0,"=":!0,"!":!0},De={" ":!0,"	":!0,"\n":!0};function Re(F){return F>="a"&&F<="z"||F>="A"&&F<="Z"||F==="_"}function Ue(F){return F>="0"&&F<="9"||F==="-"}function qe(F){return F>="a"&&F<="z"||F>="A"&&F<="Z"||F>="0"&&F<="9"||F==="_"}function Ye(){}Ye.prototype={tokenize:function(j){var G=[];this._current=0;for(var x,D,H;this._current<j.length;)if(Re(j[this._current]))x=this._current,D=this._consumeUnquotedIdentifier(j),G.push({type:w,value:D,start:x});else if(Ge[j[this._current]]!==void 0)G.push({type:Ge[j[this._current]],value:j[this._current],start:this._current}),this._current++;else if(Ue(j[this._current]))H=this._consumeNumber(j),G.push(H);else if(j[this._current]==="[")H=this._consumeLBracket(j),G.push(H);else if(j[this._current]==='"')x=this._current,D=this._consumeQuotedIdentifier(j),G.push({type:O,value:D,start:x});else if(j[this._current]==="'")x=this._current,D=this._consumeRawStringLiteral(j),G.push({type:Ve,value:D,start:x});else if(j[this._current]==="`"){x=this._current;var te=this._consumeLiteral(j);G.push({type:Ve,value:te,start:x})}else if(ot[j[this._current]]!==void 0)G.push(this._consumeOperator(j));else if(De[j[this._current]]!==void 0)this._current++;else if(j[this._current]==="&")x=this._current,this._current++,j[this._current]==="&"?(this._current++,G.push({type:B,value:"&&",start:x})):G.push({type:Z,value:"&",start:x});else if(j[this._current]==="|")x=this._current,this._current++,j[this._current]==="|"?(this._current++,G.push({type:M,value:"||",start:x})):G.push({type:V,value:"|",start:x});else{var re=new Error("Unknown character:"+j[this._current]);throw re.name="LexerError",re}return G},_consumeUnquotedIdentifier:function(j){var G=this._current;for(this._current++;this._current<j.length&&qe(j[this._current]);)this._current++;return j.slice(G,this._current)},_consumeQuotedIdentifier:function(j){var G=this._current;this._current++;for(var x=j.length;j[this._current]!=='"'&&this._current<x;){var D=this._current;j[D]==="\\"&&(j[D+1]==="\\"||j[D+1]==='"')?D+=2:D++,this._current=D}return this._current++,JSON.parse(j.slice(G,this._current))},_consumeRawStringLiteral:function(j){var G=this._current;this._current++;for(var x=j.length;j[this._current]!=="'"&&this._current<x;){var D=this._current;j[D]==="\\"&&(j[D+1]==="\\"||j[D+1]==="'")?D+=2:D++,this._current=D}this._current++;var H=j.slice(G+1,this._current-1);return H.replace("\\'","'")},_consumeNumber:function(j){var G=this._current;this._current++;for(var x=j.length;Ue(j[this._current])&&this._current<x;)this._current++;var D=parseInt(j.slice(G,this._current));return{type:I,value:D,start:G}},_consumeLBracket:function(j){var G=this._current;return this._current++,j[this._current]==="?"?(this._current++,{type:Ie,value:"[?",start:G}):j[this._current]==="]"?(this._current++,{type:ve,value:"[]",start:G}):{type:we,value:"[",start:G}},_consumeOperator:function(j){var G=this._current,x=j[G];if(this._current++,x==="!")return j[this._current]==="="?(this._current++,{type:le,value:"!=",start:G}):{type:be,value:"!",start:G};if(x==="<")return j[this._current]==="="?(this._current++,{type:se,value:"<=",start:G}):{type:q,value:"<",start:G};if(x===">")return j[this._current]==="="?(this._current++,{type:X,value:">=",start:G}):{type:K,value:">",start:G};if(x==="="&&j[this._current]==="=")return this._current++,{type:Y,value:"==",start:G}},_consumeLiteral:function(j){this._current++;for(var G=this._current,x=j.length,D;j[this._current]!=="`"&&this._current<x;){var H=this._current;j[H]==="\\"&&(j[H+1]==="\\"||j[H+1]==="`")?H+=2:H++,this._current=H}var te=d(j.slice(G,this._current));return te=te.replace("\\`","`"),this._looksLikeJSON(te)?D=JSON.parse(te):D=JSON.parse('"'+te+'"'),this._current++,D},_looksLikeJSON:function(j){var G='[{"',x=["true","false","null"],D="-0123456789";if(j==="")return!1;if(G.indexOf(j[0])>=0)return!0;if(x.indexOf(j)>=0)return!0;if(D.indexOf(j[0])>=0)try{return JSON.parse(j),!0}catch{return!1}else return!1}};var Me={};Me[r]=0,Me[w]=0,Me[O]=0,Me[R]=0,Me[z]=0,Me[ee]=0,Me[Q]=0,Me[I]=0,Me[W]=0,Me[Z]=0,Me[V]=1,Me[M]=2,Me[B]=3,Me[Y]=5,Me[K]=5,Me[q]=5,Me[X]=5,Me[se]=5,Me[le]=5,Me[ve]=9,Me[_e]=20,Me[Ie]=21,Me[He]=40,Me[be]=45,Me[Ae]=50,Me[we]=55,Me[Be]=60;function $(){}$.prototype={parse:function(j){this._loadTokens(j),this.index=0;var G=this.expression(0);if(this._lookahead(0)!==r){var x=this._lookaheadToken(0),D=new Error("Unexpected token type: "+x.type+", value: "+x.value);throw D.name="ParserError",D}return G},_loadTokens:function(j){var G=new Ye,x=G.tokenize(j);x.push({type:r,value:"",start:j.length}),this.tokens=x},expression:function(j){var G=this._lookaheadToken(0);this._advance();for(var x=this.nud(G),D=this._lookahead(0);j<Me[D];)this._advance(),x=this.led(D,x),D=this._lookahead(0);return x},_lookahead:function(j){return this.tokens[this.index+j].type},_lookaheadToken:function(j){return this.tokens[this.index+j]},_advance:function(){this.index++},nud:function(j){var G,x,D;switch(j.type){case Ve:return{type:"Literal",value:j.value};case w:return{type:"Field",name:j.value};case O:var H={type:"Field",name:j.value};if(this._lookahead(0)===Be)throw new Error("Quoted identifier not allowed for function names.");return H;case be:return x=this.expression(Me.Not),{type:"NotExpression",children:[x]};case _e:return G={type:"Identity"},x=null,this._lookahead(0)===R?x={type:"Identity"}:x=this._parseProjectionRHS(Me.Star),{type:"ValueProjection",children:[G,x]};case Ie:return this.led(j.type,{type:"Identity"});case Ae:return this._parseMultiselectHash();case ve:return G={type:ve,children:[{type:"Identity"}]},x=this._parseProjectionRHS(Me.Flatten),{type:"Projection",children:[G,x]};case we:return this._lookahead(0)===I||this._lookahead(0)===oe?(x=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},x)):this._lookahead(0)===_e&&this._lookahead(1)===R?(this._advance(),this._advance(),x=this._parseProjectionRHS(Me.Star),{type:"Projection",children:[{type:"Identity"},x]}):this._parseMultiselectList();case W:return{type:W};case Z:return D=this.expression(Me.Expref),{type:"ExpressionReference",children:[D]};case Be:for(var te=[];this._lookahead(0)!==z;)this._lookahead(0)===W?(D={type:W},this._advance()):D=this.expression(0),te.push(D);return this._match(z),te[0];default:this._errorToken(j)}},led:function(j,G){var x;switch(j){case He:var D=Me.Dot;return this._lookahead(0)!==_e?(x=this._parseDotRHS(D),{type:"Subexpression",children:[G,x]}):(this._advance(),x=this._parseProjectionRHS(D),{type:"ValueProjection",children:[G,x]});case V:return x=this.expression(Me.Pipe),{type:V,children:[G,x]};case M:return x=this.expression(Me.Or),{type:"OrExpression",children:[G,x]};case B:return x=this.expression(Me.And),{type:"AndExpression",children:[G,x]};case Be:for(var H=G.name,te=[],re,me;this._lookahead(0)!==z;)this._lookahead(0)===W?(re={type:W},this._advance()):re=this.expression(0),this._lookahead(0)===ee&&this._match(ee),te.push(re);return this._match(z),me={type:"Function",name:H,children:te},me;case Ie:var Ee=this.expression(0);return this._match(R),this._lookahead(0)===ve?x={type:"Identity"}:x=this._parseProjectionRHS(Me.Filter),{type:"FilterProjection",children:[G,x,Ee]};case ve:var je={type:ve,children:[G]},Ke=this._parseProjectionRHS(Me.Flatten);return{type:"Projection",children:[je,Ke]};case Y:case le:case K:case X:case q:case se:return this._parseComparator(G,j);case we:var xe=this._lookaheadToken(0);return xe.type===I||xe.type===oe?(x=this._parseIndexExpression(),this._projectIfSlice(G,x)):(this._match(_e),this._match(R),x=this._parseProjectionRHS(Me.Star),{type:"Projection",children:[G,x]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(j){if(this._lookahead(0)===j)this._advance();else{var G=this._lookaheadToken(0),x=new Error("Expected "+j+", got: "+G.type);throw x.name="ParserError",x}},_errorToken:function(j){var G=new Error("Invalid token ("+j.type+'): "'+j.value+'"');throw G.name="ParserError",G},_parseIndexExpression:function(){if(this._lookahead(0)===oe||this._lookahead(1)===oe)return this._parseSliceExpression();var j={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(R),j},_projectIfSlice:function(j,G){var x={type:"IndexExpression",children:[j,G]};return G.type==="Slice"?{type:"Projection",children:[x,this._parseProjectionRHS(Me.Star)]}:x},_parseSliceExpression:function(){for(var j=[null,null,null],G=0,x=this._lookahead(0);x!==R&&G<3;){if(x===oe)G++,this._advance();else if(x===I)j[G]=this._lookaheadToken(0).value,this._advance();else{var D=this._lookahead(0),H=new Error("Syntax error, unexpected token: "+D.value+"("+D.type+")");throw H.name="Parsererror",H}x=this._lookahead(0)}return this._match(R),{type:"Slice",children:j}},_parseComparator:function(j,G){var x=this.expression(Me[G]);return{type:"Comparator",name:G,children:[j,x]}},_parseDotRHS:function(j){var G=this._lookahead(0),x=[w,O,_e];if(x.indexOf(G)>=0)return this.expression(j);if(G===we)return this._match(we),this._parseMultiselectList();if(G===Ae)return this._match(Ae),this._parseMultiselectHash()},_parseProjectionRHS:function(j){var G;if(Me[this._lookahead(0)]<10)G={type:"Identity"};else if(this._lookahead(0)===we)G=this.expression(j);else if(this._lookahead(0)===Ie)G=this.expression(j);else if(this._lookahead(0)===He)this._match(He),G=this._parseDotRHS(j);else{var x=this._lookaheadToken(0),D=new Error("Sytanx error, unexpected token: "+x.value+"("+x.type+")");throw D.name="ParserError",D}return G},_parseMultiselectList:function(){for(var j=[];this._lookahead(0)!==R;){var G=this.expression(0);if(j.push(G),this._lookahead(0)===ee&&(this._match(ee),this._lookahead(0)===R))throw new Error("Unexpected token Rbracket")}return this._match(R),{type:"MultiSelectList",children:j}},_parseMultiselectHash:function(){for(var j=[],G=[w,O],x,D,H,te;;){if(x=this._lookaheadToken(0),G.indexOf(x.type)<0)throw new Error("Expecting an identifier token, got: "+x.type);if(D=x.value,this._advance(),this._match(oe),H=this.expression(0),te={type:"KeyValuePair",name:D,value:H},j.push(te),this._lookahead(0)===ee)this._match(ee);else if(this._lookahead(0)===Q){this._match(Q);break}}return{type:"MultiSelectHash",children:j}}};function k(F){this.runtime=F}k.prototype={search:function(j,G){return this.visit(j,G)},visit:function(j,G){var x,D,H,te,re,me,Ee,je,Ke,xe;switch(j.type){case"Field":return G!==null&&v(G)?(me=G[j.name],me===void 0?null:me):null;case"Subexpression":for(H=this.visit(j.children[0],G),xe=1;xe<j.children.length;xe++)if(H=this.visit(j.children[1],H),H===null)return null;return H;case"IndexExpression":return Ee=this.visit(j.children[0],G),je=this.visit(j.children[1],Ee),je;case"Index":if(!C(G))return null;var Le=j.value;return Le<0&&(Le=G.length+Le),H=G[Le],H===void 0&&(H=null),H;case"Slice":if(!C(G))return null;var et=j.children.slice(0),tt=this.computeSliceParams(G.length,et),$e=tt[0],yt=tt[1],Qe=tt[2];if(H=[],Qe>0)for(xe=$e;xe<yt;xe+=Qe)H.push(G[xe]);else for(xe=$e;xe>yt;xe+=Qe)H.push(G[xe]);return H;case"Projection":var pt=this.visit(j.children[0],G);if(!C(pt))return null;for(Ke=[],xe=0;xe<pt.length;xe++)D=this.visit(j.children[1],pt[xe]),D!==null&&Ke.push(D);return Ke;case"ValueProjection":if(pt=this.visit(j.children[0],G),!v(pt))return null;Ke=[];var Ft=a(pt);for(xe=0;xe<Ft.length;xe++)D=this.visit(j.children[1],Ft[xe]),D!==null&&Ke.push(D);return Ke;case"FilterProjection":if(pt=this.visit(j.children[0],G),!C(pt))return null;var Kt=[],kt=[];for(xe=0;xe<pt.length;xe++)x=this.visit(j.children[2],pt[xe]),f(x)||Kt.push(pt[xe]);for(var Et=0;Et<Kt.length;Et++)D=this.visit(j.children[1],Kt[Et]),D!==null&&kt.push(D);return kt;case"Comparator":switch(te=this.visit(j.children[0],G),re=this.visit(j.children[1],G),j.name){case Y:H=m(te,re);break;case le:H=!m(te,re);break;case K:H=te>re;break;case X:H=te>=re;break;case q:H=te<re;break;case se:H=te<=re;break;default:throw new Error("Unknown comparator: "+j.name)}return H;case ve:var Xe=this.visit(j.children[0],G);if(!C(Xe))return null;var We=[];for(xe=0;xe<Xe.length;xe++)D=Xe[xe],C(D)?We.push.apply(We,D):We.push(D);return We;case"Identity":return G;case"MultiSelectList":if(G===null)return null;for(Ke=[],xe=0;xe<j.children.length;xe++)Ke.push(this.visit(j.children[xe],G));return Ke;case"MultiSelectHash":if(G===null)return null;Ke={};var Ze;for(xe=0;xe<j.children.length;xe++)Ze=j.children[xe],Ke[Ze.name]=this.visit(Ze.value,G);return Ke;case"OrExpression":return x=this.visit(j.children[0],G),f(x)&&(x=this.visit(j.children[1],G)),x;case"AndExpression":return te=this.visit(j.children[0],G),f(te)===!0?te:this.visit(j.children[1],G);case"NotExpression":return te=this.visit(j.children[0],G),f(te);case"Literal":return j.value;case V:return Ee=this.visit(j.children[0],G),this.visit(j.children[1],Ee);case W:return G;case"Function":var st=[];for(xe=0;xe<j.children.length;xe++)st.push(this.visit(j.children[xe],G));return this.runtime.callFunction(j.name,st);case"ExpressionReference":var St=j.children[0];return St.jmespathType=Z,St;default:throw new Error("Unknown node type: "+j.type)}},computeSliceParams:function(j,G){var x=G[0],D=G[1],H=G[2],te=[null,null,null];if(H===null)H=1;else if(H===0){var re=new Error("Invalid slice, step cannot be 0");throw re.name="RuntimeError",re}var me=H<0;return x===null?x=me?j-1:0:x=this.capSliceRange(j,x,H),D===null?D=me?-1:j:D=this.capSliceRange(j,D,H),te[0]=x,te[1]=D,te[2]=H,te},capSliceRange:function(j,G,x){return G<0?(G+=j,G<0&&(G=x<0?-1:0)):G>=j&&(G=x<0?j-1:j),G}};function U(F){this._interpreter=F,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[p]}]},avg:{_func:this._functionAvg,_signature:[{types:[h]}]},ceil:{_func:this._functionCeil,_signature:[{types:[p]}]},contains:{_func:this._functionContains,_signature:[{types:[l,s]},{types:[c]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[l]},{types:[l]}]},floor:{_func:this._functionFloor,_signature:[{types:[p]}]},length:{_func:this._functionLength,_signature:[{types:[l,s,i]}]},map:{_func:this._functionMap,_signature:[{types:[S]},{types:[s]}]},max:{_func:this._functionMax,_signature:[{types:[h,b]}]},merge:{_func:this._functionMerge,_signature:[{types:[i],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[s]},{types:[S]}]},sum:{_func:this._functionSum,_signature:[{types:[h]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[l]},{types:[l]}]},min:{_func:this._functionMin,_signature:[{types:[h,b]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[s]},{types:[S]}]},type:{_func:this._functionType,_signature:[{types:[c]}]},keys:{_func:this._functionKeys,_signature:[{types:[i]}]},values:{_func:this._functionValues,_signature:[{types:[i]}]},sort:{_func:this._functionSort,_signature:[{types:[b,h]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[s]},{types:[S]}]},join:{_func:this._functionJoin,_signature:[{types:[l]},{types:[b]}]},reverse:{_func:this._functionReverse,_signature:[{types:[l,s]}]},to_array:{_func:this._functionToArray,_signature:[{types:[c]}]},to_string:{_func:this._functionToString,_signature:[{types:[c]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[c]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[c],variadic:!0}]}}}U.prototype={callFunction:function(j,G){var x=this.functionTable[j];if(x===void 0)throw new Error("Unknown function: "+j+"()");return this._validateArgs(j,G,x._signature),x._func.call(this,G)},_validateArgs:function(j,G,x){var D;if(x[x.length-1].variadic){if(G.length<x.length)throw D=x.length===1?" argument":" arguments",new Error("ArgumentError: "+j+"() takes at least"+x.length+D+" but received "+G.length)}else if(G.length!==x.length)throw D=x.length===1?" argument":" arguments",new Error("ArgumentError: "+j+"() takes "+x.length+D+" but received "+G.length);for(var H,te,re,me=0;me<x.length;me++){re=!1,H=x[me].types,te=this._getTypeName(G[me]);for(var Ee=0;Ee<H.length;Ee++)if(this._typeMatches(te,H[Ee],G[me])){re=!0;break}if(!re){var je=H.map(function(Ke){return A[Ke]}).join(",");throw new Error("TypeError: "+j+"() expected argument "+(me+1)+" to be type "+je+" but received type "+A[te]+" instead.")}}},_typeMatches:function(j,G,x){if(G===c)return!0;if(G===b||G===h||G===s){if(G===s)return j===s;if(j===s){var D;G===h?D=p:G===b&&(D=l);for(var H=0;H<x.length;H++)if(!this._typeMatches(this._getTypeName(x[H]),D,x[H]))return!1;return!0}}else return j===G},_getTypeName:function(j){switch(Object.prototype.toString.call(j)){case"[object String]":return l;case"[object Number]":return p;case"[object Array]":return s;case"[object Boolean]":return T;case"[object Null]":return y;case"[object Object]":return j.jmespathType===Z?S:i}},_functionStartsWith:function(j){return j[0].lastIndexOf(j[1])===0},_functionEndsWith:function(j){var G=j[0],x=j[1];return G.indexOf(x,G.length-x.length)!==-1},_functionReverse:function(j){var G=this._getTypeName(j[0]);if(G===l){for(var x=j[0],D="",H=x.length-1;H>=0;H--)D+=x[H];return D}else{var te=j[0].slice(0);return te.reverse(),te}},_functionAbs:function(j){return Math.abs(j[0])},_functionCeil:function(j){return Math.ceil(j[0])},_functionAvg:function(j){for(var G=0,x=j[0],D=0;D<x.length;D++)G+=x[D];return G/x.length},_functionContains:function(j){return j[0].indexOf(j[1])>=0},_functionFloor:function(j){return Math.floor(j[0])},_functionLength:function(j){return v(j[0])?Object.keys(j[0]).length:j[0].length},_functionMap:function(j){for(var G=[],x=this._interpreter,D=j[0],H=j[1],te=0;te<H.length;te++)G.push(x.visit(D,H[te]));return G},_functionMerge:function(j){for(var G={},x=0;x<j.length;x++){var D=j[x];for(var H in D)G[H]=D[H]}return G},_functionMax:function(j){if(j[0].length>0){var G=this._getTypeName(j[0][0]);if(G===p)return Math.max.apply(Math,j[0]);for(var x=j[0],D=x[0],H=1;H<x.length;H++)D.localeCompare(x[H])<0&&(D=x[H]);return D}else return null},_functionMin:function(j){if(j[0].length>0){var G=this._getTypeName(j[0][0]);if(G===p)return Math.min.apply(Math,j[0]);for(var x=j[0],D=x[0],H=1;H<x.length;H++)x[H].localeCompare(D)<0&&(D=x[H]);return D}else return null},_functionSum:function(j){for(var G=0,x=j[0],D=0;D<x.length;D++)G+=x[D];return G},_functionType:function(j){switch(this._getTypeName(j[0])){case p:return"number";case l:return"string";case s:return"array";case i:return"object";case T:return"boolean";case S:return"expref";case y:return"null"}},_functionKeys:function(j){return Object.keys(j[0])},_functionValues:function(j){for(var G=j[0],x=Object.keys(G),D=[],H=0;H<x.length;H++)D.push(G[x[H]]);return D},_functionJoin:function(j){var G=j[0],x=j[1];return x.join(G)},_functionToArray:function(j){return this._getTypeName(j[0])===s?j[0]:[j[0]]},_functionToString:function(j){return this._getTypeName(j[0])===l?j[0]:JSON.stringify(j[0])},_functionToNumber:function(j){var G=this._getTypeName(j[0]),x;return G===p?j[0]:G===l&&(x=+j[0],!isNaN(x))?x:null},_functionNotNull:function(j){for(var G=0;G<j.length;G++)if(this._getTypeName(j[G])!==y)return j[G];return null},_functionSort:function(j){var G=j[0].slice(0);return G.sort(),G},_functionSortBy:function(j){var G=j[0].slice(0);if(G.length===0)return G;var x=this._interpreter,D=j[1],H=this._getTypeName(x.visit(D,G[0]));if([p,l].indexOf(H)<0)throw new Error("TypeError");for(var te=this,re=[],me=0;me<G.length;me++)re.push([me,G[me]]);re.sort(function(je,Ke){var xe=x.visit(D,je[1]),Le=x.visit(D,Ke[1]);if(te._getTypeName(xe)!==H)throw new Error("TypeError: expected "+H+", received "+te._getTypeName(xe));if(te._getTypeName(Le)!==H)throw new Error("TypeError: expected "+H+", received "+te._getTypeName(Le));return xe>Le?1:xe<Le?-1:je[0]-Ke[0]});for(var Ee=0;Ee<re.length;Ee++)G[Ee]=re[Ee][1];return G},_functionMaxBy:function(j){for(var G=j[1],x=j[0],D=this.createKeyFunction(G,[p,l]),H=-1/0,te,re,me=0;me<x.length;me++)re=D(x[me]),re>H&&(H=re,te=x[me]);return te},_functionMinBy:function(j){for(var G=j[1],x=j[0],D=this.createKeyFunction(G,[p,l]),H=1/0,te,re,me=0;me<x.length;me++)re=D(x[me]),re<H&&(H=re,te=x[me]);return te},createKeyFunction:function(j,G){var x=this,D=this._interpreter,H=function(re){var me=D.visit(j,re);if(G.indexOf(x._getTypeName(me))<0){var Ee="TypeError: expected one of "+G+", received "+x._getTypeName(me);throw new Error(Ee)}return me};return H}};function ne(F){var j=new $,G=j.parse(F);return G}function de(F){var j=new Ye;return j.tokenize(F)}function pe(F,j){var G=new $,x=new U,D=new k(x);x._interpreter=D;var H=G.parse(j);return D.search(H,F)}E.tokenize=de,E.compile=ne,E.search=pe,E.strictDeepEqual=m})(typeof u>"u"?this.jmespath={}:u)},{}],91:[function(N,L,u){var E=L.exports={},C,v;function m(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?C=setTimeout:C=m}catch{C=m}try{typeof clearTimeout=="function"?v=clearTimeout:v=f}catch{v=f}})();function a(h){if(C===setTimeout)return setTimeout(h,0);if((C===m||!C)&&setTimeout)return C=setTimeout,setTimeout(h,0);try{return C(h,0)}catch{try{return C.call(null,h,0)}catch{return C.call(this,h,0)}}}function d(h){if(v===clearTimeout)return clearTimeout(h);if((v===f||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(h);try{return v(h)}catch{try{return v.call(null,h)}catch{return v.call(this,h)}}}var p=[],c=!1,l,s=-1;function i(){!c||!l||(c=!1,l.length?p=l.concat(p):s=-1,p.length&&T())}function T(){if(!c){var h=a(i);c=!0;for(var b=p.length;b;){for(l=p,p=[];++s<b;)l&&l[s].run();s=-1,b=p.length}l=null,c=!1,d(h)}}E.nextTick=function(h){var b=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)b[A-1]=arguments[A];p.push(new S(h,b)),p.length===1&&!c&&a(T)};function S(h,b){this.fun=h,this.array=b}S.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={};function y(){}E.on=y,E.addListener=y,E.once=y,E.off=y,E.removeListener=y,E.removeAllListeners=y,E.emit=y,E.prependListener=y,E.prependOnceListener=y,E.listeners=function(h){return[]},E.binding=function(h){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(h){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],92:[function(N,L,u){(function(E){(function(){(function(C){var v=he(u)=="object"&&u&&!u.nodeType&&u,m=he(L)=="object"&&L&&!L.nodeType&&L,f=he(E)=="object"&&E;(f.global===f||f.window===f||f.self===f)&&(C=f);var a,d=2147483647,p=36,c=1,l=26,s=38,i=700,T=72,S=128,y="-",h=/^xn--/,b=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,r={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=p-c,O=Math.floor,R=String.fromCharCode,z;function ee(X){throw new RangeError(r[X])}function oe(X,se){for(var le=X.length,ve=[];le--;)ve[le]=se(X[le]);return ve}function Q(X,se){var le=X.split("@"),ve="";le.length>1&&(ve=le[0]+"@",X=le[1]),X=X.replace(A,".");var _e=X.split("."),Ie=oe(_e,se).join(".");return ve+Ie}function I(X){for(var se=[],le=0,ve=X.length,_e,Ie;le<ve;)_e=X.charCodeAt(le++),_e>=55296&&_e<=56319&&le<ve?(Ie=X.charCodeAt(le++),(Ie&64512)==56320?se.push(((_e&1023)<<10)+(Ie&1023)+65536):(se.push(_e),le--)):se.push(_e);return se}function W(X){return oe(X,function(se){var le="";return se>65535&&(se-=65536,le+=R(se>>>10&1023|55296),se=56320|se&1023),le+=R(se),le}).join("")}function Z(X){return X-48<10?X-22:X-65<26?X-65:X-97<26?X-97:p}function V(X,se){return X+22+75*(X<26)-((se!=0)<<5)}function M(X,se,le){var ve=0;for(X=le?O(X/i):X>>1,X+=O(X/se);X>w*l>>1;ve+=p)X=O(X/w);return O(ve+(w+1)*X/(X+s))}function B(X){var se=[],le=X.length,ve,_e=0,Ie=S,He=T,be,Ae,we,Be,Ve,Ge,ot,De,Re;for(be=X.lastIndexOf(y),be<0&&(be=0),Ae=0;Ae<be;++Ae)X.charCodeAt(Ae)>=128&&ee("not-basic"),se.push(X.charCodeAt(Ae));for(we=be>0?be+1:0;we<le;){for(Be=_e,Ve=1,Ge=p;we>=le&&ee("invalid-input"),ot=Z(X.charCodeAt(we++)),(ot>=p||ot>O((d-_e)/Ve))&&ee("overflow"),_e+=ot*Ve,De=Ge<=He?c:Ge>=He+l?l:Ge-He,!(ot<De);Ge+=p)Re=p-De,Ve>O(d/Re)&&ee("overflow"),Ve*=Re;ve=se.length+1,He=M(_e-Be,ve,Be==0),O(_e/ve)>d-Ie&&ee("overflow"),Ie+=O(_e/ve),_e%=ve,se.splice(_e++,0,Ie)}return W(se)}function Y(X){var se,le,ve,_e,Ie,He,be,Ae,we,Be,Ve,Ge=[],ot,De,Re,Ue;for(X=I(X),ot=X.length,se=S,le=0,Ie=T,He=0;He<ot;++He)Ve=X[He],Ve<128&&Ge.push(R(Ve));for(ve=_e=Ge.length,_e&&Ge.push(y);ve<ot;){for(be=d,He=0;He<ot;++He)Ve=X[He],Ve>=se&&Ve<be&&(be=Ve);for(De=ve+1,be-se>O((d-le)/De)&&ee("overflow"),le+=(be-se)*De,se=be,He=0;He<ot;++He)if(Ve=X[He],Ve<se&&++le>d&&ee("overflow"),Ve==se){for(Ae=le,we=p;Be=we<=Ie?c:we>=Ie+l?l:we-Ie,!(Ae<Be);we+=p)Ue=Ae-Be,Re=p-Be,Ge.push(R(V(Be+Ue%Re,0))),Ae=O(Ue/Re);Ge.push(R(V(Ae,0))),Ie=M(le,De,ve==_e),le=0,++ve}++le,++se}return Ge.join("")}function K(X){return Q(X,function(se){return h.test(se)?B(se.slice(4).toLowerCase()):se})}function q(X){return Q(X,function(se){return b.test(se)?"xn--"+Y(se):se})}if(a={version:"1.4.1",ucs2:{decode:I,encode:W},decode:B,encode:Y,toASCII:q,toUnicode:K},he(ue.amdO)=="object"&&ue.amdO)Oe=(function(){return a}).call(u,ue,u,L),Oe!==void 0&&(L.exports=Oe);else if(v&&m)if(L.exports==v)m.exports=a;else for(z in a)a.hasOwnProperty(z)&&(v[z]=a[z]);else C.punycode=a})(this)}).call(this)}).call(this,typeof ue.g<"u"?ue.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],93:[function(N,L,u){function E(v,m){return Object.prototype.hasOwnProperty.call(v,m)}L.exports=function(v,m,f,a){m=m||"&",f=f||"=";var d={};if(typeof v!="string"||v.length===0)return d;var p=/\+/g;v=v.split(m);var c=1e3;a&&typeof a.maxKeys=="number"&&(c=a.maxKeys);var l=v.length;c>0&&l>c&&(l=c);for(var s=0;s<l;++s){var i=v[s].replace(p,"%20"),T=i.indexOf(f),S,y,h,b;T>=0?(S=i.substr(0,T),y=i.substr(T+1)):(S=i,y=""),h=decodeURIComponent(S),b=decodeURIComponent(y),E(d,h)?C(d[h])?d[h].push(b):d[h]=[d[h],b]:d[h]=b}return d};var C=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"}},{}],94:[function(N,L,u){var E=function(a){switch(he(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};L.exports=function(f,a,d,p){return a=a||"&",d=d||"=",f===null&&(f=void 0),he(f)==="object"?v(m(f),function(c){var l=encodeURIComponent(E(c))+d;return C(f[c])?v(f[c],function(s){return l+encodeURIComponent(E(s))}).join(a):l+encodeURIComponent(E(f[c]))}).join(a):p?encodeURIComponent(E(p))+d+encodeURIComponent(E(f)):""};var C=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function v(f,a){if(f.map)return f.map(a);for(var d=[],p=0;p<f.length;p++)d.push(a(f[p],p));return d}var m=Object.keys||function(f){var a=[];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&a.push(d);return a}},{}],95:[function(N,L,u){u.decode=u.parse=N("./decode"),u.encode=u.stringify=N("./encode")},{"./decode":93,"./encode":94}],96:[function(N,L,u){function E(C,v){return Object.prototype.hasOwnProperty.call(C,v)}L.exports=function(C,v,m,f){v=v||"&",m=m||"=";var a={};if(typeof C!="string"||C.length===0)return a;var d=/\+/g;C=C.split(v);var p=1e3;f&&typeof f.maxKeys=="number"&&(p=f.maxKeys);var c=C.length;p>0&&c>p&&(c=p);for(var l=0;l<c;++l){var s=C[l].replace(d,"%20"),i=s.indexOf(m),T,S,y,h;i>=0?(T=s.substr(0,i),S=s.substr(i+1)):(T=s,S=""),y=decodeURIComponent(T),h=decodeURIComponent(S),E(a,y)?Array.isArray(a[y])?a[y].push(h):a[y]=[a[y],h]:a[y]=h}return a}},{}],97:[function(N,L,u){var E=function(v){switch(he(v)){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};L.exports=function(C,v,m,f){return v=v||"&",m=m||"=",C===null&&(C=void 0),he(C)==="object"?Object.keys(C).map(function(a){var d=encodeURIComponent(E(a))+m;return Array.isArray(C[a])?C[a].map(function(p){return d+encodeURIComponent(E(p))}).join(v):d+encodeURIComponent(E(C[a]))}).join(v):f?encodeURIComponent(E(f))+m+encodeURIComponent(E(C)):""}},{}],98:[function(N,L,u){arguments[4][95][0].apply(u,arguments)},{"./decode":96,"./encode":97,dup:95}],99:[function(N,L,u){(function(E,C){(function(){var v=N("process/browser.js").nextTick,m=Function.prototype.apply,f=Array.prototype.slice,a={},d=0;u.setTimeout=function(){return new p(m.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new p(m.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(c){c.close()};function p(c,l){this._id=c,this._clearFn=l}p.prototype.unref=p.prototype.ref=function(){},p.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(c,l){clearTimeout(c._idleTimeoutId),c._idleTimeout=l},u.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},u._unrefActive=u.active=function(c){clearTimeout(c._idleTimeoutId);var l=c._idleTimeout;l>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},l))},u.setImmediate=typeof E=="function"?E:function(c){var l=d++,s=arguments.length<2?!1:f.call(arguments,1);return a[l]=!0,v(function(){a[l]&&(s?c.apply(null,s):c.call(null),u.clearImmediate(l))}),l},u.clearImmediate=typeof C=="function"?C:function(c){delete a[c]}}).call(this)}).call(this,N("timers").setImmediate,N("timers").clearImmediate)},{"process/browser.js":91,timers:99}],100:[function(N,L,u){var E=N("punycode");u.parse=b,u.resolve=r,u.resolveObject=w,u.format=A,u.Url=C;function C(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var v=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,f=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(f),d=["'"].concat(a),p=["%","/","?",";","#"].concat(d),c=["/","?","#"],l=255,s=/^[a-z0-9A-Z_-]{0,63}$/,i=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},h=N("querystring");function b(oe,Q,I){if(oe&&R(oe)&&oe instanceof C)return oe;var W=new C;return W.parse(oe,Q,I),W}C.prototype.parse=function(oe,Q,I){if(!O(oe))throw new TypeError("Parameter 'url' must be a string, not "+he(oe));var W=oe;W=W.trim();var Z=v.exec(W);if(Z){Z=Z[0];var V=Z.toLowerCase();this.protocol=V,W=W.substr(Z.length)}if(I||Z||W.match(/^\/\/[^@\/]+@[^@\/]+/)){var M=W.substr(0,2)==="//";M&&!(Z&&S[Z])&&(W=W.substr(2),this.slashes=!0)}if(!S[Z]&&(M||Z&&!y[Z])){for(var B=-1,Y=0;Y<c.length;Y++){var K=W.indexOf(c[Y]);K!==-1&&(B===-1||K<B)&&(B=K)}var q,X;B===-1?X=W.lastIndexOf("@"):X=W.lastIndexOf("@",B),X!==-1&&(q=W.slice(0,X),W=W.slice(X+1),this.auth=decodeURIComponent(q)),B=-1;for(var Y=0;Y<p.length;Y++){var K=W.indexOf(p[Y]);K!==-1&&(B===-1||K<B)&&(B=K)}B===-1&&(B=W.length),this.host=W.slice(0,B),W=W.slice(B),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var le=this.hostname.split(/\./),Y=0,ve=le.length;Y<ve;Y++){var _e=le[Y];if(_e&&!_e.match(s)){for(var Ie="",He=0,be=_e.length;He<be;He++)_e.charCodeAt(He)>127?Ie+="x":Ie+=_e[He];if(!Ie.match(s)){var Ae=le.slice(0,Y),we=le.slice(Y+1),Be=_e.match(i);Be&&(Ae.push(Be[1]),we.unshift(Be[2])),we.length&&(W="/"+we.join(".")+W),this.hostname=Ae.join(".");break}}}if(this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),!se){for(var Ve=this.hostname.split("."),Ge=[],Y=0;Y<Ve.length;++Y){var ot=Ve[Y];Ge.push(ot.match(/[^A-Za-z0-9_-]/)?"xn--"+E.encode(ot):ot)}this.hostname=Ge.join(".")}var De=this.port?":"+this.port:"",Re=this.hostname||"";this.host=Re+De,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),W[0]!=="/"&&(W="/"+W))}if(!T[V])for(var Y=0,ve=d.length;Y<ve;Y++){var Ue=d[Y],qe=encodeURIComponent(Ue);qe===Ue&&(qe=escape(Ue)),W=W.split(Ue).join(qe)}var Ye=W.indexOf("#");Ye!==-1&&(this.hash=W.substr(Ye),W=W.slice(0,Ye));var Me=W.indexOf("?");if(Me!==-1?(this.search=W.substr(Me),this.query=W.substr(Me+1),Q&&(this.query=h.parse(this.query)),W=W.slice(0,Me)):Q&&(this.search="",this.query={}),W&&(this.pathname=W),y[V]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var De=this.pathname||"",ot=this.search||"";this.path=De+ot}return this.href=this.format(),this};function A(oe){return O(oe)&&(oe=b(oe)),oe instanceof C?oe.format():C.prototype.format.call(oe)}C.prototype.format=function(){var oe=this.auth||"";oe&&(oe=encodeURIComponent(oe),oe=oe.replace(/%3A/i,":"),oe+="@");var Q=this.protocol||"",I=this.pathname||"",W=this.hash||"",Z=!1,V="";this.host?Z=oe+this.host:this.hostname&&(Z=oe+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&R(this.query)&&Object.keys(this.query).length&&(V=h.stringify(this.query));var M=this.search||V&&"?"+V||"";return Q&&Q.substr(-1)!==":"&&(Q+=":"),this.slashes||(!Q||y[Q])&&Z!==!1?(Z="//"+(Z||""),I&&I.charAt(0)!=="/"&&(I="/"+I)):Z||(Z=""),W&&W.charAt(0)!=="#"&&(W="#"+W),M&&M.charAt(0)!=="?"&&(M="?"+M),I=I.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),M=M.replace("#","%23"),Q+Z+I+M+W};function r(oe,Q){return b(oe,!1,!0).resolve(Q)}C.prototype.resolve=function(oe){return this.resolveObject(b(oe,!1,!0)).format()};function w(oe,Q){return oe?b(oe,!1,!0).resolveObject(Q):Q}C.prototype.resolveObject=function(oe){if(O(oe)){var Q=new C;Q.parse(oe,!1,!0),oe=Q}var I=new C;if(Object.keys(this).forEach(function(be){I[be]=this[be]},this),I.hash=oe.hash,oe.href==="")return I.href=I.format(),I;if(oe.slashes&&!oe.protocol)return Object.keys(oe).forEach(function(be){be!=="protocol"&&(I[be]=oe[be])}),y[I.protocol]&&I.hostname&&!I.pathname&&(I.path=I.pathname="/"),I.href=I.format(),I;if(oe.protocol&&oe.protocol!==I.protocol){if(!y[oe.protocol])return Object.keys(oe).forEach(function(be){I[be]=oe[be]}),I.href=I.format(),I;if(I.protocol=oe.protocol,!oe.host&&!S[oe.protocol]){for(var q=(oe.pathname||"").split("/");q.length&&!(oe.host=q.shift()););oe.host||(oe.host=""),oe.hostname||(oe.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),I.pathname=q.join("/")}else I.pathname=oe.pathname;if(I.search=oe.search,I.query=oe.query,I.host=oe.host||"",I.auth=oe.auth,I.hostname=oe.hostname||oe.host,I.port=oe.port,I.pathname||I.search){var W=I.pathname||"",Z=I.search||"";I.path=W+Z}return I.slashes=I.slashes||oe.slashes,I.href=I.format(),I}var V=I.pathname&&I.pathname.charAt(0)==="/",M=oe.host||oe.pathname&&oe.pathname.charAt(0)==="/",B=M||V||I.host&&oe.pathname,Y=B,K=I.pathname&&I.pathname.split("/")||[],q=oe.pathname&&oe.pathname.split("/")||[],X=I.protocol&&!y[I.protocol];if(X&&(I.hostname="",I.port=null,I.host&&(K[0]===""?K[0]=I.host:K.unshift(I.host)),I.host="",oe.protocol&&(oe.hostname=null,oe.port=null,oe.host&&(q[0]===""?q[0]=oe.host:q.unshift(oe.host)),oe.host=null),B=B&&(q[0]===""||K[0]==="")),M)I.host=oe.host||oe.host===""?oe.host:I.host,I.hostname=oe.hostname||oe.hostname===""?oe.hostname:I.hostname,I.search=oe.search,I.query=oe.query,K=q;else if(q.length)K||(K=[]),K.pop(),K=K.concat(q),I.search=oe.search,I.query=oe.query;else if(!ee(oe.search)){if(X){I.hostname=I.host=K.shift();var se=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;se&&(I.auth=se.shift(),I.host=I.hostname=se.shift())}return I.search=oe.search,I.query=oe.query,(!z(I.pathname)||!z(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.href=I.format(),I}if(!K.length)return I.pathname=null,I.search?I.path="/"+I.search:I.path=null,I.href=I.format(),I;for(var le=K.slice(-1)[0],ve=(I.host||oe.host)&&(le==="."||le==="..")||le==="",_e=0,Ie=K.length;Ie>=0;Ie--)le=K[Ie],le=="."?K.splice(Ie,1):le===".."?(K.splice(Ie,1),_e++):_e&&(K.splice(Ie,1),_e--);if(!B&&!Y)for(;_e--;_e)K.unshift("..");B&&K[0]!==""&&(!K[0]||K[0].charAt(0)!=="/")&&K.unshift(""),ve&&K.join("/").substr(-1)!=="/"&&K.push("");var He=K[0]===""||K[0]&&K[0].charAt(0)==="/";if(X){I.hostname=I.host=He?"":K.length?K.shift():"";var se=I.host&&I.host.indexOf("@")>0?I.host.split("@"):!1;se&&(I.auth=se.shift(),I.host=I.hostname=se.shift())}return B=B||I.host&&K.length,B&&!He&&K.unshift(""),K.length?I.pathname=K.join("/"):(I.pathname=null,I.path=null),(!z(I.pathname)||!z(I.search))&&(I.path=(I.pathname?I.pathname:"")+(I.search?I.search:"")),I.auth=oe.auth||I.auth,I.slashes=I.slashes||oe.slashes,I.href=I.format(),I},C.prototype.parseHost=function(){var oe=this.host,Q=m.exec(oe);Q&&(Q=Q[0],Q!==":"&&(this.port=Q.substr(1)),oe=oe.substr(0,oe.length-Q.length)),oe&&(this.hostname=oe)};function O(oe){return typeof oe=="string"}function R(oe){return he(oe)==="object"&&oe!==null}function z(oe){return oe===null}function ee(oe){return oe==null}},{punycode:92,querystring:95}],101:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;for(var E=[],C=0;C<256;++C)E[C]=(C+256).toString(16).substr(1);function v(f,a){var d=a||0,p=E;return[p[f[d++]],p[f[d++]],p[f[d++]],p[f[d++]],"-",p[f[d++]],p[f[d++]],"-",p[f[d++]],p[f[d++]],"-",p[f[d++]],p[f[d++]],"-",p[f[d++]],p[f[d++]],p[f[d++]],p[f[d++]],p[f[d++]],p[f[d++]]].join("")}var m=v;u.default=m},{}],102:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"v1",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(u,"v3",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(u,"v4",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(u,"v5",{enumerable:!0,get:function(){return m.default}});var E=f(N("./v1.js")),C=f(N("./v3.js")),v=f(N("./v4.js")),m=f(N("./v5.js"));function f(a){return a&&a.__esModule?a:{default:a}}},{"./v1.js":106,"./v3.js":107,"./v4.js":109,"./v5.js":110}],103:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;function E(T){if(typeof T=="string"){var S=unescape(encodeURIComponent(T));T=new Array(S.length);for(var y=0;y<S.length;y++)T[y]=S.charCodeAt(y)}return C(v(m(T),T.length*8))}function C(T){var S,y,h=[],b=T.length*32,A="0123456789abcdef",r;for(S=0;S<b;S+=8)y=T[S>>5]>>>S%32&255,r=parseInt(A.charAt(y>>>4&15)+A.charAt(y&15),16),h.push(r);return h}function v(T,S){T[S>>5]|=128<<S%32,T[(S+64>>>9<<4)+14]=S;var y,h,b,A,r,w=1732584193,O=-271733879,R=-1732584194,z=271733878;for(y=0;y<T.length;y+=16)h=w,b=O,A=R,r=z,w=p(w,O,R,z,T[y],7,-680876936),z=p(z,w,O,R,T[y+1],12,-389564586),R=p(R,z,w,O,T[y+2],17,606105819),O=p(O,R,z,w,T[y+3],22,-1044525330),w=p(w,O,R,z,T[y+4],7,-176418897),z=p(z,w,O,R,T[y+5],12,1200080426),R=p(R,z,w,O,T[y+6],17,-1473231341),O=p(O,R,z,w,T[y+7],22,-45705983),w=p(w,O,R,z,T[y+8],7,1770035416),z=p(z,w,O,R,T[y+9],12,-1958414417),R=p(R,z,w,O,T[y+10],17,-42063),O=p(O,R,z,w,T[y+11],22,-1990404162),w=p(w,O,R,z,T[y+12],7,1804603682),z=p(z,w,O,R,T[y+13],12,-40341101),R=p(R,z,w,O,T[y+14],17,-1502002290),O=p(O,R,z,w,T[y+15],22,1236535329),w=c(w,O,R,z,T[y+1],5,-165796510),z=c(z,w,O,R,T[y+6],9,-1069501632),R=c(R,z,w,O,T[y+11],14,643717713),O=c(O,R,z,w,T[y],20,-373897302),w=c(w,O,R,z,T[y+5],5,-701558691),z=c(z,w,O,R,T[y+10],9,38016083),R=c(R,z,w,O,T[y+15],14,-660478335),O=c(O,R,z,w,T[y+4],20,-405537848),w=c(w,O,R,z,T[y+9],5,568446438),z=c(z,w,O,R,T[y+14],9,-1019803690),R=c(R,z,w,O,T[y+3],14,-187363961),O=c(O,R,z,w,T[y+8],20,1163531501),w=c(w,O,R,z,T[y+13],5,-1444681467),z=c(z,w,O,R,T[y+2],9,-51403784),R=c(R,z,w,O,T[y+7],14,1735328473),O=c(O,R,z,w,T[y+12],20,-1926607734),w=l(w,O,R,z,T[y+5],4,-378558),z=l(z,w,O,R,T[y+8],11,-2022574463),R=l(R,z,w,O,T[y+11],16,1839030562),O=l(O,R,z,w,T[y+14],23,-35309556),w=l(w,O,R,z,T[y+1],4,-1530992060),z=l(z,w,O,R,T[y+4],11,1272893353),R=l(R,z,w,O,T[y+7],16,-155497632),O=l(O,R,z,w,T[y+10],23,-1094730640),w=l(w,O,R,z,T[y+13],4,681279174),z=l(z,w,O,R,T[y],11,-358537222),R=l(R,z,w,O,T[y+3],16,-722521979),O=l(O,R,z,w,T[y+6],23,76029189),w=l(w,O,R,z,T[y+9],4,-640364487),z=l(z,w,O,R,T[y+12],11,-421815835),R=l(R,z,w,O,T[y+15],16,530742520),O=l(O,R,z,w,T[y+2],23,-995338651),w=s(w,O,R,z,T[y],6,-198630844),z=s(z,w,O,R,T[y+7],10,1126891415),R=s(R,z,w,O,T[y+14],15,-1416354905),O=s(O,R,z,w,T[y+5],21,-57434055),w=s(w,O,R,z,T[y+12],6,1700485571),z=s(z,w,O,R,T[y+3],10,-1894986606),R=s(R,z,w,O,T[y+10],15,-1051523),O=s(O,R,z,w,T[y+1],21,-2054922799),w=s(w,O,R,z,T[y+8],6,1873313359),z=s(z,w,O,R,T[y+15],10,-30611744),R=s(R,z,w,O,T[y+6],15,-1560198380),O=s(O,R,z,w,T[y+13],21,1309151649),w=s(w,O,R,z,T[y+4],6,-145523070),z=s(z,w,O,R,T[y+11],10,-1120210379),R=s(R,z,w,O,T[y+2],15,718787259),O=s(O,R,z,w,T[y+9],21,-343485551),w=f(w,h),O=f(O,b),R=f(R,A),z=f(z,r);return[w,O,R,z]}function m(T){var S,y=[];for(y[(T.length>>2)-1]=void 0,S=0;S<y.length;S+=1)y[S]=0;var h=T.length*8;for(S=0;S<h;S+=8)y[S>>5]|=(T[S/8]&255)<<S%32;return y}function f(T,S){var y=(T&65535)+(S&65535),h=(T>>16)+(S>>16)+(y>>16);return h<<16|y&65535}function a(T,S){return T<<S|T>>>32-S}function d(T,S,y,h,b,A){return f(a(f(f(S,T),f(h,A)),b),y)}function p(T,S,y,h,b,A,r){return d(S&y|~S&h,T,S,b,A,r)}function c(T,S,y,h,b,A,r){return d(S&h|y&~h,T,S,b,A,r)}function l(T,S,y,h,b,A,r){return d(S^y^h,T,S,b,A,r)}function s(T,S,y,h,b,A,r){return d(y^(S|~h),T,S,b,A,r)}var i=E;u.default=i},{}],104:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=v;var E=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),C=new Uint8Array(16);function v(){if(!E)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(C)}},{}],105:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;function E(f,a,d,p){switch(f){case 0:return a&d^~a&p;case 1:return a^d^p;case 2:return a&d^a&p^d&p;case 3:return a^d^p}}function C(f,a){return f<<a|f>>>32-a}function v(f){var a=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof f=="string"){var p=unescape(encodeURIComponent(f));f=new Array(p.length);for(var c=0;c<p.length;c++)f[c]=p.charCodeAt(c)}f.push(128);for(var l=f.length/4+2,s=Math.ceil(l/16),i=new Array(s),c=0;c<s;c++){i[c]=new Array(16);for(var T=0;T<16;T++)i[c][T]=f[c*64+T*4]<<24|f[c*64+T*4+1]<<16|f[c*64+T*4+2]<<8|f[c*64+T*4+3]}i[s-1][14]=(f.length-1)*8/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=(f.length-1)*8&4294967295;for(var c=0;c<s;c++){for(var S=new Array(80),y=0;y<16;y++)S[y]=i[c][y];for(var y=16;y<80;y++)S[y]=C(S[y-3]^S[y-8]^S[y-14]^S[y-16],1);for(var h=d[0],b=d[1],A=d[2],r=d[3],w=d[4],y=0;y<80;y++){var O=Math.floor(y/20),R=C(h,5)+E(O,b,A,r)+w+a[O]+S[y]>>>0;w=r,r=A,A=C(b,30)>>>0,b=h,h=R}d[0]=d[0]+h>>>0,d[1]=d[1]+b>>>0,d[2]=d[2]+A>>>0,d[3]=d[3]+r>>>0,d[4]=d[4]+w>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,d[0]&255,d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,d[1]&255,d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,d[2]&255,d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,d[3]&255,d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,d[4]&255]}var m=v;u.default=m},{}],106:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var E=v(N("./rng.js")),C=v(N("./bytesToUuid.js"));function v(l){return l&&l.__esModule?l:{default:l}}var m,f,a=0,d=0;function p(l,s,i){var T=s&&i||0,S=s||[];l=l||{};var y=l.node||m,h=l.clockseq!==void 0?l.clockseq:f;if(y==null||h==null){var b=l.random||(l.rng||E.default)();y==null&&(y=m=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),h==null&&(h=f=(b[6]<<8|b[7])&16383)}var A=l.msecs!==void 0?l.msecs:new Date().getTime(),r=l.nsecs!==void 0?l.nsecs:d+1,w=A-a+(r-d)/1e4;if(w<0&&l.clockseq===void 0&&(h=h+1&16383),(w<0||A>a)&&l.nsecs===void 0&&(r=0),r>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=A,d=r,f=h,A+=122192928e5;var O=((A&268435455)*1e4+r)%4294967296;S[T++]=O>>>24&255,S[T++]=O>>>16&255,S[T++]=O>>>8&255,S[T++]=O&255;var R=A/4294967296*1e4&268435455;S[T++]=R>>>8&255,S[T++]=R&255,S[T++]=R>>>24&15|16,S[T++]=R>>>16&255,S[T++]=h>>>8|128,S[T++]=h&255;for(var z=0;z<6;++z)S[T+z]=y[z];return s||(0,C.default)(S)}var c=p;u.default=c},{"./bytesToUuid.js":101,"./rng.js":104}],107:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var E=v(N("./v35.js")),C=v(N("./md5.js"));function v(a){return a&&a.__esModule?a:{default:a}}var m=(0,E.default)("v3",48,C.default),f=m;u.default=f},{"./md5.js":103,"./v35.js":108}],108:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=d,u.URL=u.DNS=void 0;var E=C(N("./bytesToUuid.js"));function C(p){return p&&p.__esModule?p:{default:p}}function v(p){var c=[];return p.replace(/[a-fA-F0-9]{2}/g,function(l){c.push(parseInt(l,16))}),c}function m(p){p=unescape(encodeURIComponent(p));for(var c=new Array(p.length),l=0;l<p.length;l++)c[l]=p.charCodeAt(l);return c}var f="6ba7b810-9dad-11d1-80b4-00c04fd430c8";u.DNS=f;var a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";u.URL=a;function d(p,c,l){var s=function(T,S,y,h){var b=y&&h||0;if(typeof T=="string"&&(T=m(T)),typeof S=="string"&&(S=v(S)),!Array.isArray(T))throw TypeError("value must be an array of bytes");if(!Array.isArray(S)||S.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var A=l(S.concat(T));if(A[6]=A[6]&15|c,A[8]=A[8]&63|128,y)for(var r=0;r<16;++r)y[b+r]=A[r];return y||(0,E.default)(A)};try{s.name=p}catch{}return s.DNS=f,s.URL=a,s}},{"./bytesToUuid.js":101}],109:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var E=v(N("./rng.js")),C=v(N("./bytesToUuid.js"));function v(a){return a&&a.__esModule?a:{default:a}}function m(a,d,p){var c=d&&p||0;typeof a=="string"&&(d=a==="binary"?new Array(16):null,a=null),a=a||{};var l=a.random||(a.rng||E.default)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,d)for(var s=0;s<16;++s)d[c+s]=l[s];return d||(0,C.default)(l)}var f=m;u.default=f},{"./bytesToUuid.js":101,"./rng.js":104}],110:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var E=v(N("./v35.js")),C=v(N("./sha1.js"));function v(a){return a&&a.__esModule?a:{default:a}}var m=(0,E.default)("v5",80,C.default),f=m;u.default=f},{"./sha1.js":105,"./v35.js":108}],111:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0});var E=N("./utils/LRU"),C=1e3,v=function(){function m(f){f===void 0&&(f=C),this.maxSize=f,this.cache=new E.LRUCache(f)}return Object.defineProperty(m.prototype,"size",{get:function(){return this.cache.length},enumerable:!0,configurable:!0}),m.prototype.put=function(f,a){var d=typeof f!="string"?m.getKeyString(f):f,p=this.populateValue(a);this.cache.put(d,p)},m.prototype.get=function(f){var a=typeof f!="string"?m.getKeyString(f):f,d=Date.now(),p=this.cache.get(a);if(p){for(var c=p.length-1;c>=0;c--){var l=p[c];l.Expire<d&&p.splice(c,1)}if(p.length===0){this.cache.remove(a);return}}return p},m.getKeyString=function(f){for(var a=[],d=Object.keys(f).sort(),p=0;p<d.length;p++){var c=d[p];f[c]!==void 0&&a.push(f[c])}return a.join(" ")},m.prototype.populateValue=function(f){var a=Date.now();return f.map(function(d){return{Address:d.Address||"",Expire:a+(d.CachePeriodInMinutes||1)*60*1e3}})},m.prototype.empty=function(){this.cache.empty()},m.prototype.remove=function(f){var a=typeof f!="string"?m.getKeyString(f):f;this.cache.remove(a)},m}();u.EndpointCache=v},{"./utils/LRU":112}],112:[function(N,L,u){Object.defineProperty(u,"__esModule",{value:!0});var E=function(){function v(m,f){this.key=m,this.value=f}return v}(),C=function(){function v(m){if(this.nodeMap={},this.size=0,typeof m!="number"||m<1)throw new Error("Cache size can only be positive number");this.sizeLimit=m}return Object.defineProperty(v.prototype,"length",{get:function(){return this.size},enumerable:!0,configurable:!0}),v.prototype.prependToList=function(m){this.headerNode?(this.headerNode.prev=m,m.next=this.headerNode):this.tailNode=m,this.headerNode=m,this.size++},v.prototype.removeFromTail=function(){if(this.tailNode){var m=this.tailNode,f=m.prev;return f&&(f.next=void 0),m.prev=void 0,this.tailNode=f,this.size--,m}},v.prototype.detachFromList=function(m){this.headerNode===m&&(this.headerNode=m.next),this.tailNode===m&&(this.tailNode=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),m.next=void 0,m.prev=void 0,this.size--},v.prototype.get=function(m){if(this.nodeMap[m]){var f=this.nodeMap[m];return this.detachFromList(f),this.prependToList(f),f.value}},v.prototype.remove=function(m){if(this.nodeMap[m]){var f=this.nodeMap[m];this.detachFromList(f),delete this.nodeMap[m]}},v.prototype.put=function(m,f){if(this.nodeMap[m])this.remove(m);else if(this.size===this.sizeLimit){var a=this.removeFromTail(),d=a.key;delete this.nodeMap[d]}var p=new E(m,f);this.nodeMap[m]=p,this.prependToList(p)},v.prototype.empty=function(){for(var m=Object.keys(this.nodeMap),f=0;f<m.length;f++){var a=m[f],d=this.nodeMap[a];this.detachFromList(d),delete this.nodeMap[a]}},v}();u.LRUCache=C},{}],113:[function(N,L,u){N("./browser_loader");var E=N("./core");typeof window<"u"&&(window.AWS=E),typeof L<"u"&&(L.exports=E),typeof self<"u"&&(self.AWS=E),Object.prototype.hasOwnProperty.call(E,"Connect")||(E.apiLoader.services.connect={},E.Connect=E.Service.defineService("connect",["2017-02-15"])),E.apiLoader.services.connect["2017-02-15"]=N("../apis/connect-2017-02-15.min")},{"../apis/connect-2017-02-15.min":3,"./browser_loader":16,"./core":19}]},{},[113])},555:()=>{function ae(L){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ae(L)}function ie(L,u){var E=Object.keys(L);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(L);u&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(L,v).enumerable})),E.push.apply(E,C)}return E}function ue(L){for(var u=1;u<arguments.length;u++){var E=arguments[u]!=null?arguments[u]:{};u%2?ie(Object(E),!0).forEach(function(C){Oe(L,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(E)):ie(Object(E)).forEach(function(C){Object.defineProperty(L,C,Object.getOwnPropertyDescriptor(E,C))})}return L}function Oe(L,u,E){return(u=he(u))in L?Object.defineProperty(L,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[u]=E,L}function he(L){var u=N(L,"string");return ae(u)=="symbol"?u:u+""}function N(L,u){if(ae(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var C=E.call(L,u);if(ae(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(L)}(function(){var L=this||globalThis,u=L.connect||{};L.connect=u,L.lily=u,u.ClientMethods=u.makeEnum(["getAgentSnapshot","putAgentState","getAgentStates","getDialableCountryCodes","getRoutingProfileQueues","getAgentPermissions","getAgentConfiguration","updateAgentConfiguration","acceptContact","createOutboundContact","createTaskContact","clearContact","completeContact","destroyContact","rejectContact","notifyContactIssue","updateContactAttributes","createAdditionalConnection","destroyConnection","holdConnection","resumeConnection","toggleActiveConnections","conferenceConnections","sendClientLogs","sendDigits","sendSoftphoneCallReport","sendSoftphoneCallMetrics","getEndpoints","getNewAuthToken","createTransport","muteParticipant","unmuteParticipant","updateMonitorParticipantState","pauseContact","resumeContact","addNewConnection","transferContact"]),u.AgentAppClientMethods={GET_CONTACT:"AgentAppService.Lcms.getContact",DELETE_SPEAKER:"AgentAppService.VoiceId.deleteSpeaker",ENROLL_BY_SESSION:"AgentAppService.VoiceId.enrollBySession",EVALUATE_SESSION:"AgentAppService.VoiceId.evaluateSession",DESCRIBE_SPEAKER:"AgentAppService.VoiceId.describeSpeaker",OPT_OUT_SPEAKER:"AgentAppService.VoiceId.optOutSpeaker",UPDATE_VOICE_ID_DATA:"AgentAppService.Lcms.updateVoiceIdData",DESCRIBE_SESSION:"AgentAppService.VoiceId.describeSession",UPDATE_SESSION:"AgentAppService.VoiceId.updateSession",START_VOICE_ID_SESSION:"AgentAppService.Nasa.startVoiceIdSession",LIST_INTEGRATION_ASSOCIATIONS:"AgentAppService.Acs.listIntegrationAssociations"},u.MasterMethods=u.makeEnum(["becomeMaster","checkMaster"]),u.TaskTemplatesClientMethods=u.makeEnum(["listTaskTemplates","getTaskTemplate","createTemplatedTask","updateContact"]),u.ApiProxyClientMethods={QR_INTEGRATION_EXISTS:"qrIntegrationExists",QR_SEARCH_QUICK_RESPONSES:"qrSearchQuickResponses",START_SCREEN_SHARING:"startScreenSharing"},u.RetryableClientMethodsList=[u.ClientMethods.GET_AGENT_SNAPSHOT,u.ClientMethods.GET_AGENT_CONFIGURATION,u.ClientMethods.GET_AGENT_PERMISSIONS,u.ClientMethods.GET_AGENT_STATES,u.ClientMethods.GET_DIALABLE_COUNTRY_CODES,u.ClientMethods.GET_ROUTING_PROFILE_QUEUES],u.RetryableErrors=u.makeEnum(["unauthorized","accessDenied"]),u.RetryStatus=u.makeEnum(["retrying","exhausted","none"]);var E=function(){};E.EMPTY_CALLBACKS={success:function(){},failure:function(){}},E.prototype.call=function(l,s,i){u.assertNotNull(l,"method");var T=s||{},S=i||E.EMPTY_CALLBACKS;this._callImpl(l,T,S)},E.prototype._callImpl=function(l,s,i){throw new u.NotImplementedError};var C=function(){E.call(this)};C.prototype=Object.create(E.prototype),C.prototype.constructor=C,C.prototype._callImpl=function(l,s,i){if(i&&i.failure){var T=u.sprintf("No such method exists on NULL client: %s",l);i.failure(new u.ValueError(T),{message:T})}};var v=function(s,i,T){E.call(this),this.conduit=s,this.requestEvent=i,this.responseEvent=T,this._requestIdCallbacksMap={},this.conduit.onUpstream(T,u.hitch(this,this._handleResponse))};v.prototype=Object.create(E.prototype),v.prototype.constructor=v,v.prototype._callImpl=function(l,s,i){var T=u.EventFactory.createRequest(this.requestEvent,l,s);this._requestIdCallbacksMap[T.requestId]=i;var S=[u.ClientMethods.SEND_CLIENT_LOGS,u.ClientMethods.SEND_SOFTPHONE_CALL_METRICS,u.ClientMethods.SEND_SOFTPHONE_CALL_REPORT];try{T.event===u.EventType.API_REQUEST&&!S.includes(T.method)&&u.getLog().trace("Sending API_REQUEST event for ".concat(T.method," to upstream")).withObject({method:T.method,params:T.params,stack:new Error().stack}).sendInternalLogToServer()}catch(y){u.getLog().error("Stack trace Log Failed").withObject({err:y}).sendInternalLogToServer()}this.conduit.sendUpstream(T.event,T)},v.prototype._getCallbacksForRequest=function(l){var s=this._requestIdCallbacksMap[l]||null;return s!=null&&delete this._requestIdCallbacksMap[l],s},v.prototype._handleResponse=function(l){var s=this._getCallbacksForRequest(l.requestId);s!=null&&(l.err&&s.failure?s.failure(l.err,l.data):s.success&&s.success(l.data))};var m=function(s){v.call(this,s,u.EventType.API_REQUEST,u.EventType.API_RESPONSE)};m.prototype=Object.create(v.prototype),m.prototype.constructor=m;var f=function(){E.call(this);var s=u.core.getEventBus();s.subscribe(u.EventType.API_PROXY_RESPONSE,u.hitch(this,this._handleResponse)),this._requestIdCallbacksMap={}};f.prototype=Object.create(E.prototype),f.prototype.constructor=f,f.prototype._callImpl=function(l,s,i){var T=u.EventFactory.createRequest(u.EventType.API_PROXY_REQUEST,l,s);this._requestIdCallbacksMap[T.requestId]=i,u.core.getEventBus().trigger(u.EventType.API_PROXY_REQUEST,T)},f.prototype._getCallbacksForRequest=function(l){var s=this._requestIdCallbacksMap[l]||null;return s!=null&&delete this._requestIdCallbacksMap[l],s},f.prototype._handleResponse=function(l){var s=this._getCallbacksForRequest(l.requestId);s!=null&&(l.err&&s.failure?s.failure(l.err,l.data):s.success&&s.success(l.data))};var a=function(s){v.call(this,s,u.EventType.MASTER_REQUEST,u.EventType.MASTER_RESPONSE)};a.prototype=Object.create(v.prototype),a.prototype.constructor=a;var d=function(s,i,T){u.assertNotNull(s,"authCookieName"),u.assertNotNull(i,"authToken"),u.assertNotNull(T,"endpoint"),E.call(this),this.endpointUrl=u.getUrlWithProtocol(T),this.authToken=i,this.authCookieName=s};d.prototype=Object.create(E.prototype),d.prototype.constructor=d,d.prototype._callImpl=function(l,s,i){var T=this,S={};S[T.authCookieName]=T.authToken;var y={method:"post",body:JSON.stringify(s||{}),headers:{Accept:"application/json","Content-Type":"application/json","X-Amz-target":l,"X-Amz-Bearer":JSON.stringify(S)}};u.fetch(T.endpointUrl,y).then(function(h){i.success(h)}).catch(function(h){var b=h.body.getReader(),A="",r=new TextDecoder;b.read().then(function w(O){var R=O.done,z=O.value;if(R){var ee=JSON.parse(A);ee.status=h.status,i.failure(ee);return}return A+=r.decode(z),b.read().then(w)})})};var p=function(s,i,T){u.assertNotNull(s,"authToken"),u.assertNotNull(i,"region"),E.call(this),AWS.config.credentials=new AWS.Credentials({}),AWS.config.region=i,this.authToken=s;var S=u.getBaseUrl(),y=T||(S.includes(".awsapps.com")?S+"/connect/api":S+"/api"),h=new AWS.Endpoint(y);this.client=new AWS.Connect({endpoint:h}),this.unauthorizedFailCounter=0,this.accessDeniedFailCounter=0};p.prototype=Object.create(E.prototype),p.prototype.constructor=p,p.prototype._callImpl=function(l,s,i){var T=this,S=u.getLog();if(u.contains(this.client,l))s=this._translateParams(l,s),s&&s.relatedContactId&&s.relatedContactId!==null&&s.previousContactId&&delete s.previousContactId,S.trace("AWSClient: --> Calling operation '%s'",l).sendInternalLogToServer(),this.client[l](s).on("build",function(h){h.httpRequest.headers["X-Amz-Bearer"]=T.authToken}).send(function(h,b){try{if(h)h.code===u.CTIExceptions.UNAUTHORIZED_EXCEPTION||h.statusCode===401?T._retryMethod(l,i,h,b,u.RetryableErrors.UNAUTHORIZED):h.code===u.CTIExceptions.ACCESS_DENIED_EXCEPTION||h.statusCode===403?T._retryMethod(l,i,h,b,u.RetryableErrors.ACCESS_DENIED):(T.unauthorizedFailCounter=0,T.accessDeniedFailCounter=0,i.failure(T._formatCallError(T._addStatusCodeToError(h)),b)),S.trace("AWSClient: <-- Operation '%s' failed: %s",l,JSON.stringify(h)).sendInternalLogToServer();else{var A={};S.trace("AWSClient: <-- Operation '%s' succeeded.",l).withObject(b).sendInternalLogToServer(),T.unauthorizedFailCounter=0,T.accessDeniedFailCounter=0,this.httpResponse&&this.httpResponse.hasOwnProperty("body")&&(A.contentLength=this.httpResponse.body.length),i.success(b,A)}}catch(r){u.getLog().error("Failed to handle AWS API request for method %s",l).withException(r).sendInternalLogToServer()}});else{var y=u.sprintf("No such method exists on AWS client: %s",l);i.failure(new u.ValueError(y),{message:y})}},p.prototype._isRetryableMethod=function(l){return u.RetryableClientMethodsList.includes(l)},p.prototype._retryMethod=function(l,s,i,T,S){var y=this,h=u.getLog(),b=function(O){return y._formatCallError(y._addStatusCodeToError(O))},A={maxCount:u.core.MAX_UNAUTHORIZED_RETRY_COUNT,failCounter:y.unauthorizedFailCounter,increaseCounter:function(){return y.unauthorizedFailCounter+=1},resetCounter:function(){return y.unauthorizedFailCounter=0},errorMessage:"unauthorized",exhaustedRetries:y.unauthorizedFailCounter>=u.core.MAX_UNAUTHORIZED_RETRY_COUNT,retryCallback:function(O,R){return s.failure(b(O),R)},defaultCallback:function(O,R){return s.authFailure(b(O),R)}};switch(S){case u.RetryableErrors.UNAUTHORIZED:break;case u.RetryableErrors.ACCESS_DENIED:A=ue(ue({},A),{},{maxCount:u.core.MAX_ACCESS_DENIED_RETRY_COUNT,failCounter:y.accessDeniedFailCounter,increaseCounter:function(){return y.accessDeniedFailCounter+=1},resetCounter:function(){return y.accessDeniedFailCounter=0},errorMessage:"access denied",exhaustedRetries:y.accessDeniedFailCounter>=u.core.MAX_ACCESS_DENIED_RETRY_COUNT,defaultCallback:function(O,R){return s.accessDenied(b(O),R)}});break}var r=ue(ue({},i),{},{retryStatus:u.RetryStatus.NONE});if(y._isRetryableMethod(l))if(A.exhaustedRetries)h.trace("AWSClient: <-- Operation ".concat(l," exhausted max ").concat(A.maxCount," number of retries for ").concat(A.errorMessage," error")).sendInternalLogToServer(),A.resetCounter(),r=ue(ue({},r),{},{retryStatus:u.RetryStatus.EXHAUSTED});else{h.trace("AWSClient: <-- Operation ".concat(l," failed with ").concat(A.errorMessage," error. Retrying call for a ").concat(A.failCounter+1," time")).sendInternalLogToServer(),A.increaseCounter(),r=ue(ue({},r),{},{retryStatus:u.RetryStatus.RETRYING}),A.retryCallback(r,T);return}else h.trace("AWSClient: <-- Operation ".concat(l," failed: ").concat(JSON.stringify(i))).sendInternalLogToServer();A.defaultCallback(r,T)},p.prototype._formatCallError=function(l){var s=ue({type:l.code,message:l.message,stack:[],retryStatus:l.retryStatus||u.RetryStatus.NONE},l.statusCode&&{statusCode:l.statusCode});if(l.stack)try{Array.isArray(l.stack)?s.stack=l.stack:ae(l.stack)==="object"?s.stack=[JSON.stringify(l.stack)]:typeof l.stack=="string"&&(s.stack=l.stack.split(`
`))}finally{}return s},p.prototype._addStatusCodeToError=function(l){if(l.statusCode)return l;var s=ue({},l);if(!l.code)s.statusCode=400;else switch(s.code){case u.CTIExceptions.UNAUTHORIZED_EXCEPTION:s.statusCode=401;break;case u.CTIExceptions.ACCESS_DENIED_EXCEPTION:s.statusCode=403;break}return s},p.prototype._requiresAuthenticationParam=function(l){return l!==u.ClientMethods.COMPLETE_CONTACT&&l!==u.ClientMethods.CLEAR_CONTACT&&l!==u.ClientMethods.REJECT_CONTACT&&l!==u.ClientMethods.CREATE_TASK_CONTACT&&l!==u.ClientMethods.UPDATE_MONITOR_PARTICIPANT_STATE&&l!==u.ClientMethods.PAUSE_CONTACT&&l!==u.ClientMethods.RESUME_CONTACT&&l!==u.ClientMethods.ADD_NEW_CONNECTION&&l!==u.ClientMethods.TRANSFER_CONTACT},p.prototype._translateParams=function(l,s){switch(l){case u.ClientMethods.UPDATE_AGENT_CONFIGURATION:s.configuration=this._translateAgentConfiguration(s.configuration);break;case u.ClientMethods.SEND_SOFTPHONE_CALL_METRICS:s.softphoneStreamStatistics=this._translateSoftphoneStreamStatistics(s.softphoneStreamStatistics);break;case u.ClientMethods.SEND_SOFTPHONE_CALL_REPORT:s.report=this._translateSoftphoneCallReport(s.report);break}return this._requiresAuthenticationParam(l)&&(s.authentication={authToken:this.authToken}),s},p.prototype._translateAgentConfiguration=function(l){return{name:l.name,softphoneEnabled:l.softphoneEnabled,softphoneAutoAccept:l.softphoneAutoAccept,extension:l.extension,routingProfile:this._translateRoutingProfile(l.routingProfile),agentPreferences:l.agentPreferences}},p.prototype._translateRoutingProfile=function(l){return{name:l.name,routingProfileARN:l.routingProfileARN,defaultOutboundQueue:this._translateQueue(l.defaultOutboundQueue)}},p.prototype._translateQueue=function(l){return{queueARN:l.queueARN,name:l.name}},p.prototype._translateSoftphoneStreamStatistics=function(l){return l.forEach(function(s){"packetsCount"in s&&(s.packetCount=s.packetsCount,delete s.packetsCount)}),l},p.prototype._translateSoftphoneCallReport=function(l){return"handshakingTimeMillis"in l&&(l.handshakeTimeMillis=l.handshakingTimeMillis,delete l.handshakingTimeMillis),"preTalkingTimeMillis"in l&&(l.preTalkTimeMillis=l.preTalkingTimeMillis,delete l.preTalkingTimeMillis),"handshakingFailure"in l&&(l.handshakeFailure=l.handshakingFailure,delete l.handshakingFailure),"talkingTimeMillis"in l&&(l.talkTimeMillis=l.talkingTimeMillis,delete l.talkingTimeMillis),l.softphoneStreamStatistics=this._translateSoftphoneStreamStatistics(l.softphoneStreamStatistics),l};var c=function(s){if(u.assertNotNull(s,"endpoint"),E.call(this),s.includes("/task-templates"))this.endpointUrl=u.getUrlWithProtocol(s);else{var i=new AWS.Endpoint(s),T=s.includes(".awsapps.com")?"/connect":"";this.endpointUrl=u.getUrlWithProtocol("".concat(i.host).concat(T,"/task-templates/api/ccp"))}};c.prototype=Object.create(E.prototype),c.prototype.constructor=c,c.prototype._callImpl=function(l,s,i){s&&s.relatedContactId&&s.relatedContactId!==null&&s.previousContactId&&delete s.previousContactId,u.assertNotNull(l,"method"),u.assertNotNull(s,"params");var T={credentials:"include",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-csrf-token":"csrf"}},S=s.instanceId,y=this.endpointUrl,h=u.TaskTemplatesClientMethods;switch(l){case h.LIST_TASK_TEMPLATES:if(y+="/proxy/instance/".concat(S,"/task/template"),s.queryParams){var b=new URLSearchParams(s.queryParams).toString();b&&(y+="?".concat(b))}break;case h.GET_TASK_TEMPLATE:u.assertNotNull(s.templateParams,"params.templateParams");var A=u.assertNotNull(s.templateParams.id,"params.templateParams.id"),r=s.templateParams.version;y+="/proxy/instance/".concat(S,"/task/template/").concat(A),r&&(y+="?snapshotVersion=".concat(r));break;case h.CREATE_TEMPLATED_TASK:y+="/".concat(l),T.body=JSON.stringify(s),T.method="PUT";break;case h.UPDATE_CONTACT:y+="/".concat(l),T.body=JSON.stringify(s),T.method="POST"}u.fetch(y,T).then(function(w){i.success(w)}).catch(function(w){var O=w.body.getReader(),R="",z=new TextDecoder;O.read().then(function ee(oe){var Q=oe.done,I=oe.value;if(Q){var W=JSON.parse(R);W.status=w.status,i.failure(W);return}return R+=z.decode(I),O.read().then(ee)})})},u.ClientBase=E,u.NullClient=C,u.UpstreamConduitClient=m,u.ApiProxyClient=f,u.UpstreamConduitMasterClient=a,u.AWSClient=p,u.AgentAppClient=d,u.TaskTemplatesClient=c})()},399:(ae,ie,ue)=>{function Oe(A){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Oe(A)}function he(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */he=function(){return r};var A,r={},w=Object.prototype,O=w.hasOwnProperty,R=Object.defineProperty||function(De,Re,Ue){De[Re]=Ue.value},z=typeof Symbol=="function"?Symbol:{},ee=z.iterator||"@@iterator",oe=z.asyncIterator||"@@asyncIterator",Q=z.toStringTag||"@@toStringTag";function I(De,Re,Ue){return Object.defineProperty(De,Re,{value:Ue,enumerable:!0,configurable:!0,writable:!0}),De[Re]}try{I({},"")}catch{I=function(Ue,qe,Ye){return Ue[qe]=Ye}}function W(De,Re,Ue,qe){var Ye=Re&&Re.prototype instanceof q?Re:q,Me=Object.create(Ye.prototype),$=new Ge(qe||[]);return R(Me,"_invoke",{value:Ae(De,Ue,$)}),Me}function Z(De,Re,Ue){try{return{type:"normal",arg:De.call(Re,Ue)}}catch(qe){return{type:"throw",arg:qe}}}r.wrap=W;var V="suspendedStart",M="suspendedYield",B="executing",Y="completed",K={};function q(){}function X(){}function se(){}var le={};I(le,ee,function(){return this});var ve=Object.getPrototypeOf,_e=ve&&ve(ve(ot([])));_e&&_e!==w&&O.call(_e,ee)&&(le=_e);var Ie=se.prototype=q.prototype=Object.create(le);function He(De){["next","throw","return"].forEach(function(Re){I(De,Re,function(Ue){return this._invoke(Re,Ue)})})}function be(De,Re){function Ue(Ye,Me,$,k){var U=Z(De[Ye],De,Me);if(U.type!=="throw"){var ne=U.arg,de=ne.value;return de&&Oe(de)=="object"&&O.call(de,"__await")?Re.resolve(de.__await).then(function(pe){Ue("next",pe,$,k)},function(pe){Ue("throw",pe,$,k)}):Re.resolve(de).then(function(pe){ne.value=pe,$(ne)},function(pe){return Ue("throw",pe,$,k)})}k(U.arg)}var qe;R(this,"_invoke",{value:function(Me,$){function k(){return new Re(function(U,ne){Ue(Me,$,U,ne)})}return qe=qe?qe.then(k,k):k()}})}function Ae(De,Re,Ue){var qe=V;return function(Ye,Me){if(qe===B)throw Error("Generator is already running");if(qe===Y){if(Ye==="throw")throw Me;return{value:A,done:!0}}for(Ue.method=Ye,Ue.arg=Me;;){var $=Ue.delegate;if($){var k=we($,Ue);if(k){if(k===K)continue;return k}}if(Ue.method==="next")Ue.sent=Ue._sent=Ue.arg;else if(Ue.method==="throw"){if(qe===V)throw qe=Y,Ue.arg;Ue.dispatchException(Ue.arg)}else Ue.method==="return"&&Ue.abrupt("return",Ue.arg);qe=B;var U=Z(De,Re,Ue);if(U.type==="normal"){if(qe=Ue.done?Y:M,U.arg===K)continue;return{value:U.arg,done:Ue.done}}U.type==="throw"&&(qe=Y,Ue.method="throw",Ue.arg=U.arg)}}}function we(De,Re){var Ue=Re.method,qe=De.iterator[Ue];if(qe===A)return Re.delegate=null,Ue==="throw"&&De.iterator.return&&(Re.method="return",Re.arg=A,we(De,Re),Re.method==="throw")||Ue!=="return"&&(Re.method="throw",Re.arg=new TypeError("The iterator does not provide a '"+Ue+"' method")),K;var Ye=Z(qe,De.iterator,Re.arg);if(Ye.type==="throw")return Re.method="throw",Re.arg=Ye.arg,Re.delegate=null,K;var Me=Ye.arg;return Me?Me.done?(Re[De.resultName]=Me.value,Re.next=De.nextLoc,Re.method!=="return"&&(Re.method="next",Re.arg=A),Re.delegate=null,K):Me:(Re.method="throw",Re.arg=new TypeError("iterator result is not an object"),Re.delegate=null,K)}function Be(De){var Re={tryLoc:De[0]};1 in De&&(Re.catchLoc=De[1]),2 in De&&(Re.finallyLoc=De[2],Re.afterLoc=De[3]),this.tryEntries.push(Re)}function Ve(De){var Re=De.completion||{};Re.type="normal",delete Re.arg,De.completion=Re}function Ge(De){this.tryEntries=[{tryLoc:"root"}],De.forEach(Be,this),this.reset(!0)}function ot(De){if(De||De===""){var Re=De[ee];if(Re)return Re.call(De);if(typeof De.next=="function")return De;if(!isNaN(De.length)){var Ue=-1,qe=function Ye(){for(;++Ue<De.length;)if(O.call(De,Ue))return Ye.value=De[Ue],Ye.done=!1,Ye;return Ye.value=A,Ye.done=!0,Ye};return qe.next=qe}}throw new TypeError(Oe(De)+" is not iterable")}return X.prototype=se,R(Ie,"constructor",{value:se,configurable:!0}),R(se,"constructor",{value:X,configurable:!0}),X.displayName=I(se,Q,"GeneratorFunction"),r.isGeneratorFunction=function(De){var Re=typeof De=="function"&&De.constructor;return!!Re&&(Re===X||(Re.displayName||Re.name)==="GeneratorFunction")},r.mark=function(De){return Object.setPrototypeOf?Object.setPrototypeOf(De,se):(De.__proto__=se,I(De,Q,"GeneratorFunction")),De.prototype=Object.create(Ie),De},r.awrap=function(De){return{__await:De}},He(be.prototype),I(be.prototype,oe,function(){return this}),r.AsyncIterator=be,r.async=function(De,Re,Ue,qe,Ye){Ye===void 0&&(Ye=Promise);var Me=new be(W(De,Re,Ue,qe),Ye);return r.isGeneratorFunction(Re)?Me:Me.next().then(function($){return $.done?$.value:Me.next()})},He(Ie),I(Ie,Q,"Generator"),I(Ie,ee,function(){return this}),I(Ie,"toString",function(){return"[object Generator]"}),r.keys=function(De){var Re=Object(De),Ue=[];for(var qe in Re)Ue.push(qe);return Ue.reverse(),function Ye(){for(;Ue.length;){var Me=Ue.pop();if(Me in Re)return Ye.value=Me,Ye.done=!1,Ye}return Ye.done=!0,Ye}},r.values=ot,Ge.prototype={constructor:Ge,reset:function(Re){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(Ve),!Re)for(var Ue in this)Ue.charAt(0)==="t"&&O.call(this,Ue)&&!isNaN(+Ue.slice(1))&&(this[Ue]=A)},stop:function(){this.done=!0;var Re=this.tryEntries[0].completion;if(Re.type==="throw")throw Re.arg;return this.rval},dispatchException:function(Re){if(this.done)throw Re;var Ue=this;function qe(ne,de){return $.type="throw",$.arg=Re,Ue.next=ne,de&&(Ue.method="next",Ue.arg=A),!!de}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Me=this.tryEntries[Ye],$=Me.completion;if(Me.tryLoc==="root")return qe("end");if(Me.tryLoc<=this.prev){var k=O.call(Me,"catchLoc"),U=O.call(Me,"finallyLoc");if(k&&U){if(this.prev<Me.catchLoc)return qe(Me.catchLoc,!0);if(this.prev<Me.finallyLoc)return qe(Me.finallyLoc)}else if(k){if(this.prev<Me.catchLoc)return qe(Me.catchLoc,!0)}else{if(!U)throw Error("try statement without catch or finally");if(this.prev<Me.finallyLoc)return qe(Me.finallyLoc)}}}},abrupt:function(Re,Ue){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var Ye=this.tryEntries[qe];if(Ye.tryLoc<=this.prev&&O.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var Me=Ye;break}}Me&&(Re==="break"||Re==="continue")&&Me.tryLoc<=Ue&&Ue<=Me.finallyLoc&&(Me=null);var $=Me?Me.completion:{};return $.type=Re,$.arg=Ue,Me?(this.method="next",this.next=Me.finallyLoc,K):this.complete($)},complete:function(Re,Ue){if(Re.type==="throw")throw Re.arg;return Re.type==="break"||Re.type==="continue"?this.next=Re.arg:Re.type==="return"?(this.rval=this.arg=Re.arg,this.method="return",this.next="end"):Re.type==="normal"&&Ue&&(this.next=Ue),K},finish:function(Re){for(var Ue=this.tryEntries.length-1;Ue>=0;--Ue){var qe=this.tryEntries[Ue];if(qe.finallyLoc===Re)return this.complete(qe.completion,qe.afterLoc),Ve(qe),K}},catch:function(Re){for(var Ue=this.tryEntries.length-1;Ue>=0;--Ue){var qe=this.tryEntries[Ue];if(qe.tryLoc===Re){var Ye=qe.completion;if(Ye.type==="throw"){var Me=Ye.arg;Ve(qe)}return Me}}throw Error("illegal catch attempt")},delegateYield:function(Re,Ue,qe){return this.delegate={iterator:ot(Re),resultName:Ue,nextLoc:qe},this.method==="next"&&(this.arg=A),K}},r}function N(A,r,w,O,R,z,ee){try{var oe=A[z](ee),Q=oe.value}catch(I){return void w(I)}oe.done?r(Q):Promise.resolve(Q).then(O,R)}function L(A){return function(){var r=this,w=arguments;return new Promise(function(O,R){var z=A.apply(r,w);function ee(Q){N(z,O,R,ee,oe,"next",Q)}function oe(Q){N(z,O,R,ee,oe,"throw",Q)}ee(void 0)})}}function u(A,r){var w=Object.keys(A);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(A);r&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(A,R).enumerable})),w.push.apply(w,O)}return w}function E(A){for(var r=1;r<arguments.length;r++){var w=arguments[r]!=null?arguments[r]:{};r%2?u(Object(w),!0).forEach(function(O){C(A,O,w[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(w,O))})}return A}function C(A,r,w){return(r=h(r))in A?Object.defineProperty(A,r,{value:w,enumerable:!0,configurable:!0,writable:!0}):A[r]=w,A}function v(A,r){var w=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!w){if(Array.isArray(A)||(w=m(A))||r){w&&(A=w);var O=0,R=function(){};return{s:R,n:function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}},e:function(I){throw I},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z,ee=!0,oe=!1;return{s:function(){w=w.call(A)},n:function(){var I=w.next();return ee=I.done,I},e:function(I){oe=!0,z=I},f:function(){try{ee||w.return==null||w.return()}finally{if(oe)throw z}}}}function m(A,r){if(A){if(typeof A=="string")return f(A,r);var w={}.toString.call(A).slice(8,-1);return w==="Object"&&A.constructor&&(w=A.constructor.name),w==="Map"||w==="Set"?Array.from(A):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?f(A,r):void 0}}function f(A,r){(r==null||r>A.length)&&(r=A.length);for(var w=0,O=Array(r);w<r;w++)O[w]=A[w];return O}function a(A,r,w){return r=l(r),d(A,c()?Reflect.construct(r,w||[],l(A).constructor):r.apply(A,w))}function d(A,r){if(r&&(Oe(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(A)}function p(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function c(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!A})()}function l(A){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l(A)}function s(A,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(r&&r.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),r&&i(A,r)}function i(A,r){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,O){return w.__proto__=O,w},i(A,r)}function T(A,r){if(!(A instanceof r))throw new TypeError("Cannot call a class as a function")}function S(A,r){for(var w=0;w<r.length;w++){var O=r[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,h(O.key),O)}}function y(A,r,w){return r&&S(A.prototype,r),Object.defineProperty(A,"prototype",{writable:!1}),A}function h(A){var r=b(A,"string");return Oe(r)=="symbol"?r:r+""}function b(A,r){if(Oe(A)!="object"||!A)return A;var w=A[Symbol.toPrimitive];if(w!==void 0){var O=w.call(A,r);if(Oe(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(A)}(function(){var A=this||globalThis,r=A.connect||{};A.connect=r,A.lily=r,r.core={},r.globalResiliency=r.globalResiliency||{},r.core.initialized=!1,r.version="2.18.1",r.outerContextStreamsVersion=null,r.DEFAULT_BATCH_SIZE=500;var w=1e3,O=3e3,R=5e3,z=5e3,ee=1e4,oe=10,Q="Amazon Connect CCP",I="https://{alias}.awsapps.com/auth/?client_id={client_id}&redirect_uri={redirect}",W={"us-east-1":"06919f4fd8ed324e"},Z="/auth/authorize",V="/connect/auth/authorize",M=2e3,B=5,Y="/connect/whitelisted-origins",K="/whitelisted-origins",q=2e3,X=5,se="IframeRefreshAttempts",le="IframeRefreshAttemptsDr",ve="IframeInitializationSuccess",_e="IframeInitializationSuccessDr",Ie="IframeInitializationTime",He="IframeInitializationTimeDr",be="SetRingerDeviceBeforeInitRingtoneEngine",Ae="ConnectedCCPSingleTabCount",we="CCPTabsAcrossBrowserCount",Be=1e3,Ve={GUIDES:"customviews"},Ge=["ended","missed","error","rejected","acw"];r.numberOfConnectedCCPs=0,r.numberOfConnectedCCPsInThisTab=0,r.core.MAX_AUTHORIZE_RETRY_COUNT_FOR_SESSION=3,r.core.MAX_CTI_AUTH_RETRY_COUNT=10,r.core.ctiAuthRetryCount=0,r.core.authorizeTimeoutId=null,r.core.ctiTimeoutId=null,r.core.MAX_UNAUTHORIZED_RETRY_COUNT=20,r.core.MAX_ACCESS_DENIED_RETRY_COUNT=10,r.SessionStorageKeys=r.makeEnum(["tab_id","authorize_retry_count"]);var ot=function(H){var te="https://lily.us-east-1.amazonaws.com/taw/auth/code";return r.assertNotNull(te),H.loginUrl?H.loginUrl:H.alias?(log.warn("The `alias` param is deprecated and should not be expected to function properly. Please use `ccpUrl` or `loginUrl`. See https://github.com/amazon-connect/amazon-connect-streams/blob/master/README.md#connectcoreinitccp for valid parameters."),I.replace("{alias}",H.alias).replace("{client_id}",W["us-east-1"]).replace("{redirect}",A.encodeURIComponent(te))):H.ccpUrl},De=function(){function D(H){T(this,D),this.key="".concat(H,"ParamsStorage::").concat(A.location.origin)}return y(D,[{key:"get",value:function(){try{var te=A.localStorage.getItem(this.key);return te&&JSON.parse(te)}catch(re){r.getLog().error("".concat(this.key,":: Failed to get softphone params from local storage!")).withException(re).sendInternalLogToServer()}return null}},{key:"set",value:function(te){try{te&&A.localStorage.setItem(this.key,JSON.stringify(te))}catch(re){r.getLog().error("".concat(this.key,":: Failed to set softphone params to local storage!")).withException(re).sendInternalLogToServer()}}},{key:"clean",value:function(){A.localStorage.removeItem(this.key)}}])}(),Re=function(D){function H(){return T(this,H),a(this,H,["Softphone"])}return s(H,D),y(H)}(De),Ue=new Re,qe=function(D){function H(){return T(this,H),a(this,H,["Ringtone"])}return s(H,D),y(H)}(De),Ye=new qe,Me=function(D){function H(){return T(this,H),a(this,H,["GlobalResiliency"])}return s(H,D),y(H)}(De);new Me;function $(D){var H=D.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n?]+)/ig);return H.length?H[0]:""}r.core.checkNotInitialized=function(){if(r.core.initialized){var D=r.getLog();D.warn("Connect core already initialized, only needs to be initialized once.").sendInternalLogToServer()}};var k=function(H,te){var re=H.getAgentStates().find(function(me){return me.type===r.AgentStateType.OFFLINE});H.setState(re,te)},U=function(H){r.getLog().info("[Disaster Recovery] Signal sharedworker to set contacts suppressor to %s for instance %s.",H,r.core.region).sendInternalLogToServer(),r.core.getUpstream().sendUpstream(r.DisasterRecoveryEvents.SUPPRESS,{suppress:H,shouldSendFailoverDownstream:!1})},ne=function(H,te){r.getLog().info("[DISASTER RECOVERY] Signal sharedworker to set forceOffline to %s for instance %s.",H,r.core.region).sendInternalLogToServer(),r.core.getUpstream().sendUpstream(r.DisasterRecoveryEvents.FORCE_OFFLINE,{offline:H,nextActiveArn:te})},de=function(H,te){var re=r.getLog(),me=r.agent.initialized?r.core.getAgentDataProvider().getInstanceId():r.core.region;re.info("[Disaster Recovery] Attempting to force instance ".concat(me," offline using ").concat(H?"soft":"hard"," failover")).sendInternalLogToServer(),r.agent(function(Ee){var je=0,Ke=Ee.getContacts(),xe=!1;if(Ke.length){var Le=v(Ke),et;try{for(Le.s();!(et=Le.n()).done;){var tt=et.value;if(xe)break;H&&(tt.getType()===r.ContactType.QUEUE_CALLBACK||tt.getType()===r.ContactType.VOICE)?(re.info("[Disaster Recovery] Will wait to complete failover of instance %s until voice contact with ID %s is destroyed",r.core.region,tt.getContactId()).sendInternalLogToServer(),r.core.getUpstream().sendDownstream(r.DisasterRecoveryEvents.FAILOVER_PENDING,{nextActiveArn:te}),tt.onDestroy(function($e){re.info("[Disaster Recovery] Voice contact with ID %s destroyed, continuing with failover in instance %s",$e.getContactId(),r.core.region),de(!0,te)})):tt.getAgentConnection().destroy({success:function(){++je===Ke.length&&(ne(!1,te),k(Ee),re.info("[Disaster Recovery] Instance %s is now offline",r.core.region).sendInternalLogToServer())},failure:function(yt){re.warn("[Disaster Recovery] An error occured while attempting to force this instance to offline in region %s",r.core.region).sendInternalLogToServer(),re.warn(yt).sendInternalLogToServer(),ne(!0,te),xe=!0}})}}catch($e){Le.e($e)}finally{Le.f()}}else ne(!1,te),k(Ee),re.info("[Disaster Recovery] Instance %s is now offline",r.core.region).sendInternalLogToServer()})};r.core.terminateCustomView=function(D){var H,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},me=re.resolveIframe,Ee=me===void 0?!0:me,je=re.timeout,Ke=je===void 0?5e3:je,xe=re.hideIframe,Le=xe===void 0?!0:xe,et,tt=function(Kt,kt,Et){return(kt==null?void 0:kt.querySelector(Et))||document.getElementById(Kt)||window.top.document.getElementById(Kt)};te?et="".concat(Ve.GUIDES).concat(te):et="".concat(Ve.GUIDES);var $e=(H=r.agentApp.AppRegistry.get(et))===null||H===void 0?void 0:H.containerDOM,yt="iframe[id='".concat(et,"']"),Qe=tt(et,$e,yt);if(!Qe){console.warn("[CustomViews] terminateCustomView operation failed due to iframe not found");return}try{var pt={topic:"lifecycle.terminated"};Qe.contentWindow.postMessage(pt,D),Ee&&(Le&&(Qe.style.display="none"),console.info("[CustomViews] customviews iframe hidden for resolution during termination"),setTimeout(function(){r.agentApp.stopApp(et);var Ft=tt(et,$e,yt);Ft?console.warn("[CustomViews] customviews application did not stop successfully in terminateCustomView operation"):console.info("[CustomViews] customviews application successfully stopped")},Ke))}catch(Ft){throw new Error("[CustomViews] Error in terminateCustomView: ",Ft)}},r.core.initDisasterRecovery=function(D,H,te){var re=r.getLog();r.core.region=D.region,r.core.suppressContacts=H||U,r.core.forceOffline=te||de,r.core.getUpstream().onDownstream(r.DisasterRecoveryEvents.SET_OFFLINE,function(me){r.ifMaster(r.MasterTopics.FAILOVER,function(){r.core.forceOffline(me&&me.softFailover)})}),r.core.getUpstream().onUpstream(r.DisasterRecoveryEvents.FORCE_OFFLINE,function(me){r.ifMaster(r.MasterTopics.FAILOVER,function(){r.core.forceOffline(me&&me.softFailover,me&&me.nextActiveArn)})}),r.ifMaster(r.MasterTopics.FAILOVER,function(){re.info("[Disaster Recovery] Initializing region %s as part of a Disaster Recovery fleet",r.core.region).sendInternalLogToServer()},function(){re.info("[Disaster Recovery] %s already part of a Disaster Recovery fleet",r.core.region).sendInternalLogToServer()}),D.pollForFailover&&r.DisasterRecoveryEvents.INIT_DR_POLLING?r.core.getUpstream().sendUpstream(r.DisasterRecoveryEvents.INIT_DR_POLLING,{instanceArn:D.instanceArn,otherArn:D.otherArn,authToken:D.authToken}):D.isPrimary?(r.core.suppressContacts(!1),re.info("[Disaster Recovery] %s instance is set to primary",r.core.region).sendInternalLogToServer()):(r.core.suppressContacts(!0),r.core.forceOffline(),re.info("[Disaster Recovery] %s instance is set to stand-by",r.core.region).sendInternalLogToServer())},r.core.init=function(D){r.core.eventBus=new r.EventBus,r.core.agentDataProvider=new x(r.core.getEventBus()),r.core.initClient(D),r.core.initAgentAppClient(D),r.core.initTaskTemplatesClient(D),r.core.initialized=!0},r.core.initClient=function(D){r.assertNotNull(D,"params");var H=r.assertNotNull(D.authToken,"params.authToken"),te=r.assertNotNull(D.region,"params.region"),re=D.endpoint||null;r.core.client=new r.AWSClient(H,te,re)},r.core.initAgentAppClient=function(D){r.assertNotNull(D,"params");var H=r.assertNotNull(D.authToken,"params.authToken"),te=r.assertNotNull(D.authCookieName,"params.authCookieName"),re=r.assertNotNull(D.agentAppEndpoint,"params.agentAppEndpoint");r.core.agentAppClient=new r.AgentAppClient(te,H,re)},r.core.initTaskTemplatesClient=function(D){r.assertNotNull(D,"params");var H=D.taskTemplatesEndpoint||D.endpoint;r.assertNotNull(H,"taskTemplatesEndpoint"),r.core.taskTemplatesClient=new r.TaskTemplatesClient(H)},r.core.terminate=function(){r.core.client=new r.NullClient,r.core.apiProxyClient=new r.NullClient,r.core.agentAppClient=new r.NullClient,r.core.taskTemplatesClient=new r.NullClient,r.core.masterClient=new r.NullClient;var D=r.core.getEventBus();D&&D.unsubscribeAll(),r.core.bus=new r.EventBus,r.core.agentDataProvider=null,r.core.softphoneManager=null,r.core.upstream=null,r.core.keepaliveManager=null,r.storageAccess.resetStorageAccessState(),r.agent.initialized=!1,r.core.initialized=!1},r.core.softphoneUserMediaStream=null,r.core.setSoftphoneUserMediaStream=function(D){r.core.softphoneUserMediaStream=D},r.core.initRingtoneEngines=function(D,H){r.getLog().info("[Ringtone Engine] initRingtoneEngine started").withObject({params:D}).sendInternalLogToServer(),r.assertNotNull(D,"params");var te=H||F,re=function(Le){r.assertNotNull(Le,"ringtoneSettings"),r.assertNotNull(Le.voice,"ringtoneSettings.voice"),r.assertTrue(Le.voice.ringtoneUrl||Le.voice.disabled,"ringtoneSettings.voice.ringtoneUrl must be provided or ringtoneSettings.voice.disabled must be true"),r.assertNotNull(Le.queue_callback,"ringtoneSettings.queue_callback"),r.assertTrue(Le.queue_callback.ringtoneUrl||Le.queue_callback.disabled,"ringtoneSettings.voice.ringtoneUrl must be provided or ringtoneSettings.queue_callback.disabled must be true"),r.core.ringtoneEngines={},r.agent(function(et){et.onRefresh(function(){r.ifMaster(r.MasterTopics.RINGTONE,function(){var tt=!1;!Le.voice.disabled&&!r.core.ringtoneEngines.voice&&(r.core.ringtoneEngines.voice=new r.VoiceRingtoneEngine(Le.voice),tt=!0,r.getLog().info("VoiceRingtoneEngine initialized.").sendInternalLogToServer()),!Le.chat.disabled&&!r.core.ringtoneEngines.chat&&(r.core.ringtoneEngines.chat=new r.ChatRingtoneEngine(Le.chat),tt=!0,r.getLog().info("ChatRingtoneEngine initialized.").sendInternalLogToServer()),!Le.task.disabled&&!r.core.ringtoneEngines.task&&(r.core.ringtoneEngines.task=new r.TaskRingtoneEngine(Le.task),tt=!0,r.getLog().info("TaskRingtoneEngine initialized.").sendInternalLogToServer()),!Le.email.disabled&&!r.core.ringtoneEngines.email&&(r.core.ringtoneEngines.email=new r.EmailRingtoneEngine(Le.email),tt=!0,r.getLog().info("EmailRingtoneEngine initialized.").sendInternalLogToServer()),!Le.queue_callback.disabled&&!r.core.ringtoneEngines.queue_callback&&(r.core.ringtoneEngines.queue_callback=new r.QueueCallbackRingtoneEngine(Le.queue_callback),tt=!0,r.getLog().info("QueueCallbackRingtoneEngine initialized.").sendInternalLogToServer()),tt&&r.core._ringerDeviceId&&te({deviceId:r.core._ringerDeviceId})})})}),pe()},me=function(Le,et){Le.ringtone=Le.ringtone||{},Le.ringtone.voice=Le.ringtone.voice||{},Le.ringtone.queue_callback=Le.ringtone.queue_callback||{},Le.ringtone.chat=Le.ringtone.chat||{disabled:!0},Le.ringtone.task=Le.ringtone.task||{disabled:!0},Le.ringtone.email=Le.ringtone.email||{disabled:!0},et.softphone&&(et.softphone.disableRingtone&&(Le.ringtone.voice.disabled=!0,Le.ringtone.queue_callback.disabled=!0),et.softphone.ringtoneUrl&&(Le.ringtone.voice.ringtoneUrl=et.softphone.ringtoneUrl,Le.ringtone.queue_callback.ringtoneUrl=et.softphone.ringtoneUrl)),et.chat&&(et.chat.disableRingtone&&(Le.ringtone.chat.disabled=!0),et.chat.ringtoneUrl&&(Le.ringtone.chat.ringtoneUrl=et.chat.ringtoneUrl)),et.task&&(et.task.disableRingtone&&(Le.ringtone.task.disabled=!0),et.task.ringtoneUrl&&(Le.ringtone.task.ringtoneUrl=et.task.ringtoneUrl)),et.email&&(et.email.disableRingtone&&(Le.ringtone.email.disabled=!0),et.email.ringtoneUrl&&(Le.ringtone.email.ringtoneUrl=et.email.ringtoneUrl)),et.ringtone&&(Le.ringtone.voice=r.merge(Le.ringtone.voice,et.ringtone.voice||{}),Le.ringtone.queue_callback=r.merge(Le.ringtone.queue_callback,et.ringtone.voice||{}),Le.ringtone.chat=r.merge(Le.ringtone.chat,et.ringtone.chat||{}),Le.ringtone.task=r.merge(Le.ringtone.task,et.ringtone.task||{}),Le.ringtone.email=r.merge(Le.ringtone.email,et.ringtone.email||{}))};if(me(D,D),r.isFramed()){var Ee,je=r.core.getEventBus();je.subscribe(r.EventType.CONFIGURE,function(xe){A.clearTimeout(Ee),r.getLog().info("[Ringtone Engine] Configure event handler executed").sendInternalLogToServer(),this.unsubscribe(),me(D,xe),Ye.set(D.ringtone),re(D.ringtone)});var Ke=Ye.get();Ke&&r.core.getUpstream().onUpstream(r.EventType.ACKNOWLEDGE,function(xe){var Le=xe&&xe.id;Le&&(r.getLog().info("[RingtoneEngine] Embedded CCP is refreshed successfully and waiting for configure Message handler to execute").sendInternalLogToServer(),this.unsubscribe(),Ee=A.setTimeout(function(){r.getLog().info("[RingtoneEngine] Embedded CCP is refreshed without configure message & Initializing setupRingtoneEngines (Ringtone Engine) from localStorage ringtone params. ").withObject({ringtone:Ke}).sendInternalLogToServer(),re(Ke)},100))})}else re(D.ringtone)};var pe=function(){var H=r.core.getEventBus();H.subscribe(r.ConfigurationEvents.SET_RINGER_DEVICE,F)},F=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=H.deviceId||"";if(r.getLog().info("[Audio Device Settings] Attempting to set ringer device ".concat(te)).sendInternalLogToServer(),r.keys(r.core.ringtoneEngines).length===0){r.getLog().info("[Audio Device Settings] setRingerDevice called before ringtone engine is initialized").sendInternalLogToServer(),te&&(r.core._ringerDeviceId=te,r.getLog().warn("[Audio Device Settings] stored device Id for later use, once ringtone engine is up.").sendInternalLogToServer(),r.publishMetric({name:be,data:{count:1}}));return}if(!te){r.getLog().warn("[Audio Device Settings] Setting ringer device cancelled due to missing deviceId").sendInternalLogToServer();return}var re=function(je){r.core.ringtoneEngines[je].setOutputDevice(te).then(function(Ke){r.getLog().info("[Audio Device Settings] ringtoneType ".concat(je," successfully set to deviceid ").concat(Ke)).sendInternalLogToServer()}).catch(function(Ke){r.getLog().error(Ke)})};for(var me in r.core.ringtoneEngines)re(me);r.core.getUpstream().sendUpstream(r.EventType.BROADCAST,{event:r.ConfigurationEvents.RINGER_DEVICE_CHANGED,data:{deviceId:te}})};r.core.initSoftphoneManager=function(D){var H=D||{};r.getLog().info("[Softphone Manager] initSoftphoneManager started").sendInternalLogToServer();var te=function(xe){var Le=r.merge(H.softphone||{},xe);r.getLog().info("[Softphone Manager] competeForMasterOnAgentUpdate executed").withObject({softphoneParams:Le}).sendInternalLogToServer(),r.agent(function(et){et.getChannelConcurrency(r.ChannelType.VOICE)&&et.onRefresh(function(){var tt=this;r.getLog().info("[Softphone Manager] agent refresh handler executed").sendInternalLogToServer(),r.ifMaster(r.MasterTopics.SOFTPHONE,function(){r.getLog().info("[Softphone Manager] confirmed as softphone master topic").sendInternalLogToServer(),!r.core.softphoneManager&&et.isSoftphoneEnabled()&&(r.core.softphoneManager=new r.SoftphoneManager(Le),tt.unsubscribe())})})})};if(r.isFramed()&&r.isCCP()){var re,me=r.core.getEventBus();me.subscribe(r.EventType.CONFIGURE,function(Ke){A.clearTimeout(re),r.getLog().info("[Softphone Manager] Configure event handler executed").withObject({data:Ke}).sendInternalLogToServer(),Ue.set(Ke.softphone),Ke.softphone&&Ke.softphone.allowFramedSoftphone&&(this.unsubscribe(),te(Ke.softphone)),je(Ke.softphone)});var Ee=Ue.get();Ee&&r.core.getUpstream().onUpstream(r.EventType.ACKNOWLEDGE,function(Ke){var xe=Ke&&Ke.id;xe&&(r.getLog().info("[Softphone Manager] Embedded CCP is refreshed successfully and waiting for configure Message handler to execute").sendInternalLogToServer(),this.unsubscribe(),re=A.setTimeout(function(){r.getLog().info("[Softphone Manager] Embedded CCP is refreshed without configure message handler execution").withObject({softphoneParamsFromLocalStorage:Ee}).sendInternalLogToServer(),r.publishMetric({name:"EmbeddedCCPRefreshedWithoutInitCCP",data:{count:1}}),je(Ee),Ee.allowFramedSoftphone&&(r.getLog().info("[Softphone Manager] Embedded CCP is refreshed & Initializing competeForMasterOnAgentUpdate (Softphone manager) from localStorage softphone params").sendInternalLogToServer(),te(Ee))},100))})}else te(H),je(H);r.agent(function(Ke){Ke.isSoftphoneEnabled()&&Ke.getChannelConcurrency(r.ChannelType.VOICE)&&r.core.getUpstream().sendUpstream(r.EventType.BROADCAST,{event:r.EventType.MUTE})});function je(Ke){var xe=r.merge(H.softphone||{},Ke);r.core.softphoneParams=xe,r.isFirefoxBrowser()&&(r.core.getUpstream().onUpstream(r.EventType.MASTER_RESPONSE,function(Le){Le.data&&Le.data.topic===r.MasterTopics.SOFTPHONE&&Le.data.takeOver&&Le.data.masterId!==r.core.portStreamId&&r.core.softphoneManager&&(r.core.softphoneManager.onInitContactSub.unsubscribe(),delete r.core.softphoneManager)}),r.core.getEventBus().subscribe(r.ConnectionEvents.READY_TO_START_SESSION,function(){r.ifMaster(r.MasterTopics.SOFTPHONE,function(){r.core.softphoneManager&&r.core.softphoneManager.startSession()},function(){r.becomeMaster(r.MasterTopics.SOFTPHONE,function(){r.agent(function(Le){!r.core.softphoneManager&&Le.isSoftphoneEnabled()&&(r.becomeMaster(r.MasterTopics.SEND_LOGS),r.core.softphoneManager=new r.SoftphoneManager(xe),r.core.softphoneManager.startSession())})})})}),r.contact(function(Le){r.agent(function(et){Le.onRefresh(function(tt){if(r.hasOtherConnectedCCPs()&&document.visibilityState==="visible"&&(tt.getStatus().type===r.ContactStatusType.CONNECTING||tt.getStatus().type===r.ContactStatusType.INCOMING)){var $e=tt.isSoftphoneCall()&&!tt.isInbound(),yt=tt.isSoftphoneCall()&&et.getConfiguration().softphoneAutoAccept,Qe=tt.getType()===r.ContactType.QUEUE_CALLBACK;($e||yt||Qe)&&r.core.triggerReadyToStartSessionEvent()}})})}))}},r.core.triggerReadyToStartSessionEvent=function(){var D=r.core.softphoneParams&&r.core.softphoneParams.allowFramedSoftphone;r.isCCP()?D?r.core.getEventBus().trigger(r.ConnectionEvents.READY_TO_START_SESSION):r.isFramed()?r.core.getUpstream().sendDownstream(r.ConnectionEvents.READY_TO_START_SESSION):r.core.getEventBus().trigger(r.ConnectionEvents.READY_TO_START_SESSION):D?r.core.getUpstream().sendUpstream(r.ConnectionEvents.READY_TO_START_SESSION):r.core.getEventBus().trigger(r.ConnectionEvents.READY_TO_START_SESSION)},r.core.initPageOptions=function(D){if(r.assertNotNull(D,"params"),r.isFramed()){var H=r.core.getEventBus();H.subscribe(r.EventType.CONFIGURE,function(te){r.core.getUpstream().sendUpstream(r.EventType.BROADCAST,{event:r.ConfigurationEvents.CONFIGURE,data:te})}),H.subscribe(r.EventType.MEDIA_DEVICE_REQUEST,function(){function te(re){r.core.getUpstream().sendDownstream(r.EventType.MEDIA_DEVICE_RESPONSE,re)}navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(re){devices=re||[],devices=devices.map(function(me){return me.toJSON()}),te(devices)}).catch(function(re){te({error:re.message})}):te({error:"No navigator or navigator.mediaDevices object found"})})}},r.core.initApiProxyService=function(){r.core.apiProxyClient=new r.ApiProxyClient,r.isFramed()&&(r.core.handleApiProxyRequest=function(D){if(D!=null&&D.method){var H=function(Ee){var je={data:Ee,requestId:D.requestId};r.core.getUpstream().sendDownstream(r.EventType.API_RESPONSE,je)},te=function(Ee){var je={err:Ee,requestId:D.requestId};r.core.getUpstream().sendDownstream(r.EventType.API_RESPONSE,je)},re=r.core.getApiProxyClient();re.call(D.method,D.params,{success:H,failure:te})}})},r.core.getFrameMediaDevices=function(D){var H=null,te=D||1e3,re=new Promise(function(Ee,je){setTimeout(function(){je(new Error("Timeout exceeded"))},te)}),me=new Promise(function(Ee,je){if(r.isCCP())navigator&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(xe){devices=xe||[],devices=devices.map(function(Le){return Le.toJSON()}),Ee(devices)}):je(new Error("No navigator or navigator.mediaDevices object found"));else{var Ke=r.core.getEventBus();H=Ke.subscribe(r.EventType.MEDIA_DEVICE_RESPONSE,function(xe){xe.error?je(new Error(xe.error)):Ee(xe)}),r.core.getUpstream().sendUpstream(r.EventType.MEDIA_DEVICE_REQUEST)}});return Promise.race([me,re]).finally(function(){H&&H.unsubscribe()})},r.core.authorize=function(D){var H={credentials:"include"},te=D;return te||(te=r.core.isLegacyDomain()?V:Z),r.fetch(te,H,M,B)},r.core.verifyDomainAccess=function(D,H){if(r.getLog().warn("This API will be deprecated in the next major version release"),!r.isFramed())return Promise.resolve();var te={headers:{"X-Amz-Bearer":D}},re=null;return H?re=H:re=r.core.isLegacyDomain()?Y:K,r.fetch(re,te,q,X).then(function(me){var Ee=$(window.document.referrer),je=me.whitelistedOrigins.some(function(Ke){return Ee===$(Ke)});return je?Promise.resolve():Promise.reject()})},r.core.isLegacyDomain=function(D){return D=D||window.location.href,D.includes(".awsapps.com")},r.core.initSharedWorker=function(D){if(r.core.checkNotInitialized(),!r.core.initialized){r.assertNotNull(D,"params");var H=r.assertNotNull(D.sharedWorkerUrl,"params.sharedWorkerUrl"),te=r.assertNotNull(D.authToken,"params.authToken"),re=r.assertNotNull(D.refreshToken,"params.refreshToken"),me=r.assertNotNull(D.authTokenExpiration,"params.authTokenExpiration"),Ee=r.assertNotNull(D.region,"params.region"),je=D.endpoint||null,Ke=D.authorizeEndpoint;Ke||(Ke=r.core.isLegacyDomain()?V:Z);var xe=D.agentAppEndpoint||null,Le=D.taskTemplatesEndpoint||null,et=D.authCookieName||null;try{r.core.eventBus=new r.EventBus({logEvents:!0}),r.core.agentDataProvider=new x(r.core.getEventBus()),r.core.mediaFactory=new r.MediaFactory(D);var tt=new SharedWorker(H,"ConnectSharedWorker"),$e=new r.Conduit("ConnectSharedWorkerConduit",new r.PortStream(tt.port),new r.WindowIOStream(window,parent));r.core.upstream=$e,r.core.webSocketProvider=new G,A.onunload=function(){$e.sendUpstream(r.EventType.CLOSE),tt.port.close()},r.getLog().scheduleUpstreamLogPush($e),r.getLog().scheduleDownstreamClientSideLogsPush(),$e.onAllUpstream(r.core.getEventBus().bridge()),$e.onAllUpstream($e.passDownstream()),r.isFramed()&&($e.onAllDownstream(r.core.getEventBus().bridge()),$e.onAllDownstream(function(Qe,pt){pt===r.EventType.API_REQUEST&&r.containsValue(r.ApiProxyClientMethods,Qe==null?void 0:Qe.method)?r.core.handleApiProxyRequest(Qe):$e.passUpstream()(Qe,pt)})),$e.sendUpstream(r.EventType.CONFIGURE,{authToken:te,authTokenExpiration:me,endpoint:je,refreshToken:re,region:Ee,authorizeEndpoint:Ke,agentAppEndpoint:xe,taskTemplatesEndpoint:Le,authCookieName:et,longPollingOptions:D.longPollingOptions||void 0}),$e.onUpstream(r.EventType.ACKNOWLEDGE,function(Qe){r.getLog().info("Acknowledged by the ConnectSharedWorker!").sendInternalLogToServer(),r.core.initialized=!0,r.core._setTabId(),r.core.portStreamId=Qe.id,this.unsubscribe()}),$e.onUpstream(r.EventType.LOG,function(Qe){Qe.loggerId!==r.getLog().getLoggerId()&&r.getLog().addLogEntry(r.LogEntry.fromObject(Qe))}),$e.onUpstream(r.EventType.SERVER_BOUND_INTERNAL_LOG,function(Qe){r.getLog().sendInternalLogEntryToServer(r.LogEntry.fromObject(Qe))}),$e.onDownstream(r.EventType.SERVER_BOUND_INTERNAL_LOG,function(Qe){r.isFramed()&&Array.isArray(Qe)&&Qe.forEach(function(pt){r.getLog().sendInternalLogEntryToServer(r.LogEntry.fromObject(pt))})}),$e.onDownstream(r.EventType.LOG,function(Qe){r.isFramed()&&Qe.loggerId!==r.getLog().getLoggerId()&&r.getLog().addLogEntry(r.LogEntry.fromObject(Qe))}),r.core.onAuthFail(r.hitch(r.core,r.core._handleAuthFail,D.loginEndpoint||null,Ke)),r.core.onAuthorizeSuccess(r.hitch(r.core,r.core._handleAuthorizeSuccess)),r.getLog().info("User Agent: "+navigator.userAgent).sendInternalLogToServer(),r.getLog().info("isCCPv2: true").sendInternalLogToServer(),r.getLog().info("isFramed: "+r.isFramed()).sendInternalLogToServer(),r.core.upstream.onDownstream(r.EventType.OUTER_CONTEXT_INFO,function(Qe){var pt=Qe.streamsVersion||null;r.getLog().info("StreamsJS Version: "+pt).sendInternalLogToServer(),r.outerContextStreamsVersion=pt}),$e.onUpstream(r.EventType.UPDATE_CONNECTED_CCPS,function(Qe){r.getLog().info("Number of connected CCPs updated: "+Qe.length).sendInternalLogToServer(),r.numberOfConnectedCCPs=Qe.length,Qe[r.core.tabId]&&!isNaN(Qe[r.core.tabId].length)&&r.numberOfConnectedCCPsInThisTab!==Qe[r.core.tabId].length&&(r.numberOfConnectedCCPsInThisTab=Qe[r.core.tabId].length,r.numberOfConnectedCCPsInThisTab>1&&r.getLog().warn("There are "+r.numberOfConnectedCCPsInThisTab+" connected CCPs in this tab. Please adjust your implementation to avoid complications. If you are embedding CCP, please do so exclusively with initCCP. InitCCP will not let you embed more than one CCP.").sendInternalLogToServer(),r.publishMetric({name:Ae,data:{count:r.numberOfConnectedCCPsInThisTab}})),Qe.tabId&&Qe.streamsTabsAcrossBrowser&&r.ifMaster(r.MasterTopics.METRICS,function(){return r.agent(function(){return r.publishMetric({name:we,data:{tabId:Qe.tabId,count:Qe.streamsTabsAcrossBrowser}})})})}),r.core.client=new r.UpstreamConduitClient($e),r.core.masterClient=new r.UpstreamConduitMasterClient($e),r.core.getEventBus().subscribe(r.EventType.TERMINATE,$e.passUpstream()),r.core.getEventBus().subscribe(r.EventType.TERMINATED,function(){window.location.reload(!0)}),tt.port.start(),$e.onUpstream(r.VoiceIdEvents.UPDATE_DOMAIN_ID,function(Qe){Qe&&Qe.domainId&&(r.core.voiceIdDomainId=Qe.domainId)}),r.agent(function(){var Qe=new r.VoiceId;Qe.getDomainId().then(function(pt){r.getLog().info("voiceId domainId successfully fetched at agent initialization: "+pt).sendInternalLogToServer()}).catch(function(pt){r.getLog().info("voiceId domainId not fetched at agent initialization").withObject({err:pt}).sendInternalLogToServer()})});var yt=r.core.getNotificationManager();yt.requestPermission(),$e.onDownstream(r.DisasterRecoveryEvents.INIT_DISASTER_RECOVERY,function(Qe){r.core.initDisasterRecovery(Qe)})}catch(Qe){r.getLog().error("Failed to initialize the API shared worker, we're dead!").withException(Qe).sendInternalLogToServer()}}},r.core._setTabId=function(){try{r.core.tabId=window.sessionStorage.getItem(r.SessionStorageKeys.TAB_ID),r.core.tabId||(r.core.tabId=r.randomId(),window.sessionStorage.setItem(r.SessionStorageKeys.TAB_ID,r.core.tabId)),r.core.upstream.sendUpstream(r.EventType.TAB_ID,{tabId:r.core.tabId})}catch(D){r.getLog().error("[Tab Id] There was an issue setting the tab Id").withException(D).sendInternalLogToServer()}},r.core.initCCP=function(D,H){var te,re;if(r.core.checkNotInitialized(),r.core.initialized)return;r.getLog().info("Iframe initialization started").sendInternalLogToServer();var me=Date.now();try{if(r.core._getCCPIframe()){r.getLog().error("Attempted to call initCCP when an iframe generated by initCCP already exists").sendInternalLogToServer();return}}catch(We){r.getLog().error("Error while checking if initCCP has already been called").withException(We).sendInternalLogToServer()}var Ee={},je=void 0;if(typeof H=="string"?Ee.ccpUrl=H:(Ee=H,Ee.provider&&(je=Ee.provider,delete Ee.provider)),r.assertNotNull(D,"containerDiv"),r.assertNotNull(Ee.ccpUrl,"params.ccpUrl"),je)try{r.core._amazonConnectProviderData={provider:je,isStreamsProvider:!1},r.getLog().info("Using AmazonConnectProvider from params").withObject({providerId:r.core._amazonConnectProviderData.provider.id,providerType:r.core._amazonConnectProviderData.provider.constructor.name}).sendInternalLogToServer()}catch(We){r.getLog().error("Error when setting up AmazonConnectProvider from params").withException(We).sendInternalLogToServer()}else try{var Ke=ue(781),xe=Ke.AmazonConnectStreamsSite,Le=new URL(Ee.ccpUrl).origin,et={instanceUrl:Le};r.core._amazonConnectProviderData=E(E({},xe.init(et)),{},{isStreamsProvider:!0}),r.getLog().info("Created AmazonConnectStreamsSite").withObject({providerId:r.core._amazonConnectProviderData.provider.id}).sendInternalLogToServer()}catch(We){r.getLog().error("Error when setting up AmazonConnectStreamsSite").withException(We).sendInternalLogToServer()}r.core.iframeStyle=Ee.style||"width: 100%; height: 100%;",(te=Ee.softphone)!==null&&te!==void 0&&te.disableStoringParamsInLocalStorage||(Ue.clean(),Ye.clean());var tt=null;if(((re=Ee)===null||re===void 0?void 0:re.enableGlobalResiliency)===!0){var $e,yt,Qe,pt;if(typeof(($e=Ee)===null||$e===void 0?void 0:$e.secondaryCCPUrl)!="string"||((yt=Ee)===null||yt===void 0?void 0:yt.secondaryCCPUrl)===""){var Ft="enableGlobalResiliency flag was enabled, but secondaryCCPUrl was not provided. Global Resiliency will not be enabled";r.getLog().error(Ft).sendInternalLogToServer(),tt={event:r.GlobalResiliencyEvents.CONFIGURE_ERROR,data:new Error(Ft)}}else if(typeof((Qe=Ee)===null||Qe===void 0?void 0:Qe.loginUrl)!="string"||((pt=Ee)===null||pt===void 0?void 0:pt.loginUrl)===""){var Kt="enableGlobalResiliency flag was enabled, but loginUrl was not provided. Global Resiliency will not be enabled";r.getLog().error(Kt).sendInternalLogToServer(),tt={event:r.GlobalResiliencyEvents.CONFIGURE_ERROR,data:new Error(Kt)}}else return r.getLog().info("enableGlobalResiliency flag was enabled and secondaryCCPUrl and loginUrl was provided. Global Resiliency will be enabled").sendInternalLogToServer(),r.globalResiliency.initGRCCP(D,H)}r.storageAccess.init(Ee.ccpUrl,D,Ee.storageAccess||{});var kt=r.core._createCCPIframe(D,Ee),Et=new r.IFrameConduit(Ee.ccpUrl,window,kt);r.core.upstream=Et,r.core.eventBus=new r.EventBus({logEvents:!1}),r.storageAccess.canRequest()?r.storageAccess.setupRequestHandlers({onGrant:Xe}):Xe();function Xe(){r.core.agentDataProvider=new x(r.core.getEventBus()),r.core.mediaFactory=new r.MediaFactory(Ee),r.core._sendIframeStyleDataUpstreamAfterReasonableWaitTime(kt,Et),r.core.webSocketProvider=new G,Et.onAllUpstream(r.core.getEventBus().bridge()),r.core.keepaliveManager=new j(Et,r.core.getEventBus(),Ee.ccpSynTimeout||w,Ee.ccpAckTimeout||O),r.core.iframeRefreshTimeout=null,r.core.ccpLoadTimeoutInstance=A.setTimeout(function(){r.core.ccpLoadTimeoutInstance=null,r.core.getEventBus().trigger(r.EventType.ACK_TIMEOUT),r.getLog().info("CCP LoadTimeout triggered").sendInternalLogToServer()},Ee.ccpLoadTimeout||R),r.getLog().scheduleUpstreamOuterContextCCPLogsPush(Et),r.getLog().scheduleUpstreamOuterContextCCPserverBoundLogsPush(Et),Et.onUpstream(r.EventType.ACKNOWLEDGE,function(We){if(r.getLog().info("Acknowledged by the CCP!").sendInternalLogToServer(),r.core.client=new r.UpstreamConduitClient(Et),r.core.masterClient=new r.UpstreamConduitMasterClient(Et),r.core.portStreamId=We.id,(Ee.softphone||Ee.chat||Ee.task||Ee.pageOptions||Ee.shouldAddNamespaceToLogs||Ee.disasterRecoveryOn)&&Et.sendUpstream(r.EventType.CONFIGURE,{softphone:Ee.softphone,chat:Ee.chat,task:Ee.task,pageOptions:Ee.pageOptions,shouldAddNamespaceToLogs:Ee.shouldAddNamespaceToLogs,disasterRecoveryOn:Ee.disasterRecoveryOn}),Ee.disasterRecoveryOn&&(r.core.region=Ee.region,r.core.suppressContacts=U,r.core.forceOffline=function(St){Et.sendUpstream(r.DisasterRecoveryEvents.SET_OFFLINE,St)},Et.sendUpstream(r.DisasterRecoveryEvents.INIT_DISASTER_RECOVERY,Ee)),r.core.ccpLoadTimeoutInstance&&(A.clearTimeout(r.core.ccpLoadTimeoutInstance),r.core.ccpLoadTimeoutInstance=null),Et.sendUpstream(r.EventType.OUTER_CONTEXT_INFO,{streamsVersion:r.version}),r.core.keepaliveManager.start(),this.unsubscribe(),r.core.initialized=!0,r.core.getEventBus().trigger(r.EventType.INIT),tt&&r.core.getEventBus().trigger(tt.event,tt.data),me){var Ze=Date.now()-me,st=r.core.iframeRefreshAttempt||0;r.getLog().info("Iframe initialization succeeded").sendInternalLogToServer(),r.getLog().info("Iframe initialization time ".concat(Ze)).sendInternalLogToServer(),r.getLog().info("Iframe refresh attempts ".concat(st)).sendInternalLogToServer(),setTimeout(function(){r.publishMetric({name:se,data:{count:st}}),r.publishMetric({name:ve,data:{count:1}}),r.publishMetric({name:Ie,data:{count:Ze}}),Ee.disasterRecoveryOn&&(r.publishMetric({name:le,data:{count:st}}),r.publishMetric({name:_e,data:{count:1}}),r.publishMetric({name:He,data:{count:Ze}})),me=null},1e3)}}),Et.onUpstream(r.EventType.LOG,function(We){We.loggerId!==r.getLog().getLoggerId()&&r.getLog().addLogEntry(r.LogEntry.fromObject(We))}),r.core.getEventBus().subscribe(r.EventType.ACK_TIMEOUT,function(){if(Ee.loginPopup!==!1)try{var We=ot(Ee);r.getLog().warn("ACK_TIMEOUT occurred, attempting to pop the login page if not already open.").sendInternalLogToServer(),r.core._openPopupWithLock(We,Ee.loginOptions)}catch(Ze){r.getLog().error("ACK_TIMEOUT occurred but we are unable to open the login popup.").withException(Ze).sendInternalLogToServer()}if(r.core.iframeRefreshTimeout==null)try{Et.onUpstream(r.EventType.ACKNOWLEDGE,function(){this.unsubscribe(),A.clearTimeout(r.core.iframeRefreshTimeout),r.core.iframeRefreshTimeout=null,(Ee.loginPopupAutoClose||Ee.loginOptions&&Ee.loginOptions.autoClose)&&r.core.loginWindow&&(r.core.loginWindow.close(),r.core.loginWindow=null)}),r.core._refreshIframeOnTimeout(Ee,D)}catch(Ze){r.getLog().error("Error occurred while refreshing iframe").withException(Ze).sendInternalLogToServer()}}),Ee.onViewContact&&r.core.onViewContact(Ee.onViewContact),Et.onUpstream(r.EventType.UPDATE_CONNECTED_CCPS,function(We){r.numberOfConnectedCCPs=We.length}),Et.onUpstream(r.VoiceIdEvents.UPDATE_DOMAIN_ID,function(We){We&&We.domainId&&(r.core.voiceIdDomainId=We.domainId)}),r.core.getEventBus().subscribe(r.EventType.IFRAME_RETRIES_EXHAUSTED,function(){if(me){var We=r.core.iframeRefreshAttempt-1;r.getLog().info("Iframe initialization failed").sendInternalLogToServer(),r.getLog().info("Time after iframe initialization started ".concat(Date.now()-me)).sendInternalLogToServer(),r.getLog().info("Iframe refresh attempts ".concat(We)).sendInternalLogToServer(),r.publishMetric({name:se,data:{count:We}}),r.publishMetric({name:ve,data:{count:0}}),Ee.disasterRecoveryOn&&(r.publishMetric({name:le,data:{count:We}}),r.publishMetric({name:_e,data:{count:0}})),me=null}}),r.core.softphoneParams=Ee.softphone}},r.core._openPopupWithLock=function(D,H){var te="connect-login-popup-lock"+D;try{navigator.locks.request(te,{mode:"exclusive",ifAvailable:!0},function(){var re=L(he().mark(function me(Ee){var je;return he().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(Ee){xe.next=3;break}return r.getLog().info("Popup already opened by another tab.").sendInternalLogToServer(),xe.abrupt("return");case 3:r.getLog().info("Opening popup window with weblock.").sendInternalLogToServer(),r.core.loginWindow=r.core.getPopupManager().open(D,r.MasterTopics.LOGIN_POPUP,H),r.core._shouldHoldPopupLock=!0,je=setInterval(function(){var Le;(!r.core.loginWindow||(Le=r.core.loginWindow)!==null&&Le!==void 0&&Le.closed)&&(clearInterval(je),r.core._shouldHoldPopupLock=!1,r.getLog().info("Cleared check popup interval.").sendInternalLogToServer())},Be);case 7:if(!r.core._shouldHoldPopupLock){xe.next=12;break}return xe.next=10,new Promise(function(Le){return setTimeout(Le,1e3)});case 10:xe.next=7;break;case 12:r.getLog().info("Releasing weblock for opening login popup.").sendInternalLogToServer();case 13:case"end":return xe.stop()}},me)}));return function(me){return re.apply(this,arguments)}}())}catch(re){r.getLog().error("Failed to use weblock to open popup. Your browser may be out of date.").withException(re).sendInternalLogToServer(),r.core.loginWindow||(r.core.loginWindow=r.core.getPopupManager().open(D,r.MasterTopics.LOGIN_POPUP,H))}},r.core.onIframeRetriesExhausted=function(D){return r.core.getEventBus().subscribe(r.EventType.IFRAME_RETRIES_EXHAUSTED,D)},r.core._refreshIframeOnTimeout=function(D,H,te,re){r.assertNotNull(D,"initCCPParams"),r.assertNotNull(H,"containerDiv");var me=te||r.core,Ee=D.ccpLoadTimeout?D.ccpLoadTimeout:D.disasterRecoveryOn?ee:z;A.clearTimeout(me.iframeRefreshTimeout),me.iframeRefreshTimeout=A.setTimeout(function(){me.iframeRefreshAttempt=(me.iframeRefreshAttempt||0)+1,me.iframeRefreshAttempt<=oe?(r.getLog().info("Refreshing the CCP IFrame for ".concat(D.ccpUrl," on attempt ").concat(me.iframeRefreshAttempt)).sendInternalLogToServer(),r.core._replaceCCPIframe(H,D,re),r.core._refreshIframeOnTimeout(D,H,te,re)):(r.core.getEventBus().trigger(r.EventType.IFRAME_RETRIES_EXHAUSTED,re),A.clearTimeout(me.iframeRefreshTimeout))},Ee)},r.core._replaceCCPIframe=function(D,H,te){try{var re=r.core._getCCPIframe(te),me=null;re&&(me=re.style,re.parentNode.removeChild(re));var Ee=r.core._createCCPIframe(D,H,te);if(me&&(Ee.style=me.cssText),r.core.getUpstream()instanceof r.GRProxyIframeConduit){var je=r.core.upstream;je.getAllConduits().forEach(function(Ke){Ke.iframe.dataset.identifier===te&&(Ke.upstream.output=Ee.contentWindow,Ke.iframe=Ee)})}else r.core.getUpstream().upstream.output=Ee.contentWindow;r.core._sendIframeStyleDataUpstreamAfterReasonableWaitTime(Ee,r.core.upstream)}catch(Ke){r.getLog().error("Error while checking for, and recreating, the CCP IFrame").withException(Ke).sendInternalLogToServer()}},r.core._getCCPIframe=function(D){var H=v(window.document.getElementsByTagName("iframe")),te;try{for(H.s();!(te=H.n()).done;){var re=te.value;if(re.name===Q){var me;if(!D||((me=re.dataset)===null||me===void 0?void 0:me.identifier)===D)return re}}}catch(Ee){H.e(Ee)}finally{H.f()}return null},r.core._createCCPIframe=function(D,H,te){var re;r.assertNotNull(H,"initCCPParams"),r.assertNotNull(D,"containerDiv");var me=document.createElement("iframe");if(me.src=H.ccpUrl,me.allow="microphone; camera; autoplay; clipboard-write; identity-credentials-get",me.style=H.style||r.core.iframeStyle,me.title=H.iframeTitle||Q,me.name=Q,te&&(me.dataset.identifier=te),r.storageAccess.canRequest()&&(me.src=r.storageAccess.getRequestStorageAccessUrl(),me.addEventListener("load",r.storageAccess.request)),(re=r.core._amazonConnectProviderData)!==null&&re!==void 0&&re.isStreamsProvider)try{r.core._amazonConnectProviderData.provider.setCCPIframe(me)}catch(Ee){r.getLog().error("Error occurred when setting CCP iframe to provider").withException(Ee).sendInternalLogToServer()}return D.appendChild(me),me},r.core._hideIframe=function(D){D.style=r.core.iframeStyle+"display: none;"},r.core._showIframe=function(D){D.style=r.core.iframeStyle},r.core._sendIframeStyleDataUpstreamAfterReasonableWaitTime=function(D,H){r.assertNotNull(D,"iframe"),r.assertNotNull(H,"conduit"),setTimeout(function(){var te=window.getComputedStyle(D,null),re={display:te.display,offsetWidth:D.offsetWidth,offsetHeight:D.offsetHeight,clientRectsLength:D.getClientRects().length};H.sendUpstream(r.EventType.IFRAME_STYLE,re)},1e4)},r.core.getSDKClientConfig=function(){var D;if(!r.core._amazonConnectProviderData)throw new Error("Provider is not initialized");return{provider:(D=r.core._amazonConnectProviderData)===null||D===void 0?void 0:D.provider}};var j=function(H,te,re,me){this.conduit=H,this.eventBus=te,this.synTimeout=re,this.ackTimeout=me,this.ackTimer=null,this.synTimer=null,this.ackSub=null};j.prototype.start=function(){var D=this;this.conduit.sendUpstream(r.EventType.SYNCHRONIZE),this.ackSub=this.conduit.onUpstream(r.EventType.ACKNOWLEDGE,function(){this.unsubscribe(),A.clearTimeout(D.ackTimer),D._deferStart()}),this.ackTimer=A.setTimeout(function(){D.ackSub.unsubscribe(),r.isActiveConduit(D.conduit)?(r.getLog().info("ACK_TIMEOUT event is detected from the KeepaliveManager. ".concat(D.conduit.name)).sendInternalLogToServer(),D.eventBus.trigger(r.EventType.ACK_TIMEOUT)):r.getLog().warn("ACK_TIMEOUT event is detected from the KeepaliveManager but suppressed as it is from an inactive region. ".concat(D.conduit.name)).sendInternalLogToServer(),D._deferStart()},this.ackTimeout)},j.prototype._deferStart=function(){this.synTimer=A.setTimeout(r.hitch(this,this.start),this.synTimeout)},j.prototype.deferStart=function(){this.synTimer==null&&(this.synTimer=A.setTimeout(r.hitch(this,this.start),this.synTimeout))};var G=function(){var H={initFailure:new Set,subscriptionUpdate:new Set,subscriptionFailure:new Set,topic:new Map,allMessage:new Set,connectionGain:new Set,connectionLost:new Set,connectionOpen:new Set,connectionClose:new Set,deepHeartbeatSuccess:new Set,deepHeartbeatFailure:new Set,topicFailure:new Set},te=function(me,Ee){me.forEach(function(je){je(Ee)})};r.core.getUpstream().onUpstream(r.WebSocketEvents.INIT_FAILURE,function(){te(H.initFailure)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.CONNECTION_OPEN,function(re){te(H.connectionOpen,re)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.CONNECTION_CLOSE,function(re){te(H.connectionClose,re)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.CONNECTION_GAIN,function(){te(H.connectionGain)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.CONNECTION_LOST,function(re){te(H.connectionLost,re)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.SUBSCRIPTION_UPDATE,function(re){te(H.subscriptionUpdate,re)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.SUBSCRIPTION_FAILURE,function(re){te(H.subscriptionFailure,re)}),r.core.getUpstream().onUpstream(r.WebSocketEvents.ALL_MESSAGE,function(re){te(H.allMessage,re),H.topic.has(re.topic)&&te(H.topic.get(re.topic),re)}),this.sendMessage=function(re){r.core.getUpstream().sendUpstream(r.WebSocketEvents.SEND,re)},this.onInitFailure=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.initFailure.add(re),function(){return H.initFailure.delete(re)}},this.onConnectionOpen=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.connectionOpen.add(re),function(){return H.connectionOpen.delete(re)}},this.onConnectionClose=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.connectionClose.add(re),function(){return H.connectionClose.delete(re)}},this.onConnectionGain=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.connectionGain.add(re),function(){return H.connectionGain.delete(re)}},this.onConnectionLost=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.connectionLost.add(re),function(){return H.connectionLost.delete(re)}},this.onSubscriptionUpdate=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.subscriptionUpdate.add(re),function(){return H.subscriptionUpdate.delete(re)}},this.onSubscriptionFailure=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.subscriptionFailure.add(re),function(){return H.subscriptionFailure.delete(re)}},this.subscribeTopics=function(re){r.assertNotNull(re,"topics"),r.assertTrue(r.isArray(re),"topics must be a array"),r.core.getUpstream().sendUpstream(r.WebSocketEvents.SUBSCRIBE,re)},this.onMessage=function(re,me){return r.assertNotNull(re,"topicName"),r.assertTrue(r.isFunction(me),"method must be a function"),H.topic.has(re)?H.topic.get(re).add(me):H.topic.set(re,new Set([me])),function(){return H.topic.get(re).delete(me)}},this.onAllMessage=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.allMessage.add(re),function(){return H.allMessage.delete(re)}},this.onDeepHeartbeatSuccess=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.deepHeartbeatSuccess.add(re),function(){return H.deepHeartbeatSuccess.delete(re)}},this.onDeepHeartbeatFailure=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.deepHeartbeatFailure.add(re),function(){return H.deepHeartbeatFailure.delete(re)}},this.onTopicFailure=function(re){return r.assertTrue(r.isFunction(re),"method must be a function"),H.topicFailure.add(re),function(){return H.topicFailure.delete(re)}}};r.core._removeContactFromEndedSet=function(D){try{r.getLog().info("[ContactEvent] Removing contact from ENDED event tracker").withObject({contactId:D}).sendInternalLogToServer(),r.core.endedEventTracker.delete(D),r.getLog().info("[ContactEvent] Removed contact from ENDED event tracker").withObject(r.core.endedEventTracker.entries()).sendInternalLogToServer()}catch(H){r.getLog().error("[ContactEvent] Failed to remove contact from ENDED event tracker").withObject({contactId:D||"unknown"}).withException(H).sendInternalLogToServer()}},r.core._handleEndedEvent=function(D,H){try{r.core.endedEventTracker.has(D)&&Ge.includes(H)&&(r.getLog().info("[ContactEvent] ENDED was triggered").withObject({contactId:D}).sendInternalLogToServer(),r.core._removeContactFromEndedSet(D))}catch(te){r.getLog().error("[ContactEvent] Failed to handle proper ENDED event being triggered").withException(te).sendInternalLogToServer()}},r.core._shouldTriggerInvalidStateTransition=function(D){if(r.core.endedEventTracker.has(D.contactId))try{return r.getLog().info("[ContactEvent] Contact did not transition to the ENDED state prior to DESTROYED").withObject(D).sendInternalLogToServer(),r.core._removeContactFromEndedSet(D.contactId),!0}catch(H){r.getLog().error("[ContactEvent] Failed to handle invalid state transition error handling").withException(H).sendInternalLogToServer()}return!1};var x=function(H){this.bus=H,this.agentUpdateSubscriber=this.bus.subscribe(r.AgentEvents.UPDATE,r.hitch(this,this.updateAgentData))};x.prototype.updateAgentData=function(D){var H,te=this.agentData;this.agentData=D,(H=r.agent)!==null&&H!==void 0&&H.initialized||(r.agent.initialized=!0,this.bus.trigger(r.AgentEvents.INIT,new r.Agent)),this.bus.trigger(r.AgentEvents.REFRESH,new r.Agent),this._fireAgentUpdateEvents(te)},x.prototype.getAgentData=function(){if(this.agentData==null)throw new r.StateError("No agent data is available yet!");return this.agentData},x.prototype.getContactData=function(D){var H=this.getAgentData(),te=r.find(H.snapshot.contacts,function(re){return re.contactId===D});if(te==null)throw new r.StateError("Contact %s no longer exists.",D);return te},x.prototype.getConnectionData=function(D,H){var te=this.getContactData(D),re=r.find(te.connections,function(me){return me.connectionId===H});if(re==null)throw new r.StateError("Connection %s for contact %s no longer exists.",H,D);return re},x.prototype.getInstanceId=function(){return this.getAgentData().configuration.routingProfile.routingProfileId.match(/instance\/([0-9a-fA-F|-]+)\//)[1]},x.prototype.getAWSAccountId=function(){return this.getAgentData().configuration.routingProfile.routingProfileId.match(/:([0-9]+):instance/)[1]},x.prototype._diffContacts=function(D){var H={added:{},removed:{},common:{},oldMap:r.index(D==null?[]:D.snapshot.contacts,function(te){return te.contactId}),newMap:r.index(this.agentData.snapshot.contacts,function(te){return te.contactId}),endTime:0};return r.keys(H.oldMap).forEach(function(te){r.contains(H.newMap,te)?H.common[te]=H.newMap[te]:H.removed[te]=H.oldMap[te]}),r.keys(H.newMap).forEach(function(te){r.contains(H.oldMap,te)||(H.added[te]=H.newMap[te])}),H.endTime=performance.now(),H},x.prototype._fireAgentUpdateEvents=function(D){var H=this,te=null,re=D==null?r.AgentAvailStates.INIT:D.snapshot.state.name,me=this.agentData.snapshot.state.name,Ee=D==null?r.AgentStateType.INIT:D.snapshot.state.type,je=this.agentData.snapshot.state.type;Ee!==je&&r.core.getAgentRoutingEventGraph().getAssociations(this,Ee,je).forEach(function(Le){H.bus.trigger(Le,new r.Agent)}),re!==me&&(this.bus.trigger(r.AgentEvents.STATE_CHANGE,{agent:new r.Agent,oldState:re,newState:me}),r.core.getAgentStateEventGraph().getAssociations(this,re,me).forEach(function(Le){H.bus.trigger(Le,new r.Agent)}));var Ke=D&&D.snapshot.nextState?D.snapshot.nextState.name:null,xe=this.agentData.snapshot.nextState?this.agentData.snapshot.nextState.name:null;Ke!==xe&&xe&&H.bus.trigger(r.AgentEvents.ENQUEUED_NEXT_STATE,new r.Agent),D!==null?te=this._diffContacts(D):te={added:r.index(this.agentData.snapshot.contacts,function(Le){return Le.contactId}),removed:{},common:{},oldMap:{},newMap:r.index(this.agentData.snapshot.contacts,function(Le){return Le.contactId}),endTime:performance.now()},r.values(te.added).forEach(function(Le){H.bus.trigger(r.ContactEvents.INIT,new r.Contact(Le.contactId)),H._fireContactUpdateEvents(Le.contactId,r.ContactStateType.INIT,Le.state.type)}),r.values(te.removed).forEach(function(Le){H.bus.trigger(r.ContactEvents.DESTROYED,new r.ContactSnapshot(Le)),H.bus.trigger(r.core.getContactEventName(r.ContactEvents.DESTROYED,Le.contactId),new r.ContactSnapshot(Le)),H._unsubAllContactEventsForContact(Le.contactId)}),r.keys(te.common).forEach(function(Le){H._fireContactUpdateEvents(Le,te.oldMap[Le].state.type,te.newMap[Le].state.type)})},x.prototype._fireContactUpdateEvents=function(D,H,te){var re=this;H!==te&&r.core.getContactEventGraph().getAssociations(this,H,te).forEach(function(me){re.bus.trigger(me,new r.Contact(D)),re.bus.trigger(r.core.getContactEventName(me,D),new r.Contact(D))}),re.bus.trigger(r.ContactEvents.REFRESH,new r.Contact(D)),re.bus.trigger(r.core.getContactEventName(r.ContactEvents.REFRESH,D),new r.Contact(D))},x.prototype._unsubAllContactEventsForContact=function(D){var H=this;r.values(r.ContactEvents).forEach(function(te){H.bus.getSubscriptions(r.core.getContactEventName(te,D)).map(function(re){re.unsubscribe()})})},x.prototype.destroy=function(){var D=this;D.agentUpdateSubscriber.unsubscribe()},r.core.onViewContact=function(D){return r.core.getEventBus().subscribe(r.ContactEvents.VIEW,D)},r.core.viewContact=function(D){r.core.getUpstream().sendUpstream(r.EventType.BROADCAST,{event:r.ContactEvents.VIEW,data:{contactId:D}})},r.core.onActivateChannelWithViewType=function(D){return r.core.getEventBus().subscribe(r.ChannelViewEvents.ACTIVATE_CHANNEL_WITH_VIEW_TYPE,D)},r.core.activateChannelWithViewType=function(D,H,te,re,me){var Ee={viewType:D,mediaType:H};te&&(Ee.source=te),re&&(Ee.caseId=re),me?Ee.clientToken=me:Ee.clientToken=r.randomId(),r.core.getUpstream().sendUpstream(r.EventType.BROADCAST,{event:r.ChannelViewEvents.ACTIVATE_CHANNEL_WITH_VIEW_TYPE,data:Ee})},r.core.triggerTaskCreated=function(D){r.core.getUpstream().upstreamBus.trigger(r.TaskEvents.CREATED,D)},r.core.triggerEmailCreated=function(D){r.core.getUpstream().upstreamBus.trigger(r.EmailEvents.CREATED,D)},r.core.onAccessDenied=function(D){return r.core.getEventBus().subscribe(r.EventType.ACCESS_DENIED,D)},r.core.onAuthFail=function(D){return r.core.getEventBus().subscribe(r.EventType.AUTH_FAIL,D)},r.core.onAuthorizeSuccess=function(D){return r.core.getEventBus().subscribe(r.EventType.AUTHORIZE_SUCCESS,D)},r.core._handleAuthorizeSuccess=function(){window.sessionStorage.setItem(r.SessionStorageKeys.AUTHORIZE_RETRY_COUNT,0)},r.core._handleAuthFail=function(D,H,te){te&&te.authorize?r.core._handleAuthorizeFail(D):r.core._handleCTIAuthFail(H)},r.core._handleAuthorizeFail=function(D){var H=r.core._getAuthRetryCount();if(!r.core.authorizeTimeoutId)if(H<r.core.MAX_AUTHORIZE_RETRY_COUNT_FOR_SESSION){r.core._incrementAuthRetryCount();var te=AWS.util.calculateRetryDelay(H+1||0,{base:2e3});r.core.authorizeTimeoutId=setTimeout(function(){r.core._redirectToLogin(D)},te)}else r.getLog().warn("We have exhausted our authorization retries due to 401s from the authorize api. No more retries will be attempted in this session until the authorize api returns 200.").sendInternalLogToServer(),r.core.getEventBus().trigger(r.EventType.AUTHORIZE_RETRIES_EXHAUSTED)},r.core._redirectToLogin=function(D){typeof D=="string"?location.assign(D):location.reload()},r.core._handleCTIAuthFail=function(D){if(!r.core.ctiTimeoutId)if(r.core.ctiAuthRetryCount<r.core.MAX_CTI_AUTH_RETRY_COUNT){r.core.ctiAuthRetryCount++;var H=AWS.util.calculateRetryDelay(r.core.ctiAuthRetryCount||0,{base:500});r.core.ctiTimeoutId=setTimeout(function(){r.core.authorize(D).then(r.core._triggerAuthorizeSuccess.bind(r.core)).catch(r.core._triggerAuthFail.bind(r.core,{authorize:!0})),r.core.ctiTimeoutId=null},H)}else r.getLog().warn("We have exhausted our authorization retries due to 401s from the CTI service. No more retries will be attempted until the page is refreshed.").sendInternalLogToServer(),r.core.getEventBus().trigger(r.EventType.CTI_AUTHORIZE_RETRIES_EXHAUSTED)},r.core._triggerAuthorizeSuccess=function(){r.core.getUpstream().upstreamBus.trigger(r.EventType.AUTHORIZE_SUCCESS)},r.core._triggerAuthFail=function(D){r.core.getUpstream().upstreamBus.trigger(r.EventType.AUTH_FAIL,D)},r.core._getAuthRetryCount=function(){var D=window.sessionStorage.getItem(r.SessionStorageKeys.AUTHORIZE_RETRY_COUNT);if(D!==null){if(isNaN(parseInt(D)))throw new r.StateError("The session storage value for auth retry count was NaN");return parseInt(D)}else return window.sessionStorage.setItem(r.SessionStorageKeys.AUTHORIZE_RETRY_COUNT,0),0},r.core._incrementAuthRetryCount=function(){window.sessionStorage.setItem(r.SessionStorageKeys.AUTHORIZE_RETRY_COUNT,(r.core._getAuthRetryCount()+1).toString())},r.core.onAuthorizeRetriesExhausted=function(D){return r.core.getEventBus().subscribe(r.EventType.AUTHORIZE_RETRIES_EXHAUSTED,D)},r.core.onCTIAuthorizeRetriesExhausted=function(D){return r.core.getEventBus().subscribe(r.EventType.CTI_AUTHORIZE_RETRIES_EXHAUSTED,D)},r.core.onSoftphoneSessionInit=function(D){return r.core.getEventBus().subscribe(r.ConnectionEvents.SESSION_INIT,D)},r.core.onConfigure=function(D){return r.core.getEventBus().subscribe(r.ConfigurationEvents.CONFIGURE,D)},r.core.onInitialized=function(D){return r.core.getEventBus().subscribe(r.EventType.INIT,D)},r.core.getContactEventName=function(D,H){if(r.assertNotNull(D,"eventName"),r.assertNotNull(H,"contactId"),!r.contains(r.values(r.ContactEvents),D))throw new r.ValueError("%s is not a valid contact event.",D);return r.sprintf("%s::%s",D,H)},r.core.getEventBus=function(){return r.core.eventBus},r.core.getWebSocketManager=function(){return r.core.webSocketProvider},r.core.getAgentDataProvider=function(){return r.core.agentDataProvider},r.core.getLocalTimestamp=function(){return r.core.getAgentDataProvider().getAgentData().snapshot.localTimestamp},r.core.getSkew=function(){return r.core.getAgentDataProvider().getAgentData().snapshot.skew},r.core.getAgentRoutingEventGraph=function(){return r.core.agentRoutingEventGraph},r.core.agentRoutingEventGraph=new r.EventGraph().assoc(r.EventGraph.ANY,r.AgentStateType.ROUTABLE,r.AgentEvents.ROUTABLE).assoc(r.EventGraph.ANY,r.AgentStateType.NOT_ROUTABLE,r.AgentEvents.NOT_ROUTABLE).assoc(r.EventGraph.ANY,r.AgentStateType.OFFLINE,r.AgentEvents.OFFLINE),r.core.getAgentStateEventGraph=function(){return r.core.agentStateEventGraph},r.core.agentStateEventGraph=new r.EventGraph().assoc(r.EventGraph.ANY,r.values(r.AgentErrorStates),r.AgentEvents.ERROR).assoc(r.EventGraph.ANY,r.AgentAvailStates.AFTER_CALL_WORK,r.AgentEvents.ACW),r.core.getContactEventGraph=function(){return r.core.contactEventGraph},r.core.contactEventGraph=new r.EventGraph().assoc(r.EventGraph.ANY,r.ContactStateType.INCOMING,r.ContactEvents.INCOMING).assoc(r.EventGraph.ANY,r.ContactStateType.PENDING,r.ContactEvents.PENDING).assoc(r.EventGraph.ANY,r.ContactStateType.CONNECTING,r.ContactEvents.CONNECTING).assoc(r.EventGraph.ANY,r.ContactStateType.CONNECTED,r.ContactEvents.CONNECTED).assoc(r.ContactStateType.CONNECTING,r.ContactStateType.ERROR,r.ContactEvents.MISSED).assoc(r.ContactStateType.INCOMING,r.ContactStateType.ERROR,r.ContactEvents.MISSED).assoc(r.EventGraph.ANY,r.ContactStateType.ENDED,r.ContactEvents.ACW).assoc(r.values(r.CONTACT_ACTIVE_STATES),r.values(r.relativeComplement(r.CONTACT_ACTIVE_STATES,r.ContactStateType)),r.ContactEvents.ENDED).assoc(r.EventGraph.ANY,r.ContactStateType.ERROR,r.ContactEvents.ERROR).assoc(r.ContactStateType.CONNECTING,r.ContactStateType.MISSED,r.ContactEvents.MISSED).assoc(r.ContactStateType.INCOMING,r.ContactStateType.MISSED,r.ContactEvents.MISSED).assoc(r.ContactStateType.CONNECTING,r.ContactStateType.REJECTED,r.ContactEvents.MISSED).assoc(r.ContactStateType.INCOMING,r.ContactStateType.REJECTED,r.ContactEvents.MISSED),r.core.getClient=function(){if(!r.core.client)throw new r.StateError("The connect core has not been initialized!");return r.core.client},r.core.client=null,r.core.getApiProxyClient=function(){if(!r.core.apiProxyClient)throw new r.StateError("The connect apiProxy Client has not been initialized!");return r.core.apiProxyClient},r.core.apiProxyClient=null,r.core.getAgentAppClient=function(){if(!r.core.agentAppClient)throw new r.StateError("The connect AgentApp Client has not been initialized!");return r.core.agentAppClient},r.core.agentAppClient=null,r.core.getTaskTemplatesClient=function(){if(!r.core.taskTemplatesClient)throw new r.StateError("The connect TaskTemplates Client has not been initialized!");return r.core.taskTemplatesClient},r.core.taskTemplatesClient=null,r.core.getMasterClient=function(){if(!r.core.masterClient)throw new r.StateError("The connect master client has not been initialized!");return r.core.masterClient},r.core.masterClient=null,r.core.getSoftphoneManager=function(){return r.core.softphoneManager},r.core.softphoneManager=null,r.core.getNotificationManager=function(){return r.core.notificationManager||(r.core.notificationManager=new r.NotificationManager),r.core.notificationManager},r.core.notificationManager=null,r.core.getPopupManager=function(){return r.core.popupManager},r.core.popupManager=new r.PopupManager,r.core.getUpstream=function(){if(!r.core.upstream)throw new r.StateError("There is no upstream conduit!");return r.core.upstream},r.core.upstream=null,r.globalResiliency.onFailoverPending=function(D){return r.core.getEventBus().subscribe(r.GlobalResiliencyEvents.FAILOVER_PENDING_CRM,D)},r.globalResiliency.onFailoverCompleted=function(D){return r.core.getEventBus().subscribe(r.GlobalResiliencyEvents.FAILOVER_COMPLETE,D)},r.globalResiliency.onConfigureError=function(D){return r.core.getEventBus().subscribe(r.GlobalResiliencyEvents.CONFIGURE_ERROR,D)},r.globalResiliency.getActiveRegion=function(){return r.globalResiliency._activeRegion},r.core.AgentDataProvider=x,r.WebSocketProvider=G,r.KeepaliveManager=j})()},682:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie;var ue="<<all>>",Oe=ie.makeEnum(["acknowledge","ack_timeout","init","api_request","api_response","auth_fail","access_denied","close","configure","log","download_log_from_ccp","master_request","master_response","synchronize","terminate","terminated","send_logs","reload_agent_configuration","broadcast","api_metric","client_metric","softphone_stats","softphone_report","client_side_logs","server_bound_internal_log","mute","iframe_style","iframe_retries_exhausted","update_connected_ccps","outer_context_info","media_device_request","media_device_response","tab_id","authorize_success","authorize_retries_exhausted","cti_authorize_retries_exhausted","click_stream_data","set_quick_get_agent_snapshot_flag","api_proxy_request","api_proxy_response"]),he=ie.makeNamespacedEnum("connect",["loginPopup","sendLogs","softphone","ringtone","metrics","failover"]),N=ie.makeNamespacedEnum("agent",["init","update","refresh","routable","not_routable","pending","contact_pending","offline","error","softphone_error","websocket_connection_lost","websocket_connection_gained","state_change","acw","mute_toggle","local_media_stream_created","enqueued_next_state","fetch_agent_data_from_ccp"]),L=ie.makeNamespacedEnum("webSocket",["init_failure","connection_open","connection_close","connection_error","connection_gain","connection_lost","subscription_update","subscription_failure","all_message","send","subscribe"]),u=ie.makeNamespacedEnum("contact",["init","refresh","destroyed","incoming","pending","connecting","connected","missed","acw","view","ended","error","accepted","invalid_state_transition","screen_sharing_started","screen_sharing_stopped","screen_sharing_error"]),E=ie.makeNamespacedEnum("taskList",["activate_channel_with_view_type"]),C=ie.makeNamespacedEnum("task",["created"]),v=ie.makeNamespacedEnum("email",["created"]),m=ie.makeNamespacedEnum("connection",["session_init","ready_to_start_session"]),f=ie.makeNamespacedEnum("configuration",["configure","set_speaker_device","set_microphone_device","set_ringer_device","speaker_device_changed","microphone_device_changed","ringer_device_changed","camera_device_changed","background_blur_changed"]),a=ie.makeNamespacedEnum("disasterRecovery",["suppress","force_offline","set_offline","init_disaster_recovery","failover","failover_pending","init_dr_polling"]),d=ie.makeNamespacedEnum("globalResiliency",["configure","configure_ccp_conduit","init","configure_error","failover_initiated","failover_pending","failover_pending_crm","failover_complete","heartbeat_syn","heartbeat_ack"]),p=ie.makeNamespacedEnum("voiceId",["update_domain_id"]),c=function(){};c.createRequest=function(T,S,y){return{event:T,requestId:ie.randomId(),method:S,params:y}},c.createResponse=function(T,S,y,h){return{event:T,requestId:S.requestId,data:y,err:h||null}};var l=function(S,y,h){this.subMap=S,this.id=ie.randomId(),this.eventName=y,this.f=h};l.prototype.unsubscribe=function(){this.subMap.unsubscribe(this.eventName,this.id)};var s=function(){this.subIdMap={},this.subEventNameMap={}};s.prototype.subscribe=function(T,S){var y=new l(this,T,S);this.subIdMap[y.id]=y;var h=this.subEventNameMap[T]||[];return h.push(y),this.subEventNameMap[T]=h,y},s.prototype.unsubscribe=function(T,S){ie.contains(this.subEventNameMap,T)&&(this.subEventNameMap[T]=this.subEventNameMap[T].filter(function(y){return y.id!==S}),this.subEventNameMap[T].length<1&&delete this.subEventNameMap[T]),ie.contains(this.subIdMap,S)&&delete this.subIdMap[S]},s.prototype.getAllSubscriptions=function(){return ie.values(this.subEventNameMap).reduce(function(T,S){return T.concat(S)},[])},s.prototype.getSubscriptions=function(T){return this.subEventNameMap[T]||[]};var i=function(S){var y=S||{};this.subMap=new s,this.logEvents=y.logEvents||!1};i.prototype.subscribe=function(T,S){return ie.assertNotNull(T,"eventName"),ie.assertNotNull(S,"f"),ie.assertTrue(ie.isFunction(S),"f must be a function"),this.subMap.subscribe(T,S)},i.prototype.subscribeAll=function(T){return ie.assertNotNull(T,"f"),ie.assertTrue(ie.isFunction(T),"f must be a function"),this.subMap.subscribe(ue,T)},i.prototype.getSubscriptions=function(T){return this.subMap.getSubscriptions(T)},i.prototype.trigger=function(T,S){ie.assertNotNull(T,"eventName");var y=this,h=this.subMap.getSubscriptions(ue),b=this.subMap.getSubscriptions(T);this.logEvents&&T!==ie.EventType.LOG&&T!==ie.EventType.MASTER_RESPONSE&&T!==ie.EventType.API_METRIC&&T!==ie.EventType.SERVER_BOUND_INTERNAL_LOG&&ie.getLog().trace("Publishing event: %s",T).sendInternalLogToServer(),T.startsWith(ie.ContactEvents.ACCEPTED)&&S&&S.contactId&&!(S instanceof ie.Contact)&&(S=new ie.Contact(S.contactId)),h.concat(b).forEach(function(A){try{A.f(S||null,T,y)}catch(r){ie.getLog().error("'%s' event handler failed.",T).withException(r).sendInternalLogToServer()}})},i.prototype.bridge=function(){var T=this;return function(S,y){T.trigger(y,S)}},i.prototype.unsubscribeAll=function(){this.subMap.getAllSubscriptions().forEach(function(T){T.unsubscribe()})},ie.EventBus=i,ie.EventFactory=c,ie.EventType=Oe,ie.AgentEvents=N,ie.ConfigurationEvents=f,ie.ConnectionEvents=m,ie.ConnnectionEvents=m,ie.ContactEvents=u,ie.ChannelViewEvents=E,ie.TaskEvents=C,ie.EmailEvents=v,ie.VoiceIdEvents=p,ie.WebSocketEvents=L,ie.MasterTopics=he,ie.DisasterRecoveryEvents=a,ie.GlobalResiliencyEvents=d})()},949:()=>{function ae(L){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ae(L)}function ie(L,u){var E=Object.keys(L);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(L);u&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(L,v).enumerable})),E.push.apply(E,C)}return E}function ue(L){for(var u=1;u<arguments.length;u++){var E=arguments[u]!=null?arguments[u]:{};u%2?ie(Object(E),!0).forEach(function(C){Oe(L,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(E)):ie(Object(E)).forEach(function(C){Object.defineProperty(L,C,Object.getOwnPropertyDescriptor(E,C))})}return L}function Oe(L,u,E){return(u=he(u))in L?Object.defineProperty(L,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[u]=E,L}function he(L){var u=N(L,"string");return ae(u)=="symbol"?u:u+""}function N(L,u){if(ae(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var C=E.call(L,u);if(ae(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(L)}(function(){var L=this||globalThis,u=L.connect||{};L.connect=u;var E=1e3,C=3e3,v=5e3,m="IframeRefreshAttempts",f="IframeInitializationSuccess",a="IframeInitializationTime";u.globalResiliency._downloadCCPLogs=function(){u.core.getEventBus().trigger(u.EventType.DOWNLOAD_LOG_FROM_CCP)},u.globalResiliency._initializeActiveRegion=function(d,p){try{var c;(c=u.core.agentDataProvider)===null||c===void 0||c.destroy(),u.core.agentDataProvider=new u.core.AgentDataProvider(u.core.getEventBus()),d.getActiveConduit().sendUpstream(u.AgentEvents.FETCH_AGENT_DATA_FROM_CCP)}catch(s){u.getLog().error("[GR] There was an error reinitializing the agent data provider.").withException(s).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencySwitchRegionAgentDataProviderFailure",data:{count:1}})}u.core.keepaliveManager=d.getActiveConduit().keepaliveManager,u.core.client=new u.UpstreamConduitClient(d.getActiveConduit()),u.core.masterClient=new u.UpstreamConduitMasterClient(d.getActiveConduit()),u.core.mediaFactory=new u.MediaFactory(ue(ue({},u.globalResiliency.params),{},{ccpUrl:d.getActiveConduit().name}));try{var l;(l=u.core)!==null&&l!==void 0&&l.softphoneManager?u.core._allowSoftphonePersistentConnection?(u.getLog().info("[GR] Refreshing softphone manager RTC peer connection manager.").sendInternalLogToServer(),u.core.softphoneManager._initiateRtcPeerConnectionManager()):(u.getLog().info("[GR] Refreshing softphone manager RTC peer connection factory.").sendInternalLogToServer(),u.core.softphoneManager._refreshRtcPeerConnectionFactory()):u.getLog().info("[GR] Softphone manager not initialized or not used, not refreshing softphone manager.").sendInternalLogToServer()}catch(s){u.getLog().error("[GR] There was an error refreshing the softphone manager.").withException(s).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencySwitchRegionWebRTCFailure",data:{count:1}})}p&&(u.globalResiliency._activeRegion=p,u.ChatSession?u.ChatSession.setRegionOverride?(u.getLog().info("[GR] Updating ChatJS region to ".concat(p)).sendInternalLogToServer(),u.ChatSession.setRegionOverride(p)):u.getLog().warn("[GR] ChatJS present, but setRegionOverride not found. Consider updating to latest ChatJS version").sendInternalLogToServer():u.getLog().info("[GR] ChatJS not present, not updating ChatSession region.").sendInternalLogToServer()),d.getActiveConduit().sendUpstream(u.GlobalResiliencyEvents.CONFIGURE_CCP_CONDUIT,{instanceState:"active"}),d.getInactiveConduit().sendUpstream(u.GlobalResiliencyEvents.CONFIGURE_CCP_CONDUIT,{instanceState:"inactive"});try{u.core._showIframe(d.getActiveConduit().iframe),u.core._hideIframe(d.getInactiveConduit().iframe)}catch(s){u.getLog().error("[GR] There was an error updating the IFrame visibility.").withException(s).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencySwitchRegionIFrameSwapFailure",data:{count:1}})}},u.globalResiliency._switchActiveRegion=function(d,p){var c,l,s,i,T;if(!(d instanceof u.GRProxyIframeConduit))return u.getLog().error("[GR] Tried to switch over active region, but proxy conduit was not of expected type.").withObject({type:ae(d)}).sendInternalLogToServer(),!1;var S=d.getConduitByName(p);return S instanceof u.IFrameConduit?d.getActiveConduit().name===S.name&&u.globalResiliency._activeRegion===S.region?(u.getLog().info("[GR] Not switching over active region as we are already on active region.").sendInternalLogToServer(),!1):(u.getLog().info("[GR] Switching active region from ".concat((c=d.getActiveConduit())===null||c===void 0?void 0:c.region," / ").concat((l=d.getActiveConduit())===null||l===void 0?void 0:l.name," to ").concat(S==null?void 0:S.region," / ").concat(S==null?void 0:S.name)).sendInternalLogToServer(),(s=u.core)===null||s===void 0||(s=s.softphoneManager)===null||s===void 0||s._clearAllSessions(),d.setActiveConduit(S.name),u.globalResiliency._initializeActiveRegion(d,S.region),u.getLog().info("[GR] Switched active region to ".concat((i=d.getActiveConduit())===null||i===void 0?void 0:i.region," / ").concat((T=d.getActiveConduit())===null||T===void 0?void 0:T.name)).sendInternalLogToServer(),u.publishMetric({name:"CalledInternalSwitchActiveRegionSuccessful",data:{count:1}}),!0):(u.getLog().error("[GR] Tried to switch over active region, but conduit name was invalid").withObject({newActiveConduitName:p}).sendInternalLogToServer(),!1)},u.globalResiliency.initGRCCP=function(d,p){var c=ue(ue({},p),{},{loginOptions:{legacyAuthFlow:!0}});u.globalResiliency.params=c;var l={},s=!1;u.globalResiliency._activeRegion=null,u.globalResiliency.globalResiliencyEnabled=!0;var i,T,S;if(u.core.checkNotInitialized(),!u.core.initialized){u.getLog().info("[GR] Iframe initialization started").sendInternalLogToServer();var y=Date.now();u.assertNotNull(d,"containerDiv");var h=new URL(c.ccpUrl).origin,b=new URL(c.secondaryCCPUrl).origin,A=u.core._createCCPIframe(d,c,h),r=u.core._createCCPIframe(d,ue(ue({},c),{},{ccpUrl:c.secondaryCCPUrl}),b),w=new u.GRProxyIframeConduit(window,[A,r],A.src);u.core.upstream=w,u.core.eventBus=new u.EventBus({logEvents:!1}),u.globalResiliency._initializeActiveRegion(w),u.publishMetric({name:"InitGlobalResiliencyCCPCalled",data:{count:1}}),w.getAllConduits().forEach(function(O){u.core._sendIframeStyleDataUpstreamAfterReasonableWaitTime(O.iframe,O)}),u.core.webSocketProvider=new u.WebSocketProvider,w.onAllUpstream(u.core.getEventBus().bridge()),w.getAllConduits().forEach(function(O){O.keepaliveManager=new u.KeepaliveManager(O,u.core.getEventBus(),c.ccpSynTimeout||E,c.ccpAckTimeout||C)}),u.getLog().scheduleUpstreamOuterContextCCPLogsPush(w),u.getLog().scheduleUpstreamOuterContextCCPserverBoundLogsPush(w),w.onUpstream(u.AgentEvents.FETCH_AGENT_DATA_FROM_CCP,function(O){u.core.getAgentDataProvider().updateAgentData(O),u.getLog().info("[GR] Fetched agent data from CCP.").sendInternalLogToServer()}),w.getAllConduits().forEach(function(O){l[O.name]={iframeRefreshTimeout:null},l[O.name].ccpLoadTimeoutInstance=setTimeout(function(){l[O.name].ccpLoadTimeoutInstance=null,u.isActiveConduit(O)?(u.core.getEventBus().trigger(u.EventType.ACK_TIMEOUT),u.getLog().info("CCP LoadTimeout triggered. ".concat(O.name)).sendInternalLogToServer()):u.getLog().error("CCP LoadTimeout detected but ignored for non-primary regions. ".concat(O.name)).sendInternalLogToServer()},c.ccpLoadTimeout||v)}),w.getAllConduits().forEach(function(O){O.onUpstream(u.EventType.ACKNOWLEDGE,function(R){if(u.getLog().info("Acknowledged by the CCP! ".concat(O.name)).sendInternalLogToServer(),O.sendUpstream(u.EventType.CONFIGURE,{softphone:c.softphone,chat:c.chat,pageOptions:c.pageOptions,shouldAddNamespaceToLogs:c.shouldAddNamespaceToLogs,enableGlobalResiliency:c.enableGlobalResiliency,instanceState:u.isActiveConduit(O)?"active":"inactive"}),l[O.name].ccpLoadTimeoutInstance&&(L.clearTimeout(l[O.name].ccpLoadTimeoutInstance),l[O.name].ccpLoadTimeoutInstance=null),O.sendUpstream(u.EventType.OUTER_CONTEXT_INFO,{streamsVersion:u.version,initCCPParams:c}),O.keepaliveManager.start(),u.isActiveConduit(O)&&(u.core.client=new u.UpstreamConduitClient(O),u.core.masterClient=new u.UpstreamConduitMasterClient(O),u.core.portStreamId=R.id,y)){var z=Date.now()-y,ee=l[O.name].iframeRefreshAttempt||0;u.getLog().info("Iframe initialization succeeded").sendInternalLogToServer(),u.getLog().info("Iframe initialization time ".concat(z)).sendInternalLogToServer(),u.getLog().info("Iframe refresh attempts ".concat(ee)).sendInternalLogToServer(),setTimeout(function(){u.publishMetric({name:m,data:{count:ee}}),u.publishMetric({name:f,data:{count:1}}),u.publishMetric({name:a,data:{count:z}}),y=null},1e3)}O.portStreamId=R.id,this.unsubscribe()})}),w.onUpstream(u.EventType.LOG,function(O){O.loggerId!==u.getLog().getLoggerId()&&u.getLog().addLogEntry(u.LogEntry.fromObject(O))}),u.core.getEventBus().subscribe(u.EventType.ACK_TIMEOUT,function(){if(c.loginPopup!==!1)try{var O=c.loginUrl;u.getLog().warn("ACK_TIMEOUT occurred, attempting to pop the login page if not already open.").sendInternalLogToServer(),u.core.getPopupManager().clear(u.MasterTopics.LOGIN_POPUP),u.core._openPopupWithLock(O,c.loginOptions)}catch(R){u.getLog().error("ACK_TIMEOUT occurred but we are unable to open the login popup.").withException(R).sendInternalLogToServer()}w.getAllConduits().forEach(function(R){if(l[R.name].iframeRefreshTimeout===null)try{R.onUpstream(u.EventType.ACKNOWLEDGE,function(){this.unsubscribe(),L.clearTimeout(l[R.name].iframeRefreshTimeout),l[R.name].iframeRefreshTimeout=null,u.core.getPopupManager().clear(u.MasterTopics.LOGIN_POPUP),(c.loginPopupAutoClose||c.loginOptions&&c.loginOptions.autoClose)&&u.core.loginWindow&&(u.core.loginWindow.close(),u.core.loginWindow=null)}),u.core._refreshIframeOnTimeout(ue(ue({},c),{},{ccpUrl:R.iframe.src}),d,l[R.name],R.name)}catch(z){u.getLog().error("Error occurred while refreshing iframe").withException(z).sendInternalLogToServer()}})}),w.getAllConduits().forEach(function(O){O.onUpstream(u.GlobalResiliencyEvents.INIT,function(R){if(!(R!=null&&R.instanceRegion)||!(R!=null&&R.instanceState)||!(R!=null&&R.activeRegion)){u.getLog().error("[GR] Expected GlobalResiliencyEvents.INIT to have instance region, state, and current active region, but did not find it.").withObject({data:R}).sendInternalLogToServer();return}u.getLog().info("[GR] Received GlobalResiliencyEvents.INIT indicating ".concat(O.name," in region ").concat(R==null?void 0:R.instanceRegion," is ").concat(R==null?void 0:R.instanceState,".")).withObject({data:R}).sendInternalLogToServer();var z=R.instanceRegion===R.activeRegion?O:w.getOtherConduit(O);if((!O.region||!z.region)&&(O.region=R.instanceRegion,z.region=R.activeRegion),O.sendUpstream(u.GlobalResiliencyEvents.CONFIGURE_CCP_CONDUIT,{instanceState:R.instanceState}),u.core.initialized)u.getLog().log("[GR] Deduping GlobalResiliencyEvents.INIT - Core is already initialized.").sendInternalLogToServer();else{u.getLog().info("[GR] Setting initial active iframe to ".concat(z.name," in region ").concat(z.region," because the instance state was active")).sendInternalLogToServer();try{u.globalResiliency._switchActiveRegion(w,z.name),u.publishMetric({name:"GlobalResiliencySwitchRegionSuccess",data:{count:1}})}catch(ee){u.getLog().error("[GR] Failure switching active region at initialization.").withException(ee).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencySwitchRegionFailure",data:{count:1}})}u.core.getEventBus().trigger(u.EventType.INIT),u.core.initialized=!0,u.publishMetric({name:"GlobalResiliencyCoreInitialized",data:{count:1}})}}),O.onUpstream(u.GlobalResiliencyEvents.FAILOVER_INITIATED,function(R){if(T=Date.now(),u.publishMetric({name:"GlobalResiliencyFailoverInitiatedReceived",data:{count:1}}),s&&u.publishMetric({name:"GlobalResiliencyPendingToInitiatedLatency",data:{latency:T-i}}),!(R!=null&&R.activeRegion)){u.getLog().error("[GR] Expected GlobalResiliencyEvents.FAILOVER_INITIATED to have new active region, but did not find it.").withObject({data:R}).sendInternalLogToServer();return}u.getLog().info("[GR] Received GlobalResiliencyEvents.FAILOVER_INITIATED indicating the activeRegion is ".concat(R.activeRegion,"."));var z=w.getConduitByRegion(R.activeRegion);z||(u.getLog().debug("[GR] A conduit did not received GLOBAL_RESILIENCY.INIT event, leading to the region field being unpopulated."),w.getAllConduits().forEach(function(Q){(Q.region===void 0||Q.region===null)&&(Q.region=R.activeRegion,z=Q)}));var ee;try{ee=u.globalResiliency._switchActiveRegion(w,z.name),u.publishMetric({name:"GlobalResiliencySwitchRegionSuccess",data:{count:1}})}catch(Q){u.getLog().error("[GR] Failure switching active region.").withException(Q).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencySwitchRegionFailure",data:{count:1}})}if(ee){s=!1;var oe=w.onUpstream(u.AgentEvents.UPDATE,function(){oe.unsubscribe(),u.core.getEventBus().trigger(u.GlobalResiliencyEvents.FAILOVER_COMPLETE,{activeRegion:R.activeRegion}),w.sendUpstream(u.GlobalResiliencyEvents.FAILOVER_COMPLETE),u.getLog().info("[GR] GlobalResiliencyEvents.FAILOVER_COMPLETE emitted.").sendInternalLogToServer(),S=Date.now(),u.publishMetric({name:"GlobalResiliencyFailoverCompleted",data:{count:1}}),u.publishMetric({name:"GlobalResiliencyInitiatedToCompletedLatency",data:{latency:S-T}})})}})}),c.onViewContact&&u.core.onViewContact(c.onViewContact),w.onUpstream(u.EventType.UPDATE_CONNECTED_CCPS,function(O){u.numberOfConnectedCCPs=O.length}),w.getAllConduits().forEach(function(O){O.onUpstream(u.VoiceIdEvents.UPDATE_DOMAIN_ID,function(R){R&&R.domainId&&(O.voiceIdDomainId=R.domainId,u.isActiveConduit(O)&&(u.core.voiceIdDomainId=R.domainId))})}),u.core.getEventBus().subscribe(u.EventType.IFRAME_RETRIES_EXHAUSTED,function(O){if(O===w.getActiveConduit().name&&y){var R=l[w.getActiveConduit().name].iframeRefreshAttempt-1;u.getLog().info("Iframe initialization failed").sendInternalLogToServer(),u.getLog().info("Time after iframe initialization started ".concat(Date.now()-y)).sendInternalLogToServer(),u.getLog().info("Iframe refresh attempts ".concat(R)).sendInternalLogToServer(),u.publishMetric({name:m,data:{count:R}}),u.publishMetric({name:f,data:{count:0}}),y=null}}),u.core.softphoneParams=c.softphone,w.getAllConduits().forEach(function(O){O.onUpstream(u.GlobalResiliencyEvents.FAILOVER_PENDING,function(R){if(u.isActiveConduit(O)){if(s){u.getLog().info("[GR] Received FAILOVER_PENDING - deduping, will not trigger event subscription.").withObject({data:R}).sendInternalLogToServer();return}u.getLog().info("[GR] Received FAILOVER_PENDING").withObject({data:R}).sendInternalLogToServer(),u.core.getEventBus().trigger(u.GlobalResiliencyEvents.FAILOVER_PENDING_CRM,{nextActiveRegion:R.activeRegion}),s=!0,i=Date.now(),u.publishMetric({name:"GlobalResiliencyFailoverPendingReceived",data:{count:1}})}})}),w.relayUpstream(u.GlobalResiliencyEvents.FAILOVER_PENDING),w.relayUpstream(u.GlobalResiliencyEvents.FAILOVER_INITIATED),w.relayUpstream(u.GlobalResiliencyEvents.FAILOVER_COMPLETE),w.relayUpstream(u.GlobalResiliencyEvents.HEARTBEAT_SYN),w.relayUpstream(u.GlobalResiliencyEvents.HEARTBEAT_ACK),u.core.getEventBus().subscribe(u.EventType.DOWNLOAD_LOG_FROM_CCP,function(){w.getAllConduits().forEach(function(O){var R=O.region||"region";O.sendUpstream(u.EventType.DOWNLOAD_LOG_FROM_CCP,{logName:"ccp-".concat(R,"-agent-log")})})}),setTimeout(function(){var O=0;w.getAllConduits().forEach(function(R){R.region&&(O+=1)}),O<2&&(u.getLog().info("[GR] One or more conduits did not GlobalResiliency.INIT event to CRM layer.").withObject({firstConduitName:w.getAllConduits()[0].name,firstConduitRegion:w.getAllConduits()[0].region,secondConduitName:w.getAllConduits()[1].name,secondConduitRegion:w.getAllConduits()[1].region}).sendInternalLogToServer(),u.publishMetric({name:"GlobalResiliencyPartialInitialization",data:{count:1}}))},3e4)}}})()},95:()=>{function ae(ie){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},ae(ie)}(function(ie){var ue={};function Oe(he){if(ue[he])return ue[he].exports;var N=ue[he]={i:he,l:!1,exports:{}};return ie[he].call(N.exports,N,N.exports,Oe),N.l=!0,N.exports}Oe.m=ie,Oe.c=ue,Oe.d=function(he,N,L){Oe.o(he,N)||Object.defineProperty(he,N,{enumerable:!0,get:L})},Oe.r=function(he){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(he,"__esModule",{value:!0})},Oe.t=function(he,N){if(1&N&&(he=Oe(he)),8&N||4&N&&ae(he)=="object"&&he&&he.__esModule)return he;var L=Object.create(null);if(Oe.r(L),Object.defineProperty(L,"default",{enumerable:!0,value:he}),2&N&&typeof he!="string")for(var u in he)Oe.d(L,u,(function(E){return he[E]}).bind(null,u));return L},Oe.n=function(he){var N=he&&he.__esModule?function(){return he.default}:function(){return he};return Oe.d(N,"a",N),N},Oe.o=function(he,N){return Object.prototype.hasOwnProperty.call(he,N)},Oe.p="",Oe(Oe.s=2)})([function(ie,ue,Oe){var he=Oe(1),N="NULL",L="CLIENT_LOGGER",u="DEBUG",E=2e3,C="AMZ_WEB_SOCKET_MANAGER:",v="Network offline",m="Network online, connecting to WebSocket server",f="Network offline, ignoring this getWebSocketConnConfig request",a="Heartbeat response not received",d="Heartbeat response received",p="Sending heartbeat",c="Failed to send heartbeat since WebSocket is not open",l="WebSocket connection established!",s="WebSocket connection is closed",i="WebSocketManager Error, error_event: ",T="Scheduling WebSocket reinitialization, after delay ",S="WebSocket URL cannot be used to establish connection",y="WebSocket Initialization failed - Terminating and cleaning subscriptions",h="Terminating WebSocket Manager",b="Fetching new WebSocket connection configuration",A="Successfully fetched webSocket connection configuration",r="Failed to fetch webSocket connection configuration",w="Retrying fetching new WebSocket connection configuration",O="Initializing Websocket Manager",R="Initializing Websocket Manager Failed!",z="Websocket connection open",ee="Websocket connection close",oe="Websocket connection gain",Q="Websocket connection lost",I="Websocket subscription failure",W="Reset Websocket state",Z="WebSocketManager Message Error",V="Message received for topic ",M="Invalid incoming message",B="WebsocketManager invoke callbacks for topic success ",Y="aws/subscribe",K="aws/unsubscribe",q="aws/heartbeat",X="connected",se="disconnected";function le(pe){return(le=typeof Symbol=="function"&&ae(Symbol.iterator)=="symbol"?function(F){return ae(F)}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":ae(F)})(pe)}var ve={assertTrue:function(F,j){if(!F)throw new Error(j)},assertNotNull:function(F,j){return ve.assertTrue(F!==null&&le(F)!==void 0,Object(he.sprintf)("%s must be provided",j||"A value")),F},isNonEmptyString:function(F){return typeof F=="string"&&F.length>0},assertIsList:function(F,j){if(!Array.isArray(F))throw new Error(j+" is not an array")},isFunction:function(F){return!!(F&&F.constructor&&F.call&&F.apply)},isObject:function(F){return!(le(F)!=="object"||F===null)},isString:function(F){return typeof F=="string"},isNumber:function(F){return typeof F=="number"}},_e=new RegExp("^(wss://)\\w*");ve.validWSUrl=function(pe){return _e.test(pe)},ve.getSubscriptionResponse=function(pe,F,j){return{topic:pe,content:{status:F?"success":"failure",topics:j}}},ve.assertIsObject=function(pe,F){if(!ve.isObject(pe))throw new Error(F+" is not an object!")},ve.addJitter=function(pe){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;F=Math.min(F,1);var j=Math.random()>.5?1:-1;return Math.floor(pe+j*pe*Math.random()*F)},ve.isNetworkOnline=function(){return navigator.onLine},ve.isNetworkFailure=function(pe){return!(!pe._debug||!pe._debug.type)&&pe._debug.type==="NetworkingError"};var Ie=ve;function He(pe,F){return!F||we(F)!=="object"&&typeof F!="function"?function(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(pe):F}function be(pe){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(pe)}function Ae(pe,F){return(Ae=Object.setPrototypeOf||function(j,G){return j.__proto__=G,j})(pe,F)}function we(pe){return(we=typeof Symbol=="function"&&ae(Symbol.iterator)=="symbol"?function(F){return ae(F)}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":ae(F)})(pe)}function Be(pe,F){if(!(pe instanceof F))throw new TypeError("Cannot call a class as a function")}function Ve(pe,F){for(var j=0;j<F.length;j++){var G=F[j];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pe,G.key,G)}}function Ge(pe,F,j){return F&&Ve(pe.prototype,F),pe}var ot=function(){function pe(){Be(this,pe)}return Ge(pe,[{key:"debug",value:function(j){}},{key:"info",value:function(j){}},{key:"warn",value:function(j){}},{key:"error",value:function(j){}},{key:"advancedLog",value:function(j){}}]),pe}(),De=C,Re={DEBUG:10,INFO:20,WARN:30,ERROR:40,ADVANCED_LOG:50},Ue=function(){function pe(){Be(this,pe),this.updateLoggerConfig(),this.consoleLoggerWrapper=Me()}return Ge(pe,[{key:"writeToClientLogger",value:function(j,G){if(this.hasClientLogger())switch(j){case Re.DEBUG:return this._clientLogger.debug(G)||G;case Re.INFO:return this._clientLogger.info(G)||G;case Re.WARN:return this._clientLogger.warn(G)||G;case Re.ERROR:return this._clientLogger.error(G)||G;case Re.ADVANCED_LOG:return this._advancedLogWriter?this._clientLogger[this._advancedLogWriter](G)||G:""}}},{key:"isLevelEnabled",value:function(j){return j>=this._level}},{key:"hasClientLogger",value:function(){return this._clientLogger!==null}},{key:"getLogger",value:function(j){var G=j.prefix||De;return this._logsDestination===u?this.consoleLoggerWrapper:new Ye(G)}},{key:"updateLoggerConfig",value:function(j){var G=j||{};this._level=G.level||Re.INFO,this._advancedLogWriter="warn",G.advancedLogWriter&&(this._advancedLogWriter=G.advancedLogWriter),G.customizedLogger&&we(G.customizedLogger)==="object"&&(this.useClientLogger=!0),this._clientLogger=G.logger||this.selectLogger(G),this._logsDestination=N,G.debug&&(this._logsDestination=u),G.logger&&(this._logsDestination=L)}},{key:"selectLogger",value:function(j){return j.customizedLogger&&we(j.customizedLogger)==="object"?j.customizedLogger:j.useDefaultLogger?(this.consoleLoggerWrapper=Me(),this.consoleLoggerWrapper):null}}]),pe}(),qe=function(){function pe(){Be(this,pe)}return Ge(pe,[{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}},{key:"advancedLog",value:function(){}}]),pe}(),Ye=function(pe){function F(j){var G;return Be(this,F),(G=He(this,be(F).call(this))).prefix=j||De,G}return function(j,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),G&&Ae(j,G)}(F,qe),Ge(F,[{key:"debug",value:function(){for(var G=arguments.length,x=new Array(G),D=0;D<G;D++)x[D]=arguments[D];return this._log(Re.DEBUG,x)}},{key:"info",value:function(){for(var G=arguments.length,x=new Array(G),D=0;D<G;D++)x[D]=arguments[D];return this._log(Re.INFO,x)}},{key:"warn",value:function(){for(var G=arguments.length,x=new Array(G),D=0;D<G;D++)x[D]=arguments[D];return this._log(Re.WARN,x)}},{key:"error",value:function(){for(var G=arguments.length,x=new Array(G),D=0;D<G;D++)x[D]=arguments[D];return this._log(Re.ERROR,x)}},{key:"advancedLog",value:function(){for(var G=arguments.length,x=new Array(G),D=0;D<G;D++)x[D]=arguments[D];return this._log(Re.ADVANCED_LOG,x)}},{key:"_shouldLog",value:function(G){return $.hasClientLogger()&&$.isLevelEnabled(G)}},{key:"_writeToClientLogger",value:function(G,x){return $.writeToClientLogger(G,x)}},{key:"_log",value:function(G,x){if(this._shouldLog(G)){var D=$.useClientLogger?x:this._convertToSingleStatement(x,G);return this._writeToClientLogger(G,D)}}},{key:"_convertToSingleStatement",value:function(G,x){var D=new Date(Date.now()).toISOString(),H=this._getLogLevelByValue(x),te="[".concat(D,"][").concat(H,"]");this.prefix&&(te+=this.prefix+" "),this.options&&(this.options.prefix?te+=" "+this.options.prefix+":":te+="",this.options.logMetaData?te+=" Meta data: "+JSON.stringify(this.options.logMetaData):te+="");for(var re=0;re<G.length;re++){var me=G[re];te+=this._convertToString(me)+" "}return te}},{key:"_getLogLevelByValue",value:function(G){switch(G){case 10:return"DEBUG";case 20:return"INFO";case 30:return"WARN";case 40:return"ERROR";case 50:return"ADVANCED_LOG"}}},{key:"_convertToString",value:function(G){try{if(!G)return"";if(Ie.isString(G))return G;if(Ie.isObject(G)&&Ie.isFunction(G.toString)){var x=G.toString();if(x!=="[object Object]")return x}return JSON.stringify(G)}catch(D){return console.error("Error while converting argument to string",G,D),""}}}]),F}(),Me=function(){var F=new qe;return F.debug=function(){for(var j=arguments.length,G=new Array(j),x=0;x<j;x++)G[x]=arguments[x];return console.debug.apply(window.console,[].concat(G))},F.info=function(){for(var j=arguments.length,G=new Array(j),x=0;x<j;x++)G[x]=arguments[x];return console.info.apply(window.console,[].concat(G))},F.warn=function(){for(var j=arguments.length,G=new Array(j),x=0;x<j;x++)G[x]=arguments[x];return console.warn.apply(window.console,[].concat(G))},F.error=function(){for(var j=arguments.length,G=new Array(j),x=0;x<j;x++)G[x]=arguments[x];return console.error.apply(window.console,[].concat(G))},F},$=new Ue;function k(pe,F){for(var j=0;j<F.length;j++){var G=F[j];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(pe,G.key,G)}}var U=function(){function pe(G){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E;(function(D,H){if(!(D instanceof H))throw new TypeError("Cannot call a class as a function")})(this,pe),this.numAttempts=0,this.executor=G,this.hasActiveReconnection=!1,this.defaultRetry=x}var F,j;return F=pe,(j=[{key:"retry",value:function(){var x=this;this.hasActiveReconnection||(this.hasActiveReconnection=!0,setTimeout(function(){x._execute()},this._getDelay()))}},{key:"_execute",value:function(){this.hasActiveReconnection=!1,this.executor(),this.numAttempts++}},{key:"connected",value:function(){this.numAttempts=0}},{key:"_getDelay",value:function(){var x=Math.pow(2,this.numAttempts)*this.defaultRetry;return x<=3e4?x:3e4}},{key:"getIsConnected",value:function(){return!this.numAttempts}}])&&k(F.prototype,j),pe}();Oe.d(ue,"a",function(){return de});var ne=function(){var F=$.getLogger({prefix:C}),j=Ie.isNetworkOnline(),G={primary:null,secondary:null},x={reconnectWebSocket:!0,websocketInitFailed:!1,exponentialBackOffTime:1e3,exponentialTimeoutHandle:null,lifeTimeTimeoutHandle:null,webSocketInitCheckerTimeoutId:null,connState:null},D={connectWebSocketRetryCount:0,connectionAttemptStartTime:null,noOpenConnectionsTimestamp:null},H={pendingResponse:!1,intervalHandle:null},te={initFailure:new Set,getWebSocketTransport:null,subscriptionUpdate:new Set,subscriptionFailure:new Set,topic:new Map,allMessage:new Set,connectionGain:new Set,connectionLost:new Set,connectionOpen:new Set,connectionClose:new Set},re={connConfig:null,promiseHandle:null,promiseCompleted:!0},me={subscribed:new Set,pending:new Set,subscriptionHistory:new Set},Ee={responseCheckIntervalId:null,requestCompleted:!0,reSubscribeIntervalId:null,consecutiveFailedSubscribeAttempts:0,consecutiveNoResponseRequest:0},je=new U(function(){vn()}),Ke=new Set([Y,K,q]),xe=setInterval(function(){if(j!==Ie.isNetworkOnline()){if(!(j=Ie.isNetworkOnline()))return F.advancedLog(v),void at(F.info(v));var ze=pt();j&&(!ze||$e(ze,WebSocket.CLOSING)||$e(ze,WebSocket.CLOSED))&&(F.advancedLog(m),at(F.info(m)),vn())}},250),Le=function(Fe,dt){Fe.forEach(function(Dt){try{Dt(dt)}catch(On){at(F.error("Error executing callback",On))}})},et=function(Fe){if(Fe===null)return"NULL";switch(Fe.readyState){case WebSocket.CONNECTING:return"CONNECTING";case WebSocket.OPEN:return"OPEN";case WebSocket.CLOSING:return"CLOSING";case WebSocket.CLOSED:return"CLOSED";default:return"UNDEFINED"}},tt=function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";at(F.debug("["+Fe+"] Primary WebSocket: "+et(G.primary)+" | Secondary WebSocket: "+et(G.secondary)))},$e=function(Fe,dt){return Fe&&Fe.readyState===dt},yt=function(Fe){return $e(Fe,WebSocket.OPEN)},Qe=function(Fe){return Fe===null||Fe.readyState===void 0||$e(Fe,WebSocket.CLOSED)},pt=function(){return G.secondary!==null?G.secondary:G.primary},Ft=function(){return yt(pt())},Kt=function(){if(H.pendingResponse)return F.advancedLog(a),at(F.warn(a)),clearInterval(H.intervalHandle),H.pendingResponse=!1,void vn();Ft()?(at(F.debug(p)),pt().send(Pn(q)),H.pendingResponse=!0):(F.advancedLog(c),at(F.warn(c)),tt("sendHeartBeat"),vn())},kt=function(){F.advancedLog(W),x.exponentialBackOffTime=1e3,H.pendingResponse=!1,x.reconnectWebSocket=!0,clearTimeout(x.lifeTimeTimeoutHandle),clearInterval(H.intervalHandle),clearTimeout(x.exponentialTimeoutHandle),clearTimeout(x.webSocketInitCheckerTimeoutId)},Et=function(){Ee.consecutiveFailedSubscribeAttempts=0,Ee.consecutiveNoResponseRequest=0,clearInterval(Ee.responseCheckIntervalId),clearInterval(Ee.reSubscribeIntervalId)},Xe=function(){D.connectWebSocketRetryCount=0,D.connectionAttemptStartTime=null,D.noOpenConnectionsTimestamp=null},We=function(){je.connected();try{F.advancedLog(l),at(F.info(l)),tt("webSocketOnOpen"),x.connState!==null&&x.connState!==se||Le(te.connectionGain),x.connState=X;var Fe=Date.now();Le(te.connectionOpen,{connectWebSocketRetryCount:D.connectWebSocketRetryCount,connectionAttemptStartTime:D.connectionAttemptStartTime,noOpenConnectionsTimestamp:D.noOpenConnectionsTimestamp,connectionEstablishedTime:Fe,timeToConnect:Fe-D.connectionAttemptStartTime,timeWithoutConnection:D.noOpenConnectionsTimestamp?Fe-D.noOpenConnectionsTimestamp:null}),Xe(),kt(),pt().openTimestamp=Date.now(),me.subscribed.size===0&&yt(G.secondary)&&rn(G.primary,"[Primary WebSocket] Closing WebSocket"),(me.subscribed.size>0||me.pending.size>0)&&(yt(G.secondary)&&at(F.info("Subscribing secondary websocket to topics of primary websocket")),me.subscribed.forEach(function(Dt){me.subscriptionHistory.add(Dt),me.pending.add(Dt)}),me.subscribed.clear(),St()),Kt(),H.intervalHandle=setInterval(Kt,1e4);var dt=1e3*re.connConfig.webSocketTransport.transportLifeTimeInSeconds;at(F.debug("Scheduling WebSocket manager reconnection, after delay "+dt+" ms")),x.lifeTimeTimeoutHandle=setTimeout(function(){at(F.debug("Starting scheduled WebSocket manager reconnection")),vn()},dt)}catch(Dt){at(F.error("Error after establishing WebSocket connection",Dt))}},Ze=function(Fe){tt("webSocketOnError"),F.advancedLog(i,JSON.stringify(Fe)),at(F.error(i,JSON.stringify(Fe))),je.getIsConnected()?vn():je.retry()},st=function(Fe){var dt=JSON.parse(Fe.data);switch(dt.topic){case Y:if(at(F.debug("Subscription Message received from webSocket server",Fe.data)),Ee.requestCompleted=!0,Ee.consecutiveNoResponseRequest=0,dt.content.status==="success")Ee.consecutiveFailedSubscribeAttempts=0,dt.content.topics.forEach(function(Dt){me.subscriptionHistory.delete(Dt),me.pending.delete(Dt),me.subscribed.add(Dt)}),me.subscriptionHistory.size===0?yt(G.secondary)&&(at(F.info("Successfully subscribed secondary websocket to all topics of primary websocket")),rn(G.primary,"[Primary WebSocket] Closing WebSocket")):St(),Le(te.subscriptionUpdate,dt);else{if(clearInterval(Ee.reSubscribeIntervalId),++Ee.consecutiveFailedSubscribeAttempts,Ee.consecutiveFailedSubscribeAttempts===5)return Le(te.subscriptionFailure,dt),void(Ee.consecutiveFailedSubscribeAttempts=0);Ee.reSubscribeIntervalId=setInterval(function(){St()},500)}break;case q:at(F.debug(d)),H.pendingResponse=!1;break;default:if(dt.topic){if(F.advancedLog(V,dt.topic),at(F.debug(V+dt.topic)),yt(G.primary)&&yt(G.secondary)&&me.subscriptionHistory.size===0&&this===G.primary)return void at(F.warn("Ignoring Message for Topic "+dt.topic+", to avoid duplicates"));if(te.allMessage.size===0&&te.topic.size===0)return void at(F.warn("No registered callback listener for Topic",dt.topic));F.advancedLog(B,dt.topic),Le(te.allMessage,dt),te.topic.has(dt.topic)&&Le(te.topic.get(dt.topic),dt)}else dt.message?(F.advancedLog(Z,dt),at(F.warn(Z,dt))):(F.advancedLog(M,dt),at(F.warn(M,dt)))}},St=function ze(){if(Ee.consecutiveNoResponseRequest>3)return at(F.warn("Ignoring subscribePendingTopics since we have exhausted max subscription retries with no response")),void Le(te.subscriptionFailure,Ie.getSubscriptionResponse(Y,!1,Array.from(me.pending)));Ft()?Array.from(me.pending).length!==0&&(clearInterval(Ee.responseCheckIntervalId),pt().send(Pn(Y,{topics:Array.from(me.pending)})),Ee.requestCompleted=!1,Ee.responseCheckIntervalId=setInterval(function(){Ee.requestCompleted||(++Ee.consecutiveNoResponseRequest,ze())},1e3)):at(F.warn("Ignoring subscribePendingTopics call since Default WebSocket is not open"))},rn=function(Fe,dt){$e(Fe,WebSocket.CONNECTING)||$e(Fe,WebSocket.OPEN)?Fe.close(1e3,dt):at(F.warn("Ignoring WebSocket Close request, WebSocket State: "+et(Fe)))},Un=function(Fe){rn(G.primary,"[Primary] WebSocket "+Fe),rn(G.secondary,"[Secondary] WebSocket "+Fe)},Bt=function(){D.connectWebSocketRetryCount++;var Fe=Ie.addJitter(x.exponentialBackOffTime,.3);Date.now()+Fe<=re.connConfig.urlConnValidTime?(F.advancedLog(T),at(F.debug(T+Fe+" ms")),x.exponentialTimeoutHandle=setTimeout(function(){return lo()},Fe),x.exponentialBackOffTime*=2):(F.advancedLog(S),at(F.warn(S)),vn())},Vt=function(Fe){kt(),Et(),F.advancedLog(y,Fe),at(F.error(y)),x.websocketInitFailed=!0,Un(h),clearInterval(xe),Le(te.initFailure,{connectWebSocketRetryCount:D.connectWebSocketRetryCount,connectionAttemptStartTime:D.connectionAttemptStartTime,reason:Fe}),Xe()},Pn=function(Fe,dt){return JSON.stringify({topic:Fe,content:dt})},gi=function(Fe){return!!(Ie.isObject(Fe)&&Ie.isObject(Fe.webSocketTransport)&&Ie.isNonEmptyString(Fe.webSocketTransport.url)&&Ie.validWSUrl(Fe.webSocketTransport.url)&&1e3*Fe.webSocketTransport.transportLifeTimeInSeconds>=3e5)||(at(F.error("Invalid WebSocket Connection Configuration",Fe)),!1)},vn=function(){if(!Ie.isNetworkOnline())return F.advancedLog(f),void at(F.info(f));if(x.websocketInitFailed)at(F.debug("WebSocket Init had failed, ignoring this getWebSocketConnConfig request"));else{if(re.promiseCompleted)return kt(),F.advancedLog(b),at(F.info(b)),D.connectionAttemptStartTime=D.connectionAttemptStartTime||Date.now(),re.promiseCompleted=!1,re.promiseHandle=te.getWebSocketTransport(),re.promiseHandle.then(function(Fe){return re.promiseCompleted=!0,F.advancedLog(A),at(F.debug(A,Fe)),gi(Fe)?(re.connConfig=Fe,re.connConfig.urlConnValidTime=Date.now()+85e3,lo()):(Vt("Invalid WebSocket connection configuration: "+Fe),{webSocketConnectionFailed:!0})},function(Fe){return re.promiseCompleted=!0,F.advancedLog(r),at(F.error(r,Fe)),Ie.isNetworkFailure(Fe)?(F.advancedLog(w+JSON.stringify(Fe)),at(F.info(w+JSON.stringify(Fe))),je.retry()):Vt("Failed to fetch webSocket connection configuration: "+JSON.stringify(Fe)),{webSocketConnectionFailed:!0}});at(F.debug("There is an ongoing getWebSocketConnConfig request, this request will be ignored"))}},lo=function(){if(x.websocketInitFailed)return at(F.info("web-socket initializing had failed, aborting re-init")),{webSocketConnectionFailed:!0};if(!Ie.isNetworkOnline())return at(F.warn("System is offline aborting web-socket init")),{webSocketConnectionFailed:!0};F.advancedLog(O),at(F.info(O)),tt("initWebSocket");try{if(gi(re.connConfig)){var Fe=null;return yt(G.primary)?(at(F.debug("Primary Socket connection is already open")),$e(G.secondary,WebSocket.CONNECTING)||(at(F.debug("Establishing a secondary web-socket connection")),je.numAttempts=0,G.secondary=Sr()),Fe=G.secondary):($e(G.primary,WebSocket.CONNECTING)||(at(F.debug("Establishing a primary web-socket connection")),G.primary=Sr()),Fe=G.primary),x.webSocketInitCheckerTimeoutId=setTimeout(function(){yt(Fe)||Bt()},1e3),{webSocketConnectionFailed:!1}}}catch(dt){return at(F.error("Error Initializing web-socket-manager",dt)),Vt("Failed to initialize new WebSocket: "+dt.message),{webSocketConnectionFailed:!0}}},Sr=function(){var Fe=new WebSocket(re.connConfig.webSocketTransport.url);return Fe.addEventListener("open",We),Fe.addEventListener("message",st),Fe.addEventListener("error",Ze),Fe.addEventListener("close",function(dt){return function(Dt,On){F.advancedLog(s,JSON.stringify(Dt)),at(F.info(s,JSON.stringify(Dt))),tt("webSocketOnClose before-cleanup"),Le(te.connectionClose,{openTimestamp:On.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-On.openTimestamp,code:Dt.code,reason:Dt.reason}),Qe(G.primary)&&(G.primary=null),Qe(G.secondary)&&(G.secondary=null),x.reconnectWebSocket&&(yt(G.primary)||yt(G.secondary)?Qe(G.primary)&&yt(G.secondary)&&(at(F.info("[Primary] WebSocket Cleanly Closed")),G.primary=G.secondary,G.secondary=null):(at(F.warn("Neither primary websocket and nor secondary websocket have open connections, attempting to re-establish connection")),x.connState===se?at(F.info("Ignoring connectionLost callback invocation")):(Le(te.connectionLost,{openTimestamp:On.openTimestamp,closeTimestamp:Date.now(),connectionDuration:Date.now()-On.openTimestamp,code:Dt.code,reason:Dt.reason}),D.noOpenConnectionsTimestamp=Date.now()),x.connState=se,vn()),tt("webSocketOnClose after-cleanup"))}(dt,Fe)}),Fe},at=function(Fe){return Fe&&typeof Fe.sendInternalLogToServer=="function"&&Fe.sendInternalLogToServer(),Fe};this.init=function(ze){if(Ie.assertTrue(Ie.isFunction(ze),"transportHandle must be a function"),te.getWebSocketTransport===null)return te.getWebSocketTransport=ze,vn();at(F.warn("Web Socket Manager was already initialized"))},this.onInitFailure=function(ze){return F.advancedLog(R),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.initFailure.add(ze),x.websocketInitFailed&&ze(),function(){return te.initFailure.delete(ze)}},this.onConnectionOpen=function(ze){return F.advancedLog(z),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.connectionOpen.add(ze),function(){return te.connectionOpen.delete(ze)}},this.onConnectionClose=function(ze){return F.advancedLog(ee),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.connectionClose.add(ze),function(){return te.connectionClose.delete(ze)}},this.onConnectionGain=function(ze){return F.advancedLog(oe),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.connectionGain.add(ze),Ft()&&ze(),function(){return te.connectionGain.delete(ze)}},this.onConnectionLost=function(ze){return F.advancedLog(Q),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.connectionLost.add(ze),x.connState===se&&ze(),function(){return te.connectionLost.delete(ze)}},this.onSubscriptionUpdate=function(ze){return Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.subscriptionUpdate.add(ze),function(){return te.subscriptionUpdate.delete(ze)}},this.onSubscriptionFailure=function(ze){return F.advancedLog(I),Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.subscriptionFailure.add(ze),function(){return te.subscriptionFailure.delete(ze)}},this.onMessage=function(ze,Fe){return Ie.assertNotNull(ze,"topicName"),Ie.assertTrue(Ie.isFunction(Fe),"cb must be a function"),te.topic.has(ze)?te.topic.get(ze).add(Fe):te.topic.set(ze,new Set([Fe])),function(){return te.topic.get(ze).delete(Fe)}},this.onAllMessage=function(ze){return Ie.assertTrue(Ie.isFunction(ze),"cb must be a function"),te.allMessage.add(ze),function(){return te.allMessage.delete(ze)}},this.subscribeTopics=function(ze){Ie.assertNotNull(ze,"topics"),Ie.assertIsList(ze),ze.forEach(function(Fe){me.subscribed.has(Fe)||me.pending.add(Fe)}),Ee.consecutiveNoResponseRequest=0,St()},this.sendMessage=function(ze){if(Ie.assertIsObject(ze,"payload"),ze.topic===void 0||Ke.has(ze.topic))at(F.warn("Cannot send message, Invalid topic",ze));else{try{ze=JSON.stringify(ze)}catch{return void at(F.warn("Error stringify message",ze))}Ft()?pt().send(ze):at(F.warn("Cannot send message, web socket connection is not open"))}},this.closeWebSocket=function(){kt(),Et(),x.reconnectWebSocket=!1,clearInterval(xe),Un("User request to close WebSocket")},this.terminateWebSocketManager=Vt},de={create:function(){return new ne},setGlobalConfig:function(F){var j=F&&F.loggerConfig;$.updateLoggerConfig(j)},LogLevel:Re,Logger:ot}},function(ie,ue,Oe){var he;(function(){var N={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function L(C){return function(v,m){var f,a,d,p,c,l,s,i,T,S=1,y=v.length,h="";for(a=0;a<y;a++)if(typeof v[a]=="string")h+=v[a];else if(ae(v[a])=="object"){if((p=v[a]).keys)for(f=m[S],d=0;d<p.keys.length;d++){if(f==null)throw new Error(L('[sprintf] Cannot access property "%s" of undefined value "%s"',p.keys[d],p.keys[d-1]));f=f[p.keys[d]]}else f=p.param_no?m[p.param_no]:m[S++];if(N.not_type.test(p.type)&&N.not_primitive.test(p.type)&&f instanceof Function&&(f=f()),N.numeric_arg.test(p.type)&&typeof f!="number"&&isNaN(f))throw new TypeError(L("[sprintf] expecting number but found %T",f));switch(N.number.test(p.type)&&(i=f>=0),p.type){case"b":f=parseInt(f,10).toString(2);break;case"c":f=String.fromCharCode(parseInt(f,10));break;case"d":case"i":f=parseInt(f,10);break;case"j":f=JSON.stringify(f,null,p.width?parseInt(p.width):0);break;case"e":f=p.precision?parseFloat(f).toExponential(p.precision):parseFloat(f).toExponential();break;case"f":f=p.precision?parseFloat(f).toFixed(p.precision):parseFloat(f);break;case"g":f=p.precision?String(Number(f.toPrecision(p.precision))):parseFloat(f);break;case"o":f=(parseInt(f,10)>>>0).toString(8);break;case"s":f=String(f),f=p.precision?f.substring(0,p.precision):f;break;case"t":f=String(!!f),f=p.precision?f.substring(0,p.precision):f;break;case"T":f=Object.prototype.toString.call(f).slice(8,-1).toLowerCase(),f=p.precision?f.substring(0,p.precision):f;break;case"u":f=parseInt(f,10)>>>0;break;case"v":f=f.valueOf(),f=p.precision?f.substring(0,p.precision):f;break;case"x":f=(parseInt(f,10)>>>0).toString(16);break;case"X":f=(parseInt(f,10)>>>0).toString(16).toUpperCase()}N.json.test(p.type)?h+=f:(!N.number.test(p.type)||i&&!p.sign?T="":(T=i?"+":"-",f=f.toString().replace(N.sign,"")),l=p.pad_char?p.pad_char==="0"?"0":p.pad_char.charAt(1):" ",s=p.width-(T+f).length,c=p.width&&s>0?l.repeat(s):"",h+=p.align?T+f+c:l==="0"?T+c+f:c+T+f)}return h}(function(v){if(E[v])return E[v];for(var m,f=v,a=[],d=0;f;){if((m=N.text.exec(f))!==null)a.push(m[0]);else if((m=N.modulo.exec(f))!==null)a.push("%");else{if((m=N.placeholder.exec(f))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(m[2]){d|=1;var p=[],c=m[2],l=[];if((l=N.key.exec(c))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(p.push(l[1]);(c=c.substring(l[0].length))!=="";)if((l=N.key_access.exec(c))!==null)p.push(l[1]);else{if((l=N.index_access.exec(c))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");p.push(l[1])}m[2]=p}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:m[0],param_no:m[1],keys:m[2],sign:m[3],pad_char:m[4],align:m[5],width:m[6],precision:m[7],type:m[8]})}f=f.substring(m[0].length)}return E[v]=a}(C),arguments)}function u(C,v){return L.apply(null,[C].concat(v||[]))}var E=Object.create(null);ue.sprintf=L,ue.vsprintf=u,typeof window<"u"&&(window.sprintf=L,window.vsprintf=u,(he=(function(){return{sprintf:L,vsprintf:u}}).call(ue,Oe,ue,ie))===void 0||(ie.exports=he))})()},function(ie,ue,Oe){Oe.r(ue),(function(he){Oe.d(ue,"WebSocketManager",function(){return L});var N=Oe(0);he.connect=he.connect||{},connect.WebSocketManager=N.a;var L=N.a}).call(this,Oe(3))},function(ie,ue){var Oe;Oe=function(){return this}();try{Oe=Oe||new Function("return this")()}catch{(typeof window>"u"?"undefined":ae(window))=="object"&&(Oe=window)}ie.exports=Oe}])},144:()=>{function ae(ie){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},ae(ie)}(function(){var ie=this||globalThis,ue=ie.connect||{};ie.connect=ue,ie.lily=ue;var Oe=5e3,he=5e3,N=18e5,L="[obfuscated value]",u={TEST:"TEST",TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",LOG:"LOG",WARN:"WARN",ERROR:"ERROR",CRITICAL:"CRITICAL"},E={CCP:"ccp",SOFTPHONE:"softphone",CHAT:"chat",TASK:"task"},C={TEST:0,TRACE:10,DEBUG:20,INFO:30,LOG:40,WARN:50,ERROR:100,CRITICAL:200},v={CCP:"CCP",SHARED_WORKER:"SharedWorker",CRM:"CRM"},m={TRACE:function(h){console.info(h)},DEBUG:function(h){console.info(h)},INFO:function(h){console.info(h)},LOG:function(h){console.log(h)},TEST:function(h){console.log(h)},WARN:function(h){console.warn(h)},ERROR:function(h){console.error(h)},CRITICAL:function(h){console.error(h)}},f=function(h){return Object.values(E).indexOf(h)!==-1},a=function(h){var b=Array.prototype.slice.call(h,0),A=b.shift(),r,w;return f(A)?(w=A,r=b.shift()):(r=A,w=E.CCP),{format:r,component:w,args:b}},d=function(h,b,A,r,w,O){this.component=h,this.level=b,this.text=A,this.time=new Date,this.tabId=w===null?null:w||ue.core.tabId,this.exception=null,this.objects=[],this.line=0,this.agentResourceId=null;try{ue.agent.initialized&&(this.agentResourceId=new ue.Agent()._getResourceId())}catch(R){console.log("Issue finding agentResourceId: ",R)}this.loggerId=r,O?this.contextLayer=O:ue.isSharedWorker()?this.contextLayer=v.SHARED_WORKER:ue.isCRM()?this.contextLayer=v.CRM:ue.isCCP()&&(this.contextLayer=v.CCP)};d.fromObject=function(y){var h=y.tabId||null,b=y.contextLayer||null,A=new d(E.CCP,y.level,y.text,y.loggerId,h,b);return Object.prototype.toString.call(y.time)==="[object Date]"?A.time=new Date(y.time.getTime()):typeof y.time=="number"?A.time=new Date(y.time):typeof y.time=="string"?A.time=Date.parse(y.time):A.time=new Date,A.exception=y.exception,A.objects=y.objects,A};var p=function(h){var b=/(AuthToken.*)/gi;h&&ae(h)==="object"&&Object.keys(h).forEach(function(A){ae(h[A])==="object"?p(h[A]):typeof h[A]=="string"&&(A==="url"||A==="text"?h[A]=h[A].replace(b,"[redacted]"):["quickConnectName"].includes(A)?h[A]="[redacted]":["customerId","CustomerId","SpeakerId","CustomerSpeakerId"].includes(A)&&(h[A]="".concat(L," ").concat(md5(h[A]))))})},c=function(h){if(this.type=h instanceof Error?h.name:h.code||Object.prototype.toString.call(h),this.message=h.message,this.stack=[],h.stack)try{Array.isArray(h.stack)?this.stack=h.stack:ae(h.stack)==="object"?this.stack=[JSON.stringify(h.stack)]:typeof h.stack=="string"&&(this.stack=h.stack.split(`
`))}catch{}};d.prototype.toString=function(){return ue.sprintf("[%s] [%s] [%s]: %s",this.getTime()&&this.getTime().toISOString?this.getTime().toISOString():"???",this.getLevel(),this.getAgentResourceId(),this.getText())},d.prototype.getTime=function(){return this.time},d.prototype.getAgentResourceId=function(){return this.agentResourceId},d.prototype.getTabId=function(){return this.tabId},d.prototype.getContextLayer=function(){return this.contextLayer},d.prototype.getLevel=function(){return this.level},d.prototype.getText=function(){return this.text},d.prototype.getComponent=function(){return this.component},d.prototype.withException=function(y){return this.exception=new c(y),this},d.prototype.withObject=function(y){var h=ue.deepcopy(y);return p(h),this.objects.push(h),this},d.prototype.withCrossOriginEventObject=function(y){var h=ue.deepcopyCrossOriginEvent(y);return p(h),this.objects.push(h),this},d.prototype.sendInternalLogToServer=function(){return ue.getLog()._serverBoundInternalLogs.push(this),this};var l=function(){this._logs=[],this._rolledLogs=[],this._logsToPush=[],this._serverBoundInternalLogs=[],this._echoLevel=C.INFO,this._logLevel=C.INFO,this._lineCount=0,this._logRollInterval=0,this._logRollTimer=null,this._loggerId=new Date().getTime()+"-"+Math.random().toString(36).slice(2),this.setLogRollInterval(N),this._startLogIndexToPush=0};l.prototype.setLogRollInterval=function(y){var h=this;!this._logRollTimer||y!==this._logRollInterval?(this._logRollTimer&&ie.clearInterval(this._logRollTimer),this._logRollInterval=y,this._logRollTimer=ie.setInterval(function(){h._rolledLogs=h._logs,h._logs=[],h._startLogIndexToPush=0,h.info("Log roll interval occurred.")},this._logRollInterval)):this.warn("Logger is already set to the given interval: %d",this._logRollInterval)},l.prototype.setLogLevel=function(y){if(y in C)this._logLevel=C[y];else throw new Error("Unknown logging level: "+y)},l.prototype.setEchoLevel=function(y){if(y in C)this._echoLevel=C[y];else throw new Error("Unknown logging level: "+y)},l.prototype.write=function(y,h,b){var A=new d(y,h,b,this.getLoggerId());return p(A),this.addLogEntry(A),A},l.prototype.addLogEntry=function(y){p(y),this._logs.push(y),E.SOFTPHONE===y.component&&this._logsToPush.push(y),y.level in C&&C[y.level]>=this._logLevel&&(C[y.level]>=this._echoLevel&&m[y.getLevel()](y.toString()),y.line=this._lineCount++)},l.prototype.sendInternalLogEntryToServer=function(y){this._serverBoundInternalLogs.push(y),y.level in C&&C[y.level]>=this._logLevel&&(C[y.level]>=this._echoLevel&&m[y.getLevel()](y.toString()),y.line=this._lineCount++)},l.prototype.clearObjects=function(){for(var y=0;y<this._logs.length;y++)this._logs[y].objects&&delete this._logs[y].objects},l.prototype.clearExceptions=function(){for(var y=0;y<this._logs.length;y++)this._logs[y].exception&&delete this._logs[y].exception},l.prototype.trace=function(){var y=a(arguments);return this.write(y.component,u.TRACE,ue.vsprintf(y.format,y.args))},l.prototype.debug=function(){var y=a(arguments);return this.write(y.component,u.DEBUG,ue.vsprintf(y.format,y.args))},l.prototype.info=function(){var y=a(arguments);return this.write(y.component,u.INFO,ue.vsprintf(y.format,y.args))},l.prototype.log=function(){var y=a(arguments);return this.write(y.component,u.LOG,ue.vsprintf(y.format,y.args))},l.prototype.test=function(){var y=a(arguments);return this.write(y.component,u.TEST,ue.vsprintf(y.format,y.args))},l.prototype.warn=function(){var y=a(arguments);return this.write(y.component,u.WARN,ue.vsprintf(y.format,y.args))},l.prototype.error=function(){var y=a(arguments);return this.write(y.component,u.ERROR,ue.vsprintf(y.format,y.args))},l.prototype.critical=function(){var y=a(arguments);return this.write(y.component,u.ERROR,ue.vsprintf(y.format,y.args))},l.prototype.toString=function(){for(var y=[],h=0;h<this._logs.length;h++)y.push(this._logs[h].toString());return y.join(`
`)},l.prototype.download=function(y){var h,z="agent-log",b=!1,A=((h=ue)===null||h===void 0||(h=h.globalResiliency)===null||h===void 0?void 0:h.globalResiliencyEnabled)===!0;ae(y)==="object"&&y!==null?(z=y.logName||z,b=y.filterByLogLevel||b):typeof y=="string"&&(z=y||z),A&&(ue.globalResiliency._downloadCCPLogs(),z="crm-"+z);var r=this,w=this._rolledLogs.concat(this._logs);b&&(w=w.filter(function(ee){return C[ee.level]>=r._logLevel}));var O=new ie.Blob([JSON.stringify(w,void 0,4)],["text/plain"]),R=document.createElement("a"),z=z||"agent-log";R.href=ie.URL.createObjectURL(O),R.download=z+".txt",document.body.appendChild(R),R.click(),document.body.removeChild(R)},l.prototype.scheduleUpstreamLogPush=function(y){ue.upstreamLogPushScheduled||(ue.upstreamLogPushScheduled=!0,ie.setInterval(ue.hitch(this,this.reportMasterLogsUpStream,y),Oe))},l.prototype.reportMasterLogsUpStream=function(y){var h=this._logsToPush.slice();this._logsToPush=[],ue.ifMaster(ue.MasterTopics.SEND_LOGS,function(){h.length>0&&y.sendUpstream(ue.EventType.SEND_LOGS,h)})},l.prototype.scheduleUpstreamOuterContextCCPserverBoundLogsPush=function(y){ie.setInterval(ue.hitch(this,this.pushOuterContextCCPserverBoundLogsUpstream,y),1e3)},l.prototype.scheduleUpstreamOuterContextCCPLogsPush=function(y){ie.setInterval(ue.hitch(this,this.pushOuterContextCCPLogsUpstream,y),1e3)},l.prototype.pushOuterContextCCPserverBoundLogsUpstream=function(y){if(this._serverBoundInternalLogs.length>0){for(var h=0;h<this._serverBoundInternalLogs.length;h++)this._serverBoundInternalLogs[h].text=this._serverBoundInternalLogs[h].text;y.sendUpstream(ue.EventType.SERVER_BOUND_INTERNAL_LOG,this._serverBoundInternalLogs),this._serverBoundInternalLogs=[]}},l.prototype.pushOuterContextCCPLogsUpstream=function(y){for(var h=this._startLogIndexToPush;h<this._logs.length;h++)this._logs[h].loggerId===this._loggerId&&y.sendUpstream(ue.EventType.LOG,this._logs[h]);this._startLogIndexToPush=this._logs.length},l.prototype.getLoggerId=function(){return this._loggerId},l.prototype.scheduleDownstreamClientSideLogsPush=function(){ie.setInterval(ue.hitch(this,this.pushClientSideLogsDownstream),he)},l.prototype.pushClientSideLogsDownstream=function(){var y=[];this._serverBoundInternalLogs.length<50||(this._serverBoundInternalLogs.length>500?y=this._serverBoundInternalLogs.splice(0,500):(y=this._serverBoundInternalLogs,this._serverBoundInternalLogs=[]),ue.publishClientSideLogs(y))};var s=function(h){l.call(this),this.conduit=h,ie.setInterval(ue.hitch(this,this._pushLogsDownstream),s.LOG_PUSH_INTERVAL),ie.clearInterval(this._logRollTimer),this._logRollTimer=null};s.LOG_PUSH_INTERVAL=1e3,s.prototype=Object.create(l.prototype),s.prototype.constructor=s,s.prototype.pushLogsDownstream=function(y){var h=this;y.forEach(function(b){h.conduit.sendDownstream(ue.EventType.LOG,b)})},s.prototype._pushLogsDownstream=function(){var y=this;this._logs.forEach(function(b){y.conduit.sendDownstream(ue.EventType.LOG,b)}),this._logs=[];for(var h=0;h<this._serverBoundInternalLogs.length;h++)this.conduit.sendDownstream(ue.EventType.SERVER_BOUND_INTERNAL_LOG,this._serverBoundInternalLogs[h]);this._serverBoundInternalLogs=[]};var i=function(h){var b=function(){try{return h.apply(this,arguments)}catch(r){m.ERROR(r)}};return b},T=function(h){for(var b in h)typeof h[b]=="function"&&(h[b]=i(h[b]))};ue.rootLogger=new l,T(ue.rootLogger);var S=function(){return ue.rootLogger};ue=ue||{},ue.getLog=S,ue.LogEntry=d,ue.Logger=l,ue.LogLevel=u,ue.LogComponent=E,ue.DownstreamConduitLogger=s})()},254:function(){(function(ae){var ie=this||globalThis;function ue(S,y){var h=(S&65535)+(y&65535),b=(S>>16)+(y>>16)+(h>>16);return b<<16|h&65535}function Oe(S,y){return S<<y|S>>>32-y}function he(S,y,h,b,A,r){return ue(Oe(ue(ue(y,S),ue(b,r)),A),h)}function N(S,y,h,b,A,r,w){return he(y&h|~y&b,S,y,A,r,w)}function L(S,y,h,b,A,r,w){return he(y&b|h&~b,S,y,A,r,w)}function u(S,y,h,b,A,r,w){return he(y^h^b,S,y,A,r,w)}function E(S,y,h,b,A,r,w){return he(h^(y|~b),S,y,A,r,w)}function C(S,y){S[y>>5]|=128<<y%32,S[(y+64>>>9<<4)+14]=y;var h,b,A,r,w,O=1732584193,R=-271733879,z=-1732584194,ee=271733878;for(h=0;h<S.length;h+=16)b=O,A=R,r=z,w=ee,O=N(O,R,z,ee,S[h],7,-680876936),ee=N(ee,O,R,z,S[h+1],12,-389564586),z=N(z,ee,O,R,S[h+2],17,606105819),R=N(R,z,ee,O,S[h+3],22,-1044525330),O=N(O,R,z,ee,S[h+4],7,-176418897),ee=N(ee,O,R,z,S[h+5],12,1200080426),z=N(z,ee,O,R,S[h+6],17,-1473231341),R=N(R,z,ee,O,S[h+7],22,-45705983),O=N(O,R,z,ee,S[h+8],7,1770035416),ee=N(ee,O,R,z,S[h+9],12,-1958414417),z=N(z,ee,O,R,S[h+10],17,-42063),R=N(R,z,ee,O,S[h+11],22,-1990404162),O=N(O,R,z,ee,S[h+12],7,1804603682),ee=N(ee,O,R,z,S[h+13],12,-40341101),z=N(z,ee,O,R,S[h+14],17,-1502002290),R=N(R,z,ee,O,S[h+15],22,1236535329),O=L(O,R,z,ee,S[h+1],5,-165796510),ee=L(ee,O,R,z,S[h+6],9,-1069501632),z=L(z,ee,O,R,S[h+11],14,643717713),R=L(R,z,ee,O,S[h],20,-373897302),O=L(O,R,z,ee,S[h+5],5,-701558691),ee=L(ee,O,R,z,S[h+10],9,38016083),z=L(z,ee,O,R,S[h+15],14,-660478335),R=L(R,z,ee,O,S[h+4],20,-405537848),O=L(O,R,z,ee,S[h+9],5,568446438),ee=L(ee,O,R,z,S[h+14],9,-1019803690),z=L(z,ee,O,R,S[h+3],14,-187363961),R=L(R,z,ee,O,S[h+8],20,1163531501),O=L(O,R,z,ee,S[h+13],5,-1444681467),ee=L(ee,O,R,z,S[h+2],9,-51403784),z=L(z,ee,O,R,S[h+7],14,1735328473),R=L(R,z,ee,O,S[h+12],20,-1926607734),O=u(O,R,z,ee,S[h+5],4,-378558),ee=u(ee,O,R,z,S[h+8],11,-2022574463),z=u(z,ee,O,R,S[h+11],16,1839030562),R=u(R,z,ee,O,S[h+14],23,-35309556),O=u(O,R,z,ee,S[h+1],4,-1530992060),ee=u(ee,O,R,z,S[h+4],11,1272893353),z=u(z,ee,O,R,S[h+7],16,-155497632),R=u(R,z,ee,O,S[h+10],23,-1094730640),O=u(O,R,z,ee,S[h+13],4,681279174),ee=u(ee,O,R,z,S[h],11,-358537222),z=u(z,ee,O,R,S[h+3],16,-722521979),R=u(R,z,ee,O,S[h+6],23,76029189),O=u(O,R,z,ee,S[h+9],4,-640364487),ee=u(ee,O,R,z,S[h+12],11,-421815835),z=u(z,ee,O,R,S[h+15],16,530742520),R=u(R,z,ee,O,S[h+2],23,-995338651),O=E(O,R,z,ee,S[h],6,-198630844),ee=E(ee,O,R,z,S[h+7],10,1126891415),z=E(z,ee,O,R,S[h+14],15,-1416354905),R=E(R,z,ee,O,S[h+5],21,-57434055),O=E(O,R,z,ee,S[h+12],6,1700485571),ee=E(ee,O,R,z,S[h+3],10,-1894986606),z=E(z,ee,O,R,S[h+10],15,-1051523),R=E(R,z,ee,O,S[h+1],21,-2054922799),O=E(O,R,z,ee,S[h+8],6,1873313359),ee=E(ee,O,R,z,S[h+15],10,-30611744),z=E(z,ee,O,R,S[h+6],15,-1560198380),R=E(R,z,ee,O,S[h+13],21,1309151649),O=E(O,R,z,ee,S[h+4],6,-145523070),ee=E(ee,O,R,z,S[h+11],10,-1120210379),z=E(z,ee,O,R,S[h+2],15,718787259),R=E(R,z,ee,O,S[h+9],21,-343485551),O=ue(O,b),R=ue(R,A),z=ue(z,r),ee=ue(ee,w);return[O,R,z,ee]}function v(S){var y,h="",b=S.length*32;for(y=0;y<b;y+=8)h+=String.fromCharCode(S[y>>5]>>>y%32&255);return h}function m(S){var y,h=[];for(h[(S.length>>2)-1]=void 0,y=0;y<h.length;y+=1)h[y]=0;var b=S.length*8;for(y=0;y<b;y+=8)h[y>>5]|=(S.charCodeAt(y/8)&255)<<y%32;return h}function f(S){return v(C(m(S),S.length*8))}function a(S,y){var h,b=m(S),A=[],r=[],w;for(A[15]=r[15]=void 0,b.length>16&&(b=C(b,S.length*8)),h=0;h<16;h+=1)A[h]=b[h]^909522486,r[h]=b[h]^1549556828;return w=C(A.concat(m(y)),512+y.length*8),v(C(r.concat(w),640))}function d(S){var y="0123456789abcdef",h="",b,A;for(A=0;A<S.length;A+=1)b=S.charCodeAt(A),h+=y.charAt(b>>>4&15)+y.charAt(b&15);return h}function p(S){return unescape(encodeURIComponent(S))}function c(S){return f(p(S))}function l(S){return d(c(S))}function s(S,y){return a(p(S),p(y))}function i(S,y){return d(s(S,y))}function T(S,y,h){return y?h?s(y,S):i(y,S):h?c(S):l(S)}ie.md5=T})()},142:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ie.ChatMediaController=function(ue,Oe){var he=ie.getLog(),N=ie.LogComponent.CHAT,L=function(){u("Chat media controller init",ue.contactId),he.info(N,"Chat media controller init").withObject(ue).sendInternalLogToServer(),ie.ChatSession.setGlobalConfig({loggerConfig:{logger:he},region:Oe.region});var v=ie.ChatSession.create({chatDetails:ue,type:"AGENT",websocketManager:ie.core.getWebSocketManager()});return E(v),v.connect().then(function(m){return he.info(N,"Chat Session Successfully established for contactId %s",ue.contactId).sendInternalLogToServer(),u("Chat Session Successfully established",ue.contactId),v}).catch(function(m){throw he.error(N,"Chat Session establishement failed for contact %s",ue.contactId).withException(m).sendInternalLogToServer(),u("Chat Session establishement failed",ue.contactId),m})},u=function(v,m){ie.publishMetric({name:v,contactId:ue.contactId,data:m||ue})},E=function(v){v.onConnectionBroken(function(m){he.error(N,"Chat Session connection broken").withException(m).sendInternalLogToServer(),u("Chat Session connection broken",m)}),v.onConnectionEstablished(function(m){he.info(N,"Chat Session connection established").withObject(m).sendInternalLogToServer(),u("Chat Session connection established",m)})};return{get:function(){return L()}}}})()},884:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ie.MediaFactory=function(ue){var Oe={},he=new Set,N=ie.getLog(),L=ie.LogComponent.CHAT,u=ie.merge({},ue)||{};u.region=u.region||"us-west-2";var E=function(a){var d=a.getConnectionId(),p=a.getMediaInfo();if(!p)return N.error(L,"Media info does not exist for a media type %s",a.getMediaType()).withObject(a).sendInternalLogToServer(),Promise.reject("Media info does not exist for this connection");if(Oe[d])return Oe[d];switch(N.info(L,"media controller of type %s init",a.getMediaType()).withObject(a).sendInternalLogToServer(),a.getMediaType()){case ie.MediaType.CHAT:return Oe[d]=new ie.ChatMediaController(a.getMediaInfo(),u).get();case ie.MediaType.SOFTPHONE:return Oe[d]=new ie.SoftphoneMediaController(a.getMediaInfo()).get();case ie.MediaType.TASK:return Oe[d]=new ie.TaskMediaController(a.getMediaInfo()).get();default:return N.error(L,"Unrecognized media type %s ",a.getMediaType()).sendInternalLogToServer(),Promise.reject()}},C=function(a){return a.isActive()},v=function(a){return C(a)?E(a):(m(a.getConnectionId()),Promise.reject("Media Controller is no longer available for this connection"))},m=function(a){Oe[a]&&!he.has(a)&&(N.info(L,"Destroying mediaController for %s",a),he.add(a),Oe[a].then(function(d){typeof d.cleanUp=="function"&&d.cleanUp(),delete Oe[a],he.delete(a)}).catch(function(){delete Oe[a],he.delete(a)}))};return{get:v,destroy:m}}})()},390:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ie.SoftphoneMediaController=function(ue){return{get:function(){return Promise.resolve(ue)}}}})()},269:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ie.TaskMediaController=function(ue){var Oe=ie.getLog(),he=ie.LogComponent.TASK,N=function(){L("Task media controller init",ue.contactId),Oe.info(he,"Task media controller init").withObject(ue);var C=ie.TaskSession.create({contactId:ue.contactId,initialContactId:ue.initialContactId,websocketManager:ie.core.getWebSocketManager()});return u(C),C.connect().then(function(){return Oe.info(he,"Task Session Successfully established for contactId %s",ue.contactId),L("Task Session Successfully established",ue.contactId),C}).catch(function(v){throw Oe.error(he,"Task Session establishement failed for contact %s",ue.contactId).withException(v),L("Chat Session establishement failed",ue.contactId),v})},L=function(C,v){ie.publishMetric({name:C,contactId:ue.contactId,data:v||ue})},u=function(C){C.onConnectionBroken(function(v){Oe.error(he,"Task Session connection broken").withException(v),L("Task Session connection broken",v)}),C.onConnectionEstablished(function(v){Oe.info(he,"Task Session connection established").withObject(v),L("Task Session connection established",v)})};return{get:function(){return N()}}}})()},414:()=>{function ae(L){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ae(L)}function ie(L,u){var E=Object.keys(L);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(L);u&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(L,v).enumerable})),E.push.apply(E,C)}return E}function ue(L){for(var u=1;u<arguments.length;u++){var E=arguments[u]!=null?arguments[u]:{};u%2?ie(Object(E),!0).forEach(function(C){Oe(L,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(E)):ie(Object(E)).forEach(function(C){Object.defineProperty(L,C,Object.getOwnPropertyDescriptor(E,C))})}return L}function Oe(L,u,E){return(u=he(u))in L?Object.defineProperty(L,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[u]=E,L}function he(L){var u=N(L,"string");return ae(u)=="symbol"?u:u+""}function N(L,u){if(ae(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var C=E.call(L,u);if(ae(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(L)}(function(){var L=this||globalThis,u=L.connect||{};L.connect=u,L.lily=u;var E="/request-storage-access",C={canRequest:!1,mode:"default",custom:{hideCCP:!0}},v={},m="",f=null,a=!1,d,p={INIT:"storageAccess::init",GRANTED:"storageAccess::granted",DENIED:"storageAccess::denied",REQUEST:"storageAccess::request"},c=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R.custom=R.custom||{},v=ue(ue(ue({},C),R),{},{custom:ue(ue({},C.custom),R.custom)}),v.canRequest=!(v.canRequest==="false"||v.canRequest===!1)},l=function(){v={},m="",f=null,a=!1},s=function(){return{show:function(){f.style.display="block"},hide:function(){f.style.display="none"}}},i=function(){return v&&v.mode==="custom"},T=function(){var R;return(R=v)===null||R===void 0||(R=R.custom)===null||R===void 0?void 0:R.hideCCP},S=function(R){return R.match(/.connect.aws.a2z.com|.my.connect.aws|.govcloud.connect.aws|.awsapps.com/)},y=function(R){var z=new URL(R),ee=z.origin,oe=z.pathname;if(ee.match(/.awsapps.com/)){var Q="connect";return oe.startsWith("/connect-gamma")&&(Q="connect-gamma"),"".concat(ee,"/").concat(Q).concat(E)}else return"".concat(ee).concat(E)},h=function(R){return R.match(/^https?:\/\/localhost/)},b=function(){if(!m)throw new Error("[StorageAccess] [getlandAtPath] Invoke connect.storageAccess.init first");if(S(m)||h(m)){var R=new URL(m),z=R.pathname;return z}return"/connect/ccp-v2"},A=function(){if(!m)throw new Error("[StorageAccess] [getRequestStorageAccessUrl] Invoke connect.storageAccess.init first");if(S(m))return y(m);if(h(m))return u.getLog().info("[StorageAccess] [CCP] Local testing"),"".concat(m).concat(E);if(v.instanceUrl&&S(v.instanceUrl))return u.getLog().info("[StorageAccess] [getRequestStorageAccessUrl] Customer has provided storageParams.instanceUrl ".concat(v.instanceUrl)),y(v.instanceUrl);if(v.instanceUrl&&h(v.instanceUrl))return u.getLog().info("[StorageAccess] [getRequestStorageAccessUrl] Local testing"),"".concat(v.instanceUrl).concat(E);throw u.getLog().error("[StorageAccess] [getRequestStorageAccessUrl] Invalid Connect instance/CCP URL provided, please pass the correct ccpUrl or storageAccess.instanceUrl parameters"),new Error("[StorageAccess] [getRequestStorageAccessUrl] Invalid Connect instance/CCP URL provided, please pass the valid Connect CCP URL or in case CCP URL is configured to be the SSO URL then use storageAccess.instanceUrl and pass the Connect CCP URL")},r=function(R){var z=R.onInit,ee=R.onDeny,oe=R.onGrant;function Q(I){var W=I.data,Z=I.source,V=u.core._getCCPIframe();if(V.contentWindow!==Z)return!1;switch(u.core.initialized&&window.removeEventListener("message",Q),W.event){case p.INIT:{u.getLog().info("[StorageAccess][INIT] message recieved").withObject(W),z&&z(W);break}case p.GRANTED:{u.getLog().info("[StorageAccess][GRANTED] message recieved").withObject(W),oe&&oe(W);break}case p.DENIED:{u.getLog().info("[StorageAccess][DENIED] message recieved").withObject(W),ee&&ee(W);break}default:{u.core.initialized&&window.removeEventListener("message",Q);break}}}return v.canRequest&&window.addEventListener("message",Q),{unsubscribe:function(){window.removeEventListener("message",Q)}}},w=function(R){var z=R.onGrant;d&&d.unsubscribe(),d=r({onInit:function(oe){console.log("%c[StorageAccess][INIT]","background:yellow; color:black; font-size:large"),u.getLog().info("[StorageAccess][onInit] callback executed").withObject(oe==null?void 0:oe.data),!(oe!=null&&oe.data.hasAccess)&&i()&&s().show()},onDeny:function(){console.log("%c[StorageAccess][DENIED]","background:red; color:black; font-size:large"),u.getLog().info("[StorageAccess][onDeny] callback executed"),i()&&s().show()},onGrant:function(){console.log("%c[StorageAccess][GRANTED]","background:lime; color:black; font-size:large"),u.getLog().info("[StorageAccess][onGrant] callback executed"),i()&&T()&&s().hide(),a||(z(),a=!0)}})};u.storageAccess=Object.freeze({canRequest:function(){return v.canRequest},optOutFromRequestAccess:function(){C.canRequest=!1},optInForRequestAccess:function(){C.canRequest=!0},init:function(R,z){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};u.assertNotNull(R,"ccpUrl"),u.assertNotNull(z,"container"),f=z,m=R,c(ee),u.getLog().info("[StorageAccess][init] Request Storage Acccess init called with ccpUrl - ".concat(R," - ").concat(v.canRequest?"Proceeding with requesting storage access":"user has opted out, skipping request storage access")).withObject(v)},setupRequestHandlers:w,getRequestStorageAccessUrl:A,storageAccessEvents:p,resetStorageAccessState:l,getOnGrantCallbackInvoked:function(){return a},getStorageAccessParams:function(){return v},onRequest:r,request:function(){var R=u.core._getCCPIframe();R.contentWindow.postMessage({event:p.REQUEST,data:ue(ue({},v),{},{landat:b()})},"*")}})})()},906:()=>{function ae(he){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},ae(he)}function ie(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ie=function(){return N};var he,N={},L=Object.prototype,u=L.hasOwnProperty,E=Object.defineProperty||function(Z,V,M){Z[V]=M.value},C=typeof Symbol=="function"?Symbol:{},v=C.iterator||"@@iterator",m=C.asyncIterator||"@@asyncIterator",f=C.toStringTag||"@@toStringTag";function a(Z,V,M){return Object.defineProperty(Z,V,{value:M,enumerable:!0,configurable:!0,writable:!0}),Z[V]}try{a({},"")}catch{a=function(M,B,Y){return M[B]=Y}}function d(Z,V,M,B){var Y=V&&V.prototype instanceof S?V:S,K=Object.create(Y.prototype),q=new I(B||[]);return E(K,"_invoke",{value:z(Z,M,q)}),K}function p(Z,V,M){try{return{type:"normal",arg:Z.call(V,M)}}catch(B){return{type:"throw",arg:B}}}N.wrap=d;var c="suspendedStart",l="suspendedYield",s="executing",i="completed",T={};function S(){}function y(){}function h(){}var b={};a(b,v,function(){return this});var A=Object.getPrototypeOf,r=A&&A(A(W([])));r&&r!==L&&u.call(r,v)&&(b=r);var w=h.prototype=S.prototype=Object.create(b);function O(Z){["next","throw","return"].forEach(function(V){a(Z,V,function(M){return this._invoke(V,M)})})}function R(Z,V){function M(Y,K,q,X){var se=p(Z[Y],Z,K);if(se.type!=="throw"){var le=se.arg,ve=le.value;return ve&&ae(ve)=="object"&&u.call(ve,"__await")?V.resolve(ve.__await).then(function(_e){M("next",_e,q,X)},function(_e){M("throw",_e,q,X)}):V.resolve(ve).then(function(_e){le.value=_e,q(le)},function(_e){return M("throw",_e,q,X)})}X(se.arg)}var B;E(this,"_invoke",{value:function(K,q){function X(){return new V(function(se,le){M(K,q,se,le)})}return B=B?B.then(X,X):X()}})}function z(Z,V,M){var B=c;return function(Y,K){if(B===s)throw Error("Generator is already running");if(B===i){if(Y==="throw")throw K;return{value:he,done:!0}}for(M.method=Y,M.arg=K;;){var q=M.delegate;if(q){var X=ee(q,M);if(X){if(X===T)continue;return X}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(B===c)throw B=i,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);B=s;var se=p(Z,V,M);if(se.type==="normal"){if(B=M.done?i:l,se.arg===T)continue;return{value:se.arg,done:M.done}}se.type==="throw"&&(B=i,M.method="throw",M.arg=se.arg)}}}function ee(Z,V){var M=V.method,B=Z.iterator[M];if(B===he)return V.delegate=null,M==="throw"&&Z.iterator.return&&(V.method="return",V.arg=he,ee(Z,V),V.method==="throw")||M!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+M+"' method")),T;var Y=p(B,Z.iterator,V.arg);if(Y.type==="throw")return V.method="throw",V.arg=Y.arg,V.delegate=null,T;var K=Y.arg;return K?K.done?(V[Z.resultName]=K.value,V.next=Z.nextLoc,V.method!=="return"&&(V.method="next",V.arg=he),V.delegate=null,T):K:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,T)}function oe(Z){var V={tryLoc:Z[0]};1 in Z&&(V.catchLoc=Z[1]),2 in Z&&(V.finallyLoc=Z[2],V.afterLoc=Z[3]),this.tryEntries.push(V)}function Q(Z){var V=Z.completion||{};V.type="normal",delete V.arg,Z.completion=V}function I(Z){this.tryEntries=[{tryLoc:"root"}],Z.forEach(oe,this),this.reset(!0)}function W(Z){if(Z||Z===""){var V=Z[v];if(V)return V.call(Z);if(typeof Z.next=="function")return Z;if(!isNaN(Z.length)){var M=-1,B=function Y(){for(;++M<Z.length;)if(u.call(Z,M))return Y.value=Z[M],Y.done=!1,Y;return Y.value=he,Y.done=!0,Y};return B.next=B}}throw new TypeError(ae(Z)+" is not iterable")}return y.prototype=h,E(w,"constructor",{value:h,configurable:!0}),E(h,"constructor",{value:y,configurable:!0}),y.displayName=a(h,f,"GeneratorFunction"),N.isGeneratorFunction=function(Z){var V=typeof Z=="function"&&Z.constructor;return!!V&&(V===y||(V.displayName||V.name)==="GeneratorFunction")},N.mark=function(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,h):(Z.__proto__=h,a(Z,f,"GeneratorFunction")),Z.prototype=Object.create(w),Z},N.awrap=function(Z){return{__await:Z}},O(R.prototype),a(R.prototype,m,function(){return this}),N.AsyncIterator=R,N.async=function(Z,V,M,B,Y){Y===void 0&&(Y=Promise);var K=new R(d(Z,V,M,B),Y);return N.isGeneratorFunction(V)?K:K.next().then(function(q){return q.done?q.value:K.next()})},O(w),a(w,f,"Generator"),a(w,v,function(){return this}),a(w,"toString",function(){return"[object Generator]"}),N.keys=function(Z){var V=Object(Z),M=[];for(var B in V)M.push(B);return M.reverse(),function Y(){for(;M.length;){var K=M.pop();if(K in V)return Y.value=K,Y.done=!1,Y}return Y.done=!0,Y}},N.values=W,I.prototype={constructor:I,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=he,this.done=!1,this.delegate=null,this.method="next",this.arg=he,this.tryEntries.forEach(Q),!V)for(var M in this)M.charAt(0)==="t"&&u.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=he)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var M=this;function B(le,ve){return q.type="throw",q.arg=V,M.next=le,ve&&(M.method="next",M.arg=he),!!ve}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var K=this.tryEntries[Y],q=K.completion;if(K.tryLoc==="root")return B("end");if(K.tryLoc<=this.prev){var X=u.call(K,"catchLoc"),se=u.call(K,"finallyLoc");if(X&&se){if(this.prev<K.catchLoc)return B(K.catchLoc,!0);if(this.prev<K.finallyLoc)return B(K.finallyLoc)}else if(X){if(this.prev<K.catchLoc)return B(K.catchLoc,!0)}else{if(!se)throw Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return B(K.finallyLoc)}}}},abrupt:function(V,M){for(var B=this.tryEntries.length-1;B>=0;--B){var Y=this.tryEntries[B];if(Y.tryLoc<=this.prev&&u.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var K=Y;break}}K&&(V==="break"||V==="continue")&&K.tryLoc<=M&&M<=K.finallyLoc&&(K=null);var q=K?K.completion:{};return q.type=V,q.arg=M,K?(this.method="next",this.next=K.finallyLoc,T):this.complete(q)},complete:function(V,M){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&M&&(this.next=M),T},finish:function(V){for(var M=this.tryEntries.length-1;M>=0;--M){var B=this.tryEntries[M];if(B.finallyLoc===V)return this.complete(B.completion,B.afterLoc),Q(B),T}},catch:function(V){for(var M=this.tryEntries.length-1;M>=0;--M){var B=this.tryEntries[M];if(B.tryLoc===V){var Y=B.completion;if(Y.type==="throw"){var K=Y.arg;Q(B)}return K}}throw Error("illegal catch attempt")},delegateYield:function(V,M,B){return this.delegate={iterator:W(V),resultName:M,nextLoc:B},this.method==="next"&&(this.arg=he),T}},N}function ue(he,N,L,u,E,C,v){try{var m=he[C](v),f=m.value}catch(a){return void L(a)}m.done?N(f):Promise.resolve(f).then(u,E)}function Oe(he){return function(){var N=this,L=arguments;return new Promise(function(u,E){var C=he.apply(N,L);function v(f){ue(C,u,E,v,m,"next",f)}function m(f){ue(C,u,E,v,m,"throw",f)}v(void 0)})}}(function(){var he=this||globalThis,N=he.connect||{};he.connect=N,he.lily=N;var L=function(a){N.assertNotNull(a,"ringtoneConfig"),this._audio=null,this._deviceId="",this._ringtoneUrl=a.ringtoneUrl,this._loadRingtone(this._ringtoneUrl).catch(function(){}),this._driveRingtone()};L.prototype._loadRingtone=function(f){var a=this;return new Promise(function(d,p){f||p(Error("ringtoneUrl is required!")),a._audio=new Audio(f),a._audio.loop=!0,a.setOutputDevice(a._deviceId);var c=setTimeout(function(){N.getLog().warn("Ringtone isn't loaded in 1 second but proceeding: ",+f).sendInternalLogToServer(),d()},1e3);a._audio.addEventListener("canplay",function(){N.getLog().info("Ringtone is ready to play: ",+f).sendInternalLogToServer(),clearTimeout(c),d()}),a._audio.addEventListener("error",function(){N.getLog().error("Ringtone load error: ",+f).sendInternalLogToServer(),clearTimeout(c),p(Error("Ringtone load error: "+f))})})},L.prototype._driveRingtone=function(){throw new Error("Not implemented.")},L.prototype._startRingtone=function(){var f=Oe(ie().mark(function a(d){var p=this,c,l,s=arguments;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return c=s.length>1&&s[1]!==void 0?s[1]:0,l=s.length>2&&s[2]!==void 0?s[2]:[],T.abrupt("return",new Promise(function(S,y){p._audio||y(Error("No audio object found")),N.getLog().info("Attempting to start ringtone to device ".concat(p._audio.sinkId||"''")).sendInternalLogToServer(),p._audio.play().then(function(){p._publishTelemetryEvent("Ringtone Start",d),N.getLog().info("Ringtone Start: Succeeded with ".concat(c," retries remaining")).withObject({errorList:l,contactId:d.getContactId()}).sendInternalLogToServer(),S()}).catch(function(){var h=Oe(ie().mark(function b(A){return ie().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(p._publishTelemetryEvent("Ringtone Playback Failure",d),N.getLog().error("Ringtone Playback Failure: ".concat(c," retries remaining.")).withException(A).withObject({currentSrc:p._audio.currentSrc,sinkId:p._audio.sinkId,volume:p._audio.volume,contactId:d.getContactId()}).sendInternalLogToServer(),l.push(A.toString()),!(c>0)){w.next=10;break}return w.next=6,p._loadRingtone(p._ringtoneUrl).catch(function(){});case 6:return w.next=8,p._startRingtone(d,c-1,l).then(S).catch(function(){return y(l)});case 8:w.next=12;break;case 10:N.getLog().error("Ringtone Retries Exhausted").withObject({errorList:l,contactId:d.getContactId()}).sendInternalLogToServer(),y(l);case 12:case"end":return w.stop()}},b)}));return function(b){return h.apply(this,arguments)}}())}));case 3:case"end":return T.stop()}},a)}));return function(a){return f.apply(this,arguments)}}(),L.prototype._stopRingtone=function(f){this._audio&&(this._audio.pause(),this._audio.currentTime=0,this._publishTelemetryEvent("Ringtone Stop",f),N.getLog().info("Ringtone Stop").sendInternalLogToServer())},L.prototype.stopRingtone=function(){this._stopRingtone()},L.prototype._ringtoneSetup=function(f){var a=this;N.ifMaster(N.MasterTopics.RINGTONE,function(){a._startRingtone(f,2).catch(function(){}),f.onConnected(lily.hitch(a,a._stopRingtone)),f.onAccepted(lily.hitch(a,a._stopRingtone)),f.onEnded(lily.hitch(a,a._stopRingtone)),f.onRefresh(function(d){d.getStatus().type!==N.ContactStatusType.CONNECTING&&d.getStatus().type!==N.ContactStatusType.INCOMING&&a._stopRingtone()})})},L.prototype._publishTelemetryEvent=function(f,a){a&&a.getContactId()&&N.publishMetric({name:f,contactId:a.getContactId()})},L.prototype.setOutputDevice=function(f){var a=this;return new Promise(function(d,p){a._audio&&a._audio.setSinkId?a._audio.setSinkId(f).then(function(){a._deviceId=f,d(f)}).catch(function(c){p("RingtoneEngineBase.setOutputDevice failed: audio.setSinkId() failed with error ".concat(c))}):p("RingtoneEngineBase.setOutputDevice failed: ".concat(a._audio?"audio":"audio.setSinkId"," not found."))})};var u=function(a){L.call(this,a)};u.prototype=Object.create(L.prototype),u.prototype.constructor=u,u.prototype._driveRingtone=function(){var f=this,a=function(p){p.getType()===N.ContactType.VOICE&&p.isSoftphoneCall()&&p.isInbound()&&(f._ringtoneSetup(p),f._publishTelemetryEvent("Ringtone Connecting",p),N.getLog().info("Ringtone Connecting").sendInternalLogToServer())};N.contact(function(d){d.onConnecting(a)}),new N.Agent().getContacts().forEach(function(d){d.getStatus().type===N.ContactStatusType.CONNECTING&&a(d)})};var E=function(a){L.call(this,a)};E.prototype=Object.create(L.prototype),E.prototype.constructor=E,E.prototype._driveRingtone=function(){var f=this,a=function(p){if(p.getType()===lily.ContactType.CHAT&&p.isInbound()){var c=p.getConnections().filter(function(l){return l.getType()===N.ConnectionType.AGENT&&l.isSilentMonitor()});c.length===0&&(f._ringtoneSetup(p),f._publishTelemetryEvent("Chat Ringtone Connecting",p),N.getLog().info("Chat Ringtone Connecting").sendInternalLogToServer())}};N.contact(function(d){d.onConnecting(a)})};var C=function(a){L.call(this,a)};C.prototype=Object.create(L.prototype),C.prototype.constructor=C,C.prototype._driveRingtone=function(){var f=this,a=function(p){p.getType()===lily.ContactType.TASK&&p.isInbound()&&(f._ringtoneSetup(p),f._publishTelemetryEvent("Task Ringtone Connecting",p),N.getLog().info("Task Ringtone Connecting").sendInternalLogToServer())};N.contact(function(d){d.onConnecting(a)})};var v=function(a){L.call(this,a)};v.prototype=Object.create(L.prototype),v.prototype.constructor=v,v.prototype._driveRingtone=function(){var f=this,a=function(p){p.getType()===N.ContactType.EMAIL&&p.isInbound()&&(f._ringtoneSetup(p),f._publishTelemetryEvent("Email Ringtone Connecting",p),N.getLog().info("Email Ringtone Connecting").sendInternalLogToServer())};N.contact(function(d){d.onConnecting(a)})};var m=function(a){L.call(this,a)};m.prototype=Object.create(L.prototype),m.prototype.constructor=m,m.prototype._driveRingtone=function(){var f=this;N.contact(function(a){a.onIncoming(function(){a.getType()===lily.ContactType.QUEUE_CALLBACK&&(f._ringtoneSetup(a),f._publishTelemetryEvent("Callback Ringtone Connecting",a),N.getLog().info("Callback Ringtone Connecting").sendInternalLogToServer())})})},N.VoiceRingtoneEngine=u,N.ChatRingtoneEngine=E,N.TaskRingtoneEngine=C,N.QueueCallbackRingtoneEngine=m,N.EmailRingtoneEngine=v})()},806:()=>{function ae(L){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ae(L)}function ie(L,u){var E=Object.keys(L);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(L);u&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(L,v).enumerable})),E.push.apply(E,C)}return E}function ue(L){for(var u=1;u<arguments.length;u++){var E=arguments[u]!=null?arguments[u]:{};u%2?ie(Object(E),!0).forEach(function(C){Oe(L,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(E)):ie(Object(E)).forEach(function(C){Object.defineProperty(L,C,Object.getOwnPropertyDescriptor(E,C))})}return L}function Oe(L,u,E){return(u=he(u))in L?Object.defineProperty(L,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[u]=E,L}function he(L){var u=N(L,"string");return ae(u)=="symbol"?u:u+""}function N(L,u){if(ae(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var C=E.call(L,u);if(ae(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(L)}(function(){var L=this||globalThis,u=L.connect||{};L.connect=u,L.lily=u,L.ccpVersion="V2";var E={CITRIX:"CITRIX",AWS_WORKSPACE:"AWS_WORKSPACE"},C="browserId",v=3e4,m={};m[u.SoftphoneCallType.AUDIO_ONLY]="Audio",m[u.SoftphoneCallType.VIDEO_ONLY]="Video",m[u.SoftphoneCallType.AUDIO_VIDEO]="AudioVideo",m[u.SoftphoneCallType.NONE]="None";var f="audio_input",a="audio_output",d={};d[u.ContactType.VOICE]="Voice";var p=[],c=10800,l=[],s=[],i={},T={},S=1,y=0,h=0,b=0,A=0,r=0,w=0,O=!1,R=!1,z=null,ee=null,oe=null,Q=null,I=u.SoftphoneErrorTypes,W="MultiSessionHangUp",Z="echoCancellationCheck",V={},M=u.randomId(),B=function(x){return new Promise(function(D,H){u.core.getClient().call(u.ClientMethods.CREATE_TRANSPORT,x,{success:function(re){D(re.softphoneTransport.softphoneMediaConnections)},failure:function(re){re.message&&re.message.includes("SoftphoneConnectionLimitBreachedException")&&Be("multiple_softphone_active_sessions","Number of active sessions are more then allowed limit.",""),H(Error("requestIceAccess failed"))},authFailure:function(){H(Error("Authentication failed while requestIceAccess"))},accessDenied:function(){H(Error("Access Denied while requestIceAccess"))}})})},Y=function(){var x=this,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=this;this.rtcPeerConnectionFactory=null,this.rtcJsStrategy=null,this.rtcPeerConnectionManager=null,this._setRtcJsStrategy=function(){if(D.VDIPlatform){z=D.VDIPlatform;try{if(D.VDIPlatform===E.CITRIX)this.rtcJsStrategy=new u.CitrixVDIStrategy,Q.info("[SoftphoneManager] Strategy constructor retrieved: ".concat(this.rtcJsStrategy)).sendInternalLogToServer();else if(D.VDIPlatform===E.AWS_WORKSPACE)this.rtcJsStrategy=new u.DCVWebRTCStrategy,Q.info("[SoftphoneManager] Strategy constructor retrieved: ".concat(this.rtcJsStrategy)).sendInternalLogToServer();else throw new Error("VDI Strategy not supported")}catch(Xe){throw Xe.message==="VDI Strategy not supported"?(Be(I.VDI_STRATEGY_NOT_SUPPORTED,Xe.message,""),Xe):Xe.message==="Citrix WebRTC redirection feature is NOT supported!"||Xe.message==="DCV WebRTC redirection feature is NOT supported!"?(Be(I.VDI_REDIR_NOT_SUPPORTED,Xe.message,""),Xe):(Be(I.OTHER,Xe.message,""),Xe)}}},this._refreshRtcPeerConnectionFactory=function(){var Xe;u!=null&&(Xe=u.core)!==null&&Xe!==void 0&&(Xe=Xe.softphoneManager)!==null&&Xe!==void 0&&(Xe=Xe.rtcPeerConnectionFactory)!==null&&Xe!==void 0&&Xe.close&&u.core.softphoneManager.rtcPeerConnectionFactory.close(),u.RtcPeerConnectionFactory&&(this.rtcJsStrategy?this.rtcPeerConnectionFactory=new u.RtcPeerConnectionFactory(Q,u.core.getWebSocketManager(),M,u.hitch(H,B,{transportType:"softphone",softphoneClientId:M}),u.hitch(H,Be),this.rtcJsStrategy):this.rtcPeerConnectionFactory=new u.RtcPeerConnectionFactory(Q,u.core.getWebSocketManager(),M,u.hitch(H,B,{transportType:"softphone",softphoneClientId:M}),u.hitch(H,Be)))};var te=function(){u.agent(function(We){var Ze=We.onRefresh(function(st){if(x.rtcPeerConnectionManager){var St=st.getConfiguration().softphonePersistentConnection;x.rtcPeerConnectionManager.isPPCEnabled!==St&&(x.rtcPeerConnectionManager.isPPCEnabled=St,x.rtcPeerConnectionManager.isPPCEnabled?(Q.info("softphonePersistentConnection changed to ture, initiate a persistent peer connection").sendInternalLogToServer(),x.rtcPeerConnectionManager.rtcJsStrategy=x.rtcJsStrategy,x.rtcPeerConnectionManager.closeEarlyMediaConnection(),x.rtcPeerConnectionManager.requestPeerConnection().then(function(){x.rtcPeerConnectionManager.createSession(),x.rtcPeerConnectionManager.connect()})):(Q.info("softphonePersistentConnection changed to false, destroy the existing persistent peer connection").sendInternalLogToServer(),x.rtcPeerConnectionManager.destroy(),x.rtcPeerConnectionManager.requestPeerConnection()))}else u.core._allowSoftphonePersistentConnection?x._initiateRtcPeerConnectionManager():Ze.unsubscribe()})})};this._initiateRtcPeerConnectionManager=function(){var Xe;u!=null&&(Xe=u.core)!==null&&Xe!==void 0&&(Xe=Xe.softphoneManager)!==null&&Xe!==void 0&&(Xe=Xe.rtcPeerConnectionManager)!==null&&Xe!==void 0&&Xe.close&&(u.core.softphoneManager.rtcPeerConnectionManager.close(),u.core.softphoneManager.rtcPeerConnectionManager=null);var We=D.isSoftphonePersistentConnectionEnabled,Ze;if(L.localStorage.getItem(C)||L.localStorage.setItem(C,AWS.util.uuid.v4()),Ze=L.localStorage.getItem(C),u.RtcPeerConnectionManager){var st;O=!1,(st=H.rtcPeerConnectionFactory)!==null&&st!==void 0&&st.close&&(H.rtcPeerConnectionFactory.close(),H.rtcPeerConnectionFactory=null),H.rtcPeerConnectionManager=new u.RtcPeerConnectionManager(null,null,u.hitch(H,B,{transportType:"softphone",softphoneClientId:M}),u.hitch(H,Be),M,null,Q,null,null,u.core.getWebSocketManager(),H.rtcJsStrategy===null?new u.StandardStrategy:H.rtcJsStrategy,We,Ze)}else Q.info("RtcPeerConnectionManager does NOT exist, please upgrade RTC.js")},Q=new j(u.getLog()),Q.info("[Softphone Manager] softphone manager initialization has begun").sendInternalLogToServer(),D.allowEarlyGum!==!1&&(u.isChromeBrowser()||u.isEdgeBrowser())?(Q.info("[Softphone Manager] earlyGum mechanism enabled").sendInternalLogToServer(),O=!0):(Q.info("[Softphone Manager] earlyGum mechanism NOT enabled").sendInternalLogToServer(),O=!1),Q.info("[SoftphoneManager] Client Provided Strategy: ".concat(D.VDIPlatform)).sendInternalLogToServer(),this._setRtcJsStrategy(),this._refreshRtcPeerConnectionFactory(),u.core._allowSoftphonePersistentConnection&&this.rtcPeerConnectionManager===null&&this._initiateRtcPeerConnectionManager(),te(),Y.isBrowserSoftPhoneSupported()||Be(I.UNSUPPORTED_BROWSER,"Connect does not support this browser. Some functionality may not work. ",""),D.VDIPlatform!==E.AWS_WORKSPACE&&we({success:function(We){Ge("ConnectivityCheckResult",null,{connectivityCheckType:"MicrophonePermission",status:"granted"}),Ge("MicCheckSucceeded",null,{context:"Initializing Softphone Manager"})},failure:function(We){Be(We,"Your microphone is not enabled in your browser. ",""),Ge("ConnectivityCheckResult",null,{connectivityCheckType:"MicrophonePermission",status:"denied"}),Ge("GumFailed",null,{context:"Initializing Softphone Manager"})}});var re=q(),me=X(),Ee=se(!D.disableEchoCancellation);le(),this.ringtoneEngine=null;var je={},Ke={},xe=!1,Le=null,et=null,tt=function(We,Ze){xe=!0,Le=We,et=Ze},$e=function(){xe=!1,Le=null,et=null};this.getSession=function(Xe){return je[Xe]},this.replaceLocalMediaTrack=function(Xe,We){var Ze=V[Xe].stream;if(Ze){var st=Ze.getAudioTracks()[0];We.enabled=st.enabled,st.enabled=!1,Ze.removeTrack(st),D.VDIPlatform===E.AWS_WORKSPACE&&st.stop(),Ze.addTrack(We)}};var yt=function(We){return We.getStatus().type===u.ContactStatusType.ENDED||We.getStatus().type===u.ContactStatusType.ERROR||We.getStatus().type===u.ContactStatusType.MISSED},Qe=function(We){if(je.hasOwnProperty(We)){var Ze=je[We];new Promise(function(st,St){delete je[We],delete Ke[We],x.rtcPeerConnectionManager?x.rtcPeerConnectionManager.hangup():Ze.hangup()}).catch(function(st){lily.getLog().warn("There was an error destroying the softphone session for connection ID ".concat(We," : ").concat(st.message)).withObject({agentConnectionId:We,errorMessage:st.message}).sendInternalLogToServer()})}},pt=function(We){if(Object.keys(We).length>0){for(var Ze in We)We.hasOwnProperty(Ze)&&(ot(W,We[Ze].callId,Ze),Qe(Ze));throw new Error("duplicate session detected, refusing to setup new connection")}};this._clearAllSessions=function(){u.getLog().info("Clearing all active sessions").sendInternalLogToServer();for(var Xe in je)je.hasOwnProperty(Xe)&&Qe(Xe)},this.startSession=function(Xe,We){var Ze=xe?Le:Xe,st=xe?et:We;if(!(!Ze||!st)){$e(),Ke[st]=!0,Q.info("Softphone call detected:","contactId "+Ze.getContactId(),"agent connectionId "+st).sendInternalLogToServer(),pt(je),Ze.getStatus().type===u.ContactStatusType.CONNECTING&&Ge("Softphone Connecting",Ze.getContactId()),Ye();var St=Ze.getAgentConnection().getSoftphoneMediaInfo(),rn=Ae(St.callConfigJson),Un;rn.useWebSocketProvider&&(Un=u.core.getWebSocketManager());var Bt;this.rtcJsStrategy?Bt=new u.RTCSession(rn.signalingEndpoint,rn.iceServers,St.callContextToken,Q,Ze.getContactId(),st,Un,this.rtcJsStrategy):Bt=new u.RTCSession(rn.signalingEndpoint,rn.iceServers,St.callContextToken,Q,Ze.getContactId(),st,Un),Bt.echoCancellation=!D.disableEchoCancellation,je[st]=Bt,u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.ConnectionEvents.SESSION_INIT,data:{connectionId:st}}),Bt.onSessionFailed=function(Vt,Pn){delete je[st],delete Ke[st],be(Vt,Pn),Ve(Ze.getContactId(),Pn),de(Ze,Vt.sessionReport)},Bt.onSessionConnected=function(Vt){Ge("Softphone Session Connected",Ze.getContactId()),u.becomeMaster(u.MasterTopics.SEND_LOGS),Ue(Vt),qe(Ze),K(Ze)},Bt.onSessionCompleted=function(Vt){Ge("Softphone Session Completed",Ze.getContactId()),delete je[st],delete Ke[st],de(Ze,Vt.sessionReport),ve(st)},Bt.onLocalStreamAdded=function(Vt,Pn){V[st]={stream:Pn},u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.AgentEvents.LOCAL_MEDIA_STREAM_CREATED,data:{connectionId:st}})},Bt.remoteAudioElement=document.getElementById("remote-audio")||window.parent.parent.document.getElementById("remote-audio"),this.rtcPeerConnectionFactory?Bt.connect(this.rtcPeerConnectionFactory.get(rn.iceServers)):Bt.connect()}};var Ft=function(We){je[We]&&Qe(We)},Kt=function(We,Ze){if(je[Ze]&&yt(We)&&(Qe(Ze),$e()),We.isSoftphoneCall()&&!Ke[Ze]&&(We.getStatus().type===u.ContactStatusType.CONNECTING||We.getStatus().type===u.ContactStatusType.INCOMING))if(Ge("SoftphoneConfigDetected",We.getContactId(),{}),u.isFirefoxBrowser()&&u.hasOtherConnectedCCPs())Q.info("[Softphone Manager] Postpone starting session: "+We.getContactId()).sendInternalLogToServer(),tt(We,Ze);else{var st;O&&(st=u.core.userMediaProvider)!==null&&st!==void 0&&st.precapturedMediaStreamAvailable()?(R=!0,Q.info("[Softphone Manager] starting session using precapturedMediaStream").sendInternalLogToServer(),H.startSession(We,Ze,u.core.userMediaProvider.getPrecapturedMediaStream())):(R=!1,u.core._isEarlyGumDisabled&&(O=!1),H.startSession(We,Ze))}},kt=function(We){var Ze=We.getAgentConnection().connectionId;Q.info("Contact detected:","contactId "+We.getContactId(),"agent connectionId "+Ze).sendInternalLogToServer(),Ke[Ze]||(We.onRefresh(function(st){Kt(st,Ze)}),We.onDestroy(function(){Ft(Ze),V[Ze]&&ve(Ze)}))},Et=u.contact(kt);new u.Agent().getContacts().forEach(function(Xe){var We=Xe.getAgentConnection().connectionId;Q.info("Contact exist in the snapshot. Reinitiate the Contact and RTC session creation for contactId"+Xe.getContactId(),"agent connectionId "+We).sendInternalLogToServer(),kt(Xe),Kt(Xe,We)}),this.terminate=function(){Et&&Et.unsubscribe&&Et.unsubscribe(),re&&re.unsubscribe&&re.unsubscribe(),me&&me.unsubscribe&&me.unsubscribe(),Ee&&Ee.unsubscribe&&Ee.unsubscribe(),x.rtcPeerConnectionFactory.clearIdleRtcPeerConnectionTimerId&&x.rtcPeerConnectionFactory.clearIdleRtcPeerConnectionTimerId(),x.rtcPeerConnectionFactory=null,x.rtcPeerConnectionManager&&x.rtcPeerConnectionManager.clearIdleRtcPeerConnectionTimerId&&x.rtcPeerConnectionManager.clearIdleRtcPeerConnectionTimerId()}},K=function(x){var D=u.core.getUpstream(),H=x.getAgentConnection();if(!H){Q.info("Not able to retrieve the auto-accept setting from null AgentConnection, ignoring event publish..").sendInternalLogToServer();return}var te=H.getSoftphoneMediaInfo();if(!te){Q.info("Not able to retrieve the auto-accept setting from null SoftphoneMediaInfo, ignoring event publish..").sendInternalLogToServer();return}te.autoAccept===!0?(Q.info("Auto-accept is enabled, sending out Accepted event to stop ringtone..").sendInternalLogToServer(),D.sendUpstream(u.EventType.BROADCAST,{event:u.ContactEvents.ACCEPTED,data:new u.Contact(x.contactId)}),D.sendUpstream(u.EventType.BROADCAST,{event:u.core.getContactEventName(u.ContactEvents.ACCEPTED,x.contactId),data:new u.Contact(x.contactId)})):Q.info("Auto-accept is disabled, ringtone will be stopped by user action.").sendInternalLogToServer()},q=function(){var x=u.core.getEventBus();return x.subscribe(u.EventType.MUTE,_e)},X=function(){var x=u.core.getEventBus();return x.subscribe(u.ConfigurationEvents.SET_SPEAKER_DEVICE,Ie)},se=function(x){var D=u.core.getEventBus();return D.subscribe(u.ConfigurationEvents.SET_MICROPHONE_DEVICE,function(H){return He(ue(ue({},H),{},{enableEchoCancellation:x}))})},le=function(){try{u.isChromeBrowser()&&u.getChromeBrowserVersion()>43&&navigator.permissions.query({name:"microphone"}).then(function(x){x.onchange=function(){Q.info("Microphone Permission: "+x.state),Ge("ConnectivityCheckResult",null,{connectivityCheckType:"MicrophonePermission",status:x.state}),x.state==="denied"&&Be(I.MICROPHONE_NOT_SHARED,"Your microphone is not enabled in your browser. ","")}})}catch(x){Q.error("Failed in detecting microphone permission status: "+x)}},ve=function(x){delete V[x],u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.AgentEvents.MUTE_TOGGLE,data:{muted:!1}})},_e=function(x){var D;if(u.keys(V).length!==0){x&&x.mute!==void 0&&(D=x.mute);for(var H in V)if(V.hasOwnProperty(H)){var te=V[H].stream;if(te){var re=te.getAudioTracks()[0];D!==void 0?(re.enabled=!D,V[H].muted=D,D?Q.info("Agent has muted the contact, connectionId -  "+H).sendInternalLogToServer():Q.info("Agent has unmuted the contact, connectionId - "+H).sendInternalLogToServer()):D=V[H].muted||!1}}u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.AgentEvents.MUTE_TOGGLE,data:{muted:D}})}},Ie=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=x.deviceId||"";if(u.getLog().info("[Audio Device Settings] Attempting to set speaker device ".concat(D)).sendInternalLogToServer(),!D){u.getLog().warn("[Audio Device Settings] Setting speaker device cancelled due to missing deviceId").sendInternalLogToServer();return}var H=document.getElementById("remote-audio")||window.parent.parent.document.getElementById("remote-audio");H&&typeof H.setSinkId=="function"?H.setSinkId(D).then(function(){u.getLog().info("[Audio Device Settings] Speaker device ".concat(D," successfully set to speaker audio element")).sendInternalLogToServer(),u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.ConfigurationEvents.SPEAKER_DEVICE_CHANGED,data:{deviceId:D}})}).catch(function(te){u.getLog().error("[Audio Device Settings] Failed to set speaker device "+D).withException(te).sendInternalLogToServer()}):u.getLog().warn("[Audio Device Settings] Setting speaker device cancelled due to missing remoteAudioElement").sendInternalLogToServer()},He=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=x.deviceId||"";if(u.getLog().info("[Audio Device Settings] Attempting to set microphone device ".concat(D)).sendInternalLogToServer(),u.keys(V).length===0){u.getLog().warn("[Audio Device Settings] Setting microphone device cancelled due to missing localMediaStream").sendInternalLogToServer();return}if(!D){u.getLog().warn("[Audio Device Settings] Setting microphone device cancelled due to missing deviceId").sendInternalLogToServer();return}var H=u.core.getSoftphoneManager(),te={audio:{deviceId:{exact:D}}};x.enableEchoCancellation||(te.audio.echoCancellation=!1),u.publishMetric({name:Z,data:{count:1,disableEchoCancellation:!x.enableEchoCancellation}}),navigator.mediaDevices.getUserMedia(te).then(function(re){try{var me=re.getAudioTracks()[0];for(var Ee in V)if(V.hasOwnProperty(Ee)){var je=V[Ee].stream,Ke=H.getSession(Ee);Ke._pc.getSenders()[0].replaceTrack(me).then(function(){H.replaceLocalMediaTrack(Ee,me),u.getLog().info("[Audio Device Settings] Microphone device ".concat(D," successfully set to local media stream in RTCRtpSender")).sendInternalLogToServer()})}}catch(xe){u.getLog().error("[Audio Device Settings] Failed to set microphone device "+D).withException(xe).sendInternalLogToServer();return}u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.ConfigurationEvents.MICROPHONE_DEVICE_CHANGED,data:{deviceId:D}})}).catch(function(re){u.getLog().error("[Audio Device Settings] Failed to set microphone device "+D).withException(re).sendInternalLogToServer()})},be=function(x,D){if(D===u.RTCErrors.ICE_COLLECTION_TIMEOUT){for(var H=`
`,te=0;te<x._iceServers.length;te++)for(var re=0;re<x._iceServers[te].urls.length;re++)H=H+x._iceServers[te].urls[re]+`
`;Be(I.ICE_COLLECTION_TIMEOUT,"Ice collection timedout. ",H)}else D===u.RTCErrors.USER_BUSY?Be(I.USER_BUSY_ERROR,"Softphone call UserBusy error. ",""):D===u.RTCErrors.SIGNALLING_HANDSHAKE_FAILURE?Be(I.SIGNALLING_HANDSHAKE_FAILURE,"Handshaking with Signalling Server "+x._signalingUri+" failed. ",x._signalingUri):D===u.RTCErrors.GUM_TIMEOUT_FAILURE||D===u.RTCErrors.GUM_OTHER_FAILURE?Be(I.MICROPHONE_NOT_SHARED,"Your microphone is not enabled in your browser. ",""):D===u.RTCErrors.SIGNALLING_CONNECTION_FAILURE?Be(I.SIGNALLING_CONNECTION_FAILURE,"URL "+x._signalingUri+" cannot be reached. ",x._signalingUri):D===u.RTCErrors.CALL_NOT_FOUND?Q.error("Softphone call failed due to CallNotFoundException.").sendInternalLogToServer():Be(I.WEBRTC_ERROR,"webrtc system error. ","")},Ae=function(x){var D=x.replace(/&quot;/g,'"');return JSON.parse(D)},we=function(x){var D=x||{};D.success=D.success||function(){},D.failure=D.failure||function(){};var H={audio:!0},te=null;if(typeof Promise!="function"){D.failure(I.UNSUPPORTED_BROWSER);return}if(ae(navigator.mediaDevices)==="object"&&typeof navigator.mediaDevices.getUserMedia=="function")te=navigator.mediaDevices.getUserMedia(H);else if(typeof navigator.webkitGetUserMedia=="function")te=new Promise(function(re,me){navigator.webkitGetUserMedia(H,re,me)});else{D.failure(I.UNSUPPORTED_BROWSER);return}return te.then(function(re){var me=re.getAudioTracks();me&&me.length>0?D.success(re):D.failure(I.MICROPHONE_NOT_SHARED)},function(re){D.failure(I.MICROPHONE_NOT_SHARED)}),te},Be=function(x,D,H){Q.error("Softphone error occurred : ",x,D||"").sendInternalLogToServer(),u.core.getUpstream().sendUpstream(u.EventType.BROADCAST,{event:u.AgentEvents.SOFTPHONE_ERROR,data:new u.SoftphoneError(x,D,H)})},Ve=function(x,D){Ge("Softphone Session Failed",x,{failedReason:D})},Ge=function(x,D,H){u.publishMetric({name:x,contactId:D,data:H})},ot=function(x,D,H){Ge(x,D,[{name:"AgentConnectionId",value:H}]),Q.info("Publish multiple session error metrics",x,"contactId "+D,"agent connectionId "+H).sendInternalLogToServer()};Y.isBrowserSoftPhoneSupported=function(){return u.isOperaBrowser()&&u.getOperaBrowserVersion()>17||u.isChromeBrowser()&&u.getChromeBrowserVersion()>22?!0:!!(u.isFirefoxBrowser()&&u.getFirefoxBrowserVersion()>21)};var De=function(x){var D=p.slice();p=[],D.length>0&&x.sendSoftphoneMetrics(D,{success:function(){Q.info("sendSoftphoneMetrics success"+JSON.stringify(D)).sendInternalLogToServer()},failure:function(te){Q.error("sendSoftphoneMetrics failed.").withObject(te).sendInternalLogToServer()}})},Re=function(x,D,H,te){D.streamStats=[F(H,f),F(te,a)];var re={callStartTime:D.sessionStartTime,callEndTime:D.sessionEndTime,gumTimeMillis:D.gumTimeMillis,initializationTimeMillis:D.initializationTimeMillis,iceCollectionTimeMillis:D.iceCollectionTimeMillis,signallingConnectTimeMillis:D.signallingConnectTimeMillis,handshakingTimeMillis:D.handshakingTimeMillis,preTalkingTimeMillis:D.preTalkingTimeMillis,talkingTimeMillis:D.talkingTimeMillis,cleanupTimeMillis:D.cleanupTimeMillis,iceCollectionFailure:D.iceCollectionFailure,signallingConnectionFailure:D.signallingConnectionFailure,handshakingFailure:D.handshakingFailure,gumOtherFailure:D.gumOtherFailure,gumTimeoutFailure:D.gumTimeoutFailure,createOfferFailure:D.createOfferFailure,setLocalDescriptionFailure:D.setLocalDescriptionFailure,userBusyFailure:D.userBusyFailure,invalidRemoteSDPFailure:D.invalidRemoteSDPFailure,noRemoteIceCandidateFailure:D.noRemoteIceCandidateFailure,setRemoteDescriptionFailure:D.setRemoteDescriptionFailure,softphoneStreamStatistics:D.streamStats};x.sendSoftphoneReport(re,{success:function(){Q.info("sendSoftphoneReport success"+JSON.stringify(re)).sendInternalLogToServer()},failure:function(Ke){Q.error("sendSoftphoneReport failed.").withObject(Ke).sendInternalLogToServer()}});var me={AUDIO_INPUT:{packetsCount:l.map(function(je){return je.packetsCount}),packetsLost:l.map(function(je){return je.packetsLost}),audioLevel:l.map(function(je){return je.audioLevel}),jitterBufferMillis:l.map(function(je){return je.jitterBufferMillis})},AUDIO_OUTPUT:{packetsCount:s.map(function(je){return je.packetsCount}),packetsLost:s.map(function(je){return je.packetsLost}),audioLevel:s.map(function(je){return je.audioLevel}),jitterBufferMillis:s.map(function(je){return je.jitterBufferMillis}),roundTripTimeMillis:s.map(function(je){return je.roundTripTimeMillis})}},Ee=ue(ue({},re),{},{softphoneStreamPerSecondStatistics:me,iceConnectionsLost:D.iceConnectionsLost,iceConnectionsFailed:D.iceConnectionsFailed||null,peerConnectionFailed:D.peerConnectionFailed||null,rtcJsVersion:D.rtcJsVersion||null,consecutiveNoAudioInputPackets:y,consecutiveLowInputAudioLevel:h,consecutiveNoAudioOutputPackets:b,consecutiveLowOutputAudioLevel:A,audioInputConnectedDurationSeconds:r,ccpMediaReadyLatencyMillis:w,contactSubtype:x.getContactSubtype(),earlyGumEnabled:O,earlyGumWorked:R,vdiPlatform:z||null,streamJsVersion:u.version});u.publishSoftphoneReport({contactId:x.getContactId(),ccpVersion:L.ccpVersion,report:Ee}),Q.info("sent TelemetryCallReport "+JSON.stringify(Ee)).sendInternalLogToServer()},Ue=function(x){ee=window.setInterval(function(){x.getUserAudioStats().then(function(D){var H=i;i=D;var te=Me(i,H,f);p.push(te),$(te)},function(D){Q.debug("Failed to get user audio stats.",D).sendInternalLogToServer()}),x.getRemoteAudioStats().then(function(D){var H=T;T=D;var te=Me(T,H,a);p.push(te),$(te)},function(D){Q.debug("Failed to get remote audio stats.",D).sendInternalLogToServer()})},1e3)},qe=function(x){oe=window.setInterval(function(){De(x)},v)},Ye=function(){i=null,T=null,p=[],l=[],s=[],ee=null,oe=null,y=0,h=0,b=0,A=0,r=0},Me=function(x,D,H){if(D&&x){var te=x.packetsLost>D.packetsLost?x.packetsLost-D.packetsLost:0,re=x.packetsCount>D.packetsCount?x.packetsCount-D.packetsCount:0;return k(re,H),U(x.audioLevel,H),new pe(x.timestamp,te,re,H,x.audioLevel,x.jbMilliseconds,x.rttMilliseconds)}else return new pe(x.timestamp,x.packetsLost,x.packetsCount,H,x.audioLevel,x.jbMilliseconds,x.rttMilliseconds)},$=function(x){if(x.softphoneStreamType===f){for(;l.length>=c;)l.shift();l.push(x)}else if(x.softphoneStreamType===a){for(;s.length>=c;)s.shift();s.push(x)}},k=function(x,D){D===f?(r++,x<=0?y++:y=0):D===a&&(x<=0?b++:b=0)},U=function(x,D){D===f?x!==null&&x<=S?h++:h=0:D===a&&(x!==null&&x<=S?A++:A=0)},ne=function(x){return x!==null&&window.clearInterval(x),null},de=function(x,D){ee=ne(ee),oe=ne(oe),Re(x,D,F(i,f),F(T,a)),De(x)},pe=function(x,D,H,te,re,me,Ee){this.softphoneStreamType=te,this.timestamp=x,this.packetsLost=D,this.packetsCount=H,this.audioLevel=re,this.jitterBufferMillis=me,this.roundTripTimeMillis=Ee},F=function(x,D){return x=x||{},new pe(x.timestamp,x.packetsLost,x.packetsCount,D,x.audioLevel)},j=function(x){this._originalLogger=x;var D=this;this._tee=function(H,te){return function(){var re=Array.prototype.slice.call(arguments[0]),me="";return re.forEach(function(){me=me+" %s"}),te.apply(D._originalLogger,[u.LogComponent.SOFTPHONE,me].concat(re))}}};j.prototype.debug=function(){return this._tee(1,this._originalLogger.debug)(arguments)},j.prototype.info=function(){return this._tee(2,this._originalLogger.info)(arguments)},j.prototype.log=function(){return this._tee(3,this._originalLogger.log)(arguments)},j.prototype.warn=function(){return this._tee(4,this._originalLogger.warn)(arguments)},j.prototype.error=function(){return this._tee(5,this._originalLogger.error)(arguments)},u.SoftphoneManager=Y})()},344:()=>{/*! @license sprintf.js | Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro> | 3 clause BSD license */(function(){var ae=this||globalThis,ie=function(){return ie.cache.hasOwnProperty(arguments[0])||(ie.cache[arguments[0]]=ie.parse(arguments[0])),ie.format.call(null,ie.cache[arguments[0]],arguments)};ie.format=function(N,L){var u=1,E=N.length,C="",v,m=[],f,a,d,p,c,l;for(f=0;f<E;f++)if(C=Oe(N[f]),C==="string")m.push(N[f]);else if(C==="array"){if(d=N[f],d[2])for(v=L[u],a=0;a<d[2].length;a++){if(!v.hasOwnProperty(d[2][a]))throw ie('[sprintf] property "%s" does not exist',d[2][a]);v=v[d[2][a]]}else d[1]?v=L[d[1]]:v=L[u++];if(/[^s]/.test(d[8])&&Oe(v)!="number")throw ie("[sprintf] expecting number but found %s",Oe(v));switch(d[8]){case"b":v=v.toString(2);break;case"c":v=String.fromCharCode(v);break;case"d":v=parseInt(v,10);break;case"e":v=d[7]?v.toExponential(d[7]):v.toExponential();break;case"f":v=d[7]?parseFloat(v).toFixed(d[7]):parseFloat(v);break;case"o":v=v.toString(8);break;case"s":v=(v=String(v))&&d[7]?v.substring(0,d[7]):v;break;case"u":v=v>>>0;break;case"x":v=v.toString(16);break;case"X":v=v.toString(16).toUpperCase();break}v=/[def]/.test(d[8])&&d[3]&&v>=0?"+"+v:v,c=d[4]?d[4]=="0"?"0":d[4].charAt(1):" ",l=d[6]-String(v).length,p=d[6]?he(c,l):"",m.push(d[5]?v+p:p+v)}return m.join("")},ie.cache={},ie.parse=function(N){for(var L=N,u=[],E=[],C=0;L;){if((u=/^[^\x25]+/.exec(L))!==null)E.push(u[0]);else if((u=/^\x25{2}/.exec(L))!==null)E.push("%");else if((u=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(L))!==null){if(u[2]){C|=1;var v=[],m=u[2],f=[];if((f=/^([a-z_][a-z_\d]*)/i.exec(m))!==null)for(v.push(f[1]);(m=m.substring(f[0].length))!=="";)if((f=/^\.([a-z_][a-z_\d]*)/i.exec(m))!==null)v.push(f[1]);else if((f=/^\[(\d+)\]/.exec(m))!==null)v.push(f[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";u[2]=v}else C|=2;if(C===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";E.push(u)}else throw"[sprintf] huh?";L=L.substring(u[0].length)}return E};var ue=function(L,u,E){return E=u.slice(0),E.splice(0,0,L),ie.apply(null,E)};function Oe(N){return Object.prototype.toString.call(N).slice(8,-1).toLowerCase()}function he(N,L){for(var u=[];L>0;u[--L]=N);return u.join("")}ae.sprintf=ie,ae.vsprintf=ue})()},431:()=>{function ae(f){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ae(f)}function ie(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function ue(f,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,he(p.key),p)}}function Oe(f,a,d){return a&&ue(f.prototype,a),Object.defineProperty(f,"prototype",{writable:!1}),f}function he(f){var a=N(f,"string");return ae(a)=="symbol"?a:a+""}function N(f,a){if(ae(f)!="object"||!f)return f;var d=f[Symbol.toPrimitive];if(d!==void 0){var p=d.call(f,a);if(ae(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}function L(f){return v(f)||C(f)||E(f)||u()}function u(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(f,a){if(f){if(typeof f=="string")return m(f,a);var d={}.toString.call(f).slice(8,-1);return d==="Object"&&f.constructor&&(d=f.constructor.name),d==="Map"||d==="Set"?Array.from(f):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?m(f,a):void 0}}function C(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function v(f){if(Array.isArray(f))return m(f)}function m(f,a){(a==null||a>f.length)&&(a=f.length);for(var d=0,p=Array(a);d<a;d++)p[d]=f[d];return p}(function(){var f=this||globalThis,a=f.connect||{};f.connect=a,f.lily=a;var d=function(){};d.prototype.send=function(h){throw new a.NotImplementedError},d.prototype.onMessage=function(h){throw new a.NotImplementedError};var p=function(){d.call(this)};p.prototype=Object.create(d.prototype),p.prototype.constructor=p,p.prototype.onMessage=function(h){},p.prototype.send=function(h){};var c=function(b,A){d.call(this),this.window=b,this.domain=A||"*"};c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.prototype.send=function(h){this.window.postMessage(h,this.domain)},c.prototype.onMessage=function(h){this.window.addEventListener("message",h)};var l=function(b,A,r){d.call(this),this.input=b,this.output=A,this.domain=r||"*"};l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.prototype.send=function(h){this.output.postMessage(h,this.domain)},l.prototype.onMessage=function(h){var b=this;this.input.addEventListener("message",function(A){A.source===b.output&&h(A)})};var s=function(b){d.call(this),this.port=b,this.id=a.randomId()};s.prototype=Object.create(d.prototype),s.prototype.constructor=s,s.prototype.send=function(h){this.port.postMessage(h)},s.prototype.onMessage=function(h){this.port.addEventListener("message",h)},s.prototype.getId=function(){return this.id};var i=function(b){d.call(this),this.streamMap=b?a.index(b,function(A){return A.getId()}):{},this.messageListeners=[]};i.prototype=Object.create(d.prototype),i.prototype.constructor=i,i.prototype.send=function(h){this.getStreams().forEach(function(b){try{b.send(h)}catch{}})},i.prototype.onMessage=function(h){this.messageListeners.push(h),this.getStreams().forEach(function(b){b.onMessage(h)})},i.prototype.addStream=function(h){this.streamMap[h.getId()]=h,this.messageListeners.forEach(function(b){h.onMessage(b)})},i.prototype.removeStream=function(h){delete this.streamMap[h.getId()]},i.prototype.getStreams=function(h){return a.values(this.streamMap)},i.prototype.getStreamForPort=function(h){return a.find(this.getStreams(),function(b){return b.port===h})};var T=function(b,A,r){this.name=b,this.upstream=A||new p,this.downstream=r||new p,this.downstreamBus=new a.EventBus,this.upstreamBus=new a.EventBus,this.upstream.onMessage(a.hitch(this,this._dispatchEvent,this.upstreamBus)),this.downstream.onMessage(a.hitch(this,this._dispatchEvent,this.downstreamBus)),this.active=!0,this.allowedEvents=[].concat(L(Object.entries(a.GlobalResiliencyEvents).map(function(w){return w[1]})),[a.EventType.CONFIGURE,a.EventType.SYNCHRONIZE,a.EventType.ACKNOWLEDGE,a.EventType.LOG,a.EventType.SERVER_BOUND_INTERNAL_LOG,a.EventType.DOWNLOAD_LOG_FROM_CCP])};T.prototype.onUpstream=function(h,b){return a.assertNotNull(h,"eventName"),a.assertNotNull(b,"f"),a.assertTrue(a.isFunction(b),"f must be a function"),this.upstreamBus.subscribe(h,b)},T.prototype.onAllUpstream=function(h){return a.assertNotNull(h,"f"),a.assertTrue(a.isFunction(h),"f must be a function"),this.upstreamBus.subscribeAll(h)},T.prototype.onDownstream=function(h,b){return a.assertNotNull(h,"eventName"),a.assertNotNull(b,"f"),a.assertTrue(a.isFunction(b),"f must be a function"),this.downstreamBus.subscribe(h,b)},T.prototype.onAllDownstream=function(h){return a.assertNotNull(h,"f"),a.assertTrue(a.isFunction(h),"f must be a function"),this.downstreamBus.subscribeAll(h)},T.prototype.sendUpstream=function(h,b){a.assertNotNull(h,"eventName"),this.upstream.send({event:h,data:b})},T.prototype.sendDownstream=function(h,b){a.assertNotNull(h,"eventName"),this.downstream.send({event:h,data:b})},T.prototype._dispatchEvent=function(h,b){var A=b.data;A.event&&h.trigger(A.event,A.data)},T.prototype.passUpstream=function(){var h=this;return function(b,A){if(!h.active&&!h.allowedEvents.includes(A)){a.getLog().debug("[GR] Conduit ".concat(h.name," has blocked event ").concat(A," from going upstream.")).sendInternalLogToServer();return}h.upstream.send({event:A,data:b})}},T.prototype.passDownstream=function(){var h=this;return function(b,A){if(!h.active&&!h.allowedEvents.includes(A)){a.getLog().debug("[GR] Conduit ".concat(h.name," has blocked event ").concat(A," from going downstream.")).sendInternalLogToServer();return}h.downstream.send({event:A,data:b})}},T.prototype.shutdown=function(){this.upstreamBus.unsubscribeAll(),this.downstreamBus.unsubscribeAll()},T.prototype.setActive=function(){a.getLog().info("[GR] Setting CCP conduit as active"),this.active=!0},T.prototype.setInactive=function(){a.getLog().info("[GR] Setting CCP conduit as inactive"),this.active=!1};var S=function(b,A,r,w){T.call(this,b,new l(A,r.contentWindow,w||"*"),null)};S.prototype=Object.create(T.prototype),S.prototype.constructor=S;var y=function(){function h(b,A,r){ie(this,h);var w=new URL(r).origin;this.activeRegionUrl=w,this.conduits=A.map(function(O){var R=new S(O.src,b,O);R.iframe=O;var z=new URL(O.src),ee=z.origin;return R.name=ee,R}),this.setActiveConduit(w)}return Oe(h,[{key:"onUpstream",value:function(A,r){var w=this.conduits.map(function(O){return O.onUpstream(A,r)});return{unsubscribe:function(){return w.forEach(function(R){return R.unsubscribe()})}}}},{key:"onAllUpstream",value:function(A){var r=this.conduits.map(function(w){return w.onAllUpstream(A)});return{unsubscribe:function(){return r.forEach(function(O){return O.unsubscribe()})}}}},{key:"onDownstream",value:function(A,r){var w=this.conduits.map(function(O){return O.onDownstream(A,r)});return{unsubscribe:function(){return w.forEach(function(R){return R.unsubscribe()})}}}},{key:"onAllDownstream",value:function(A){var r=this.conduits.map(function(w){return w.onAllDownstream(A)});return{unsubscribe:function(){return r.forEach(function(O){return O.unsubscribe()})}}}},{key:"sendUpstream",value:function(A,r){this.conduits.forEach(function(w){w.sendUpstream(A,r)})}},{key:"sendDownstream",value:function(A,r){this.conduits.forEach(function(w){w.sendDownstream(A,r)})}},{key:"relayUpstream",value:function(A){var r=this;this.conduits.forEach(function(w){w.onUpstream(A,function(O){var R=r.getOtherConduit(w);R.sendUpstream(A,O),a.getLog().info("Relayed event ".concat(A," from ").concat(w.name," to ").concat(R.name," shared worker")).withObject({data:O}).sendInternalLogToServer()})})}},{key:"getAllConduits",value:function(){return this.conduits}},{key:"setActiveConduit",value:function(A){var r=this,w=this.conduits.find(function(O){return O.name===A});if(!w){a.getLog().error("[GR] No conduit found with the given ccpUrl: ".concat(A)).sendInternalLogToServer();return}this.conduits.forEach(function(O){O.name===A&&(r.activeRegionUrl=A,r.name=O.name,r.upstream=O.upstream,r.downstream=O.downstream,r.upstreamBus=O.upstreamBus,r.downstreamBus=O.downstreamBus)}),a.getLog().info("[GR] Switched to active conduit ".concat(this.getActiveConduit().name)).sendInternalLogToServer()}},{key:"getActiveConduit",value:function(){var A=this;return this.conduits.find(function(r){return r.name===A.activeRegionUrl})}},{key:"getInactiveConduit",value:function(){var A=this;return this.conduits.find(function(r){return r.name!==A.activeRegionUrl})}},{key:"getOtherConduit",value:function(A){return this.conduits.find(function(r){return A.name!==r.name})}},{key:"getConduitByRegion",value:function(A){return this.conduits.find(function(r){return r.region===A})}},{key:"getConduitByName",value:function(A){return this.conduits.find(function(r){return r.name===A})}}])}();a.Stream=d,a.NullStream=p,a.WindowStream=c,a.WindowIOStream=l,a.PortStream=s,a.StreamMultiplexer=i,a.Conduit=T,a.IFrameConduit=S,a.GRProxyIframeConduit=y})()},830:()=>{(function(){var ae=this||globalThis,ie=ae.connect||{};ae.connect=ie,ae.lily=ie;var ue=function(u,E){ie.assertNotNull(u,"fromState"),ie.assertNotNull(E,"toState"),this.fromState=u,this.toState=E};ue.prototype.getAssociations=function(L){throw ie.NotImplementedError()},ue.prototype.getFromState=function(){return this.fromState},ue.prototype.getToState=function(){return this.toState};var Oe=function(u,E,C){ie.assertNotNull(u,"fromState"),ie.assertNotNull(E,"toState"),ie.assertNotNull(C,"associations"),ue.call(this,u,E),this.associations=C};Oe.prototype=Object.create(ue.prototype),Oe.prototype.constructor=Oe,Oe.prototype.getAssociations=function(L){return this.associations};var he=function(u,E,C){ie.assertNotNull(u,"fromState"),ie.assertNotNull(E,"toState"),ie.assertNotNull(C,"closure"),ie.assertTrue(ie.isFunction(C),"closure must be a function"),ue.call(this,u,E),this.closure=C};he.prototype=Object.create(ue.prototype),he.prototype.constructor=he,he.prototype.getAssociations=function(L){return this.closure(L,this.getFromState(),this.getToState())};var N=function(){this.fromMap={}};N.ANY="<<any>>",N.prototype.assoc=function(L,u,E){var C=this;if(!L)throw new Error("fromStateObj is not defined.");if(!u)throw new Error("toStateObj is not defined.");if(!E)throw new Error("assocObj is not defined.");return L instanceof Array?L.forEach(function(v){C.assoc(v,u,E)}):u instanceof Array?u.forEach(function(v){C.assoc(L,v,E)}):typeof E=="function"?this._addAssociation(new he(L,u,E)):E instanceof Array?this._addAssociation(new Oe(L,u,E)):this._addAssociation(new Oe(L,u,[E])),this},N.prototype.getAssociations=function(L,u,E){ie.assertNotNull(u,"fromState"),ie.assertNotNull(E,"toState");var C=[],v=this.fromMap[N.ANY]||{},m=this.fromMap[u]||{};return C=C.concat(this._getAssociationsFromMap(v,L,u,E)),C=C.concat(this._getAssociationsFromMap(m,L,u,E)),C},N.prototype._addAssociation=function(L){var u=this.fromMap[L.getFromState()];u||(u=this.fromMap[L.getFromState()]={});var E=u[L.getToState()];E||(E=u[L.getToState()]=[]),E.push(L)},N.prototype._getAssociationsFromMap=function(L,u,E,C){var v=(L[N.ANY]||[]).concat(L[C]||[]);return v.reduce(function(m,f){return m.concat(f.getAssociations(u))},[])},ie.EventGraph=N})()},60:()=>{function ae(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ae=function(){return v};var C,v={},m=Object.prototype,f=m.hasOwnProperty,a=Object.defineProperty||function(K,q,X){K[q]=X.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",c=d.asyncIterator||"@@asyncIterator",l=d.toStringTag||"@@toStringTag";function s(K,q,X){return Object.defineProperty(K,q,{value:X,enumerable:!0,configurable:!0,writable:!0}),K[q]}try{s({},"")}catch{s=function(X,se,le){return X[se]=le}}function i(K,q,X,se){var le=q&&q.prototype instanceof r?q:r,ve=Object.create(le.prototype),_e=new B(se||[]);return a(ve,"_invoke",{value:W(K,X,_e)}),ve}function T(K,q,X){try{return{type:"normal",arg:K.call(q,X)}}catch(se){return{type:"throw",arg:se}}}v.wrap=i;var S="suspendedStart",y="suspendedYield",h="executing",b="completed",A={};function r(){}function w(){}function O(){}var R={};s(R,p,function(){return this});var z=Object.getPrototypeOf,ee=z&&z(z(Y([])));ee&&ee!==m&&f.call(ee,p)&&(R=ee);var oe=O.prototype=r.prototype=Object.create(R);function Q(K){["next","throw","return"].forEach(function(q){s(K,q,function(X){return this._invoke(q,X)})})}function I(K,q){function X(le,ve,_e,Ie){var He=T(K[le],K,ve);if(He.type!=="throw"){var be=He.arg,Ae=be.value;return Ae&&E(Ae)=="object"&&f.call(Ae,"__await")?q.resolve(Ae.__await).then(function(we){X("next",we,_e,Ie)},function(we){X("throw",we,_e,Ie)}):q.resolve(Ae).then(function(we){be.value=we,_e(be)},function(we){return X("throw",we,_e,Ie)})}Ie(He.arg)}var se;a(this,"_invoke",{value:function(ve,_e){function Ie(){return new q(function(He,be){X(ve,_e,He,be)})}return se=se?se.then(Ie,Ie):Ie()}})}function W(K,q,X){var se=S;return function(le,ve){if(se===h)throw Error("Generator is already running");if(se===b){if(le==="throw")throw ve;return{value:C,done:!0}}for(X.method=le,X.arg=ve;;){var _e=X.delegate;if(_e){var Ie=Z(_e,X);if(Ie){if(Ie===A)continue;return Ie}}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(se===S)throw se=b,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);se=h;var He=T(K,q,X);if(He.type==="normal"){if(se=X.done?b:y,He.arg===A)continue;return{value:He.arg,done:X.done}}He.type==="throw"&&(se=b,X.method="throw",X.arg=He.arg)}}}function Z(K,q){var X=q.method,se=K.iterator[X];if(se===C)return q.delegate=null,X==="throw"&&K.iterator.return&&(q.method="return",q.arg=C,Z(K,q),q.method==="throw")||X!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+X+"' method")),A;var le=T(se,K.iterator,q.arg);if(le.type==="throw")return q.method="throw",q.arg=le.arg,q.delegate=null,A;var ve=le.arg;return ve?ve.done?(q[K.resultName]=ve.value,q.next=K.nextLoc,q.method!=="return"&&(q.method="next",q.arg=C),q.delegate=null,A):ve:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,A)}function V(K){var q={tryLoc:K[0]};1 in K&&(q.catchLoc=K[1]),2 in K&&(q.finallyLoc=K[2],q.afterLoc=K[3]),this.tryEntries.push(q)}function M(K){var q=K.completion||{};q.type="normal",delete q.arg,K.completion=q}function B(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(V,this),this.reset(!0)}function Y(K){if(K||K===""){var q=K[p];if(q)return q.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var X=-1,se=function le(){for(;++X<K.length;)if(f.call(K,X))return le.value=K[X],le.done=!1,le;return le.value=C,le.done=!0,le};return se.next=se}}throw new TypeError(E(K)+" is not iterable")}return w.prototype=O,a(oe,"constructor",{value:O,configurable:!0}),a(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,l,"GeneratorFunction"),v.isGeneratorFunction=function(K){var q=typeof K=="function"&&K.constructor;return!!q&&(q===w||(q.displayName||q.name)==="GeneratorFunction")},v.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,O):(K.__proto__=O,s(K,l,"GeneratorFunction")),K.prototype=Object.create(oe),K},v.awrap=function(K){return{__await:K}},Q(I.prototype),s(I.prototype,c,function(){return this}),v.AsyncIterator=I,v.async=function(K,q,X,se,le){le===void 0&&(le=Promise);var ve=new I(i(K,q,X,se),le);return v.isGeneratorFunction(q)?ve:ve.next().then(function(_e){return _e.done?_e.value:ve.next()})},Q(oe),s(oe,l,"Generator"),s(oe,p,function(){return this}),s(oe,"toString",function(){return"[object Generator]"}),v.keys=function(K){var q=Object(K),X=[];for(var se in q)X.push(se);return X.reverse(),function le(){for(;X.length;){var ve=X.pop();if(ve in q)return le.value=ve,le.done=!1,le}return le.done=!0,le}},v.values=Y,B.prototype={constructor:B,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,this.tryEntries.forEach(M),!q)for(var X in this)X.charAt(0)==="t"&&f.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=C)},stop:function(){this.done=!0;var q=this.tryEntries[0].completion;if(q.type==="throw")throw q.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var X=this;function se(be,Ae){return _e.type="throw",_e.arg=q,X.next=be,Ae&&(X.method="next",X.arg=C),!!Ae}for(var le=this.tryEntries.length-1;le>=0;--le){var ve=this.tryEntries[le],_e=ve.completion;if(ve.tryLoc==="root")return se("end");if(ve.tryLoc<=this.prev){var Ie=f.call(ve,"catchLoc"),He=f.call(ve,"finallyLoc");if(Ie&&He){if(this.prev<ve.catchLoc)return se(ve.catchLoc,!0);if(this.prev<ve.finallyLoc)return se(ve.finallyLoc)}else if(Ie){if(this.prev<ve.catchLoc)return se(ve.catchLoc,!0)}else{if(!He)throw Error("try statement without catch or finally");if(this.prev<ve.finallyLoc)return se(ve.finallyLoc)}}}},abrupt:function(q,X){for(var se=this.tryEntries.length-1;se>=0;--se){var le=this.tryEntries[se];if(le.tryLoc<=this.prev&&f.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var ve=le;break}}ve&&(q==="break"||q==="continue")&&ve.tryLoc<=X&&X<=ve.finallyLoc&&(ve=null);var _e=ve?ve.completion:{};return _e.type=q,_e.arg=X,ve?(this.method="next",this.next=ve.finallyLoc,A):this.complete(_e)},complete:function(q,X){if(q.type==="throw")throw q.arg;return q.type==="break"||q.type==="continue"?this.next=q.arg:q.type==="return"?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):q.type==="normal"&&X&&(this.next=X),A},finish:function(q){for(var X=this.tryEntries.length-1;X>=0;--X){var se=this.tryEntries[X];if(se.finallyLoc===q)return this.complete(se.completion,se.afterLoc),M(se),A}},catch:function(q){for(var X=this.tryEntries.length-1;X>=0;--X){var se=this.tryEntries[X];if(se.tryLoc===q){var le=se.completion;if(le.type==="throw"){var ve=le.arg;M(se)}return ve}}throw Error("illegal catch attempt")},delegateYield:function(q,X,se){return this.delegate={iterator:Y(q),resultName:X,nextLoc:se},this.method==="next"&&(this.arg=C),A}},v}function ie(C,v){var m=Object.keys(C);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(C);v&&(f=f.filter(function(a){return Object.getOwnPropertyDescriptor(C,a).enumerable})),m.push.apply(m,f)}return m}function ue(C){for(var v=1;v<arguments.length;v++){var m=arguments[v]!=null?arguments[v]:{};v%2?ie(Object(m),!0).forEach(function(f){Oe(C,f,m[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(m)):ie(Object(m)).forEach(function(f){Object.defineProperty(C,f,Object.getOwnPropertyDescriptor(m,f))})}return C}function Oe(C,v,m){return(v=he(v))in C?Object.defineProperty(C,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):C[v]=m,C}function he(C){var v=N(C,"string");return E(v)=="symbol"?v:v+""}function N(C,v){if(E(C)!="object"||!C)return C;var m=C[Symbol.toPrimitive];if(m!==void 0){var f=m.call(C,v);if(E(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(C)}function L(C,v,m,f,a,d,p){try{var c=C[d](p),l=c.value}catch(s){return void m(s)}c.done?v(l):Promise.resolve(l).then(f,a)}function u(C){return function(){var v=this,m=arguments;return new Promise(function(f,a){var d=C.apply(v,m);function p(l){L(d,f,a,p,c,"next",l)}function c(l){L(d,f,a,p,c,"throw",l)}p(void 0)})}}function E(C){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},E(C)}(function(){var C=this||globalThis,v=C.connect||{};C.connect=v,C.lily=v;var m=navigator.userAgent,f=578,a=433,d=["bubbles","cancelBubble","cancelable","composed","data","defaultPrevented","eventPhase","isTrusted","lastEventId","origin","returnValue","timeStamp","type"];v.sprintf=C.sprintf,v.vsprintf=C.vsprintf,delete C.sprintf,delete C.vsprintf,v.HTTP_STATUS_CODES={SUCCESS:200,UNAUTHORIZED:401,ACCESS_DENIED:403,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},v.TRANSPORT_TYPES={CHAT_TOKEN:"chat_token",WEB_SOCKET:"web_socket",AGENT_DISCOVERY:"agent_discovery",WEB_RTC:"web_rtc"},v.hitch=function(){var c=Array.prototype.slice.call(arguments),l=c.shift(),s=c.shift();return v.assertNotNull(l,"scope"),v.assertNotNull(s,"method"),v.assertTrue(v.isFunction(s),"method must be a function"),function(){var i=Array.prototype.slice.call(arguments);return s.apply(l,c.concat(i))}},v.isFunction=function(c){return!!(c&&c.constructor&&c.call&&c.apply)},v.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},v.keys=function(c){var l=[];v.assertNotNull(c,"map");for(var s in c)l.push(s);return l},v.values=function(c){var l=[];v.assertNotNull(c,"map");for(var s in c)l.push(c[s]);return l},v.entries=function(c){var l=[];for(var s in c)l.push({key:s,value:c[s]});return l},v.merge=function(){var c=Array.prototype.slice.call(arguments,0),l={};return c.forEach(function(s){v.entries(s).forEach(function(i){l[i.key]=i.value})}),l},v.now=function(){return new Date().getTime()},v.find=function(c,l){for(var s=0;s<c.length;s++)if(l(c[s]))return c[s];return null},v.contains=function(c,l){return c instanceof Array?v.find(c,function(s){return s===l})!=null:l in c},v.containsValue=function(c,l){return c instanceof Array?v.find(c,function(s){return s===l})!=null:v.find(v.values(c),function(s){return s===l})!=null},v.randomId=function(){return v.sprintf("%s-%s",v.now(),Math.random().toString(36).slice(2))},v.makeEnum=function(c){var l={};return c.forEach(function(s){var i=s.replace(/\.?([a-z]+)_?/g,function(T,S){return S.toUpperCase()+"_"}).replace(/_$/,"");l[i]=s}),l},v.makeNamespacedEnum=function(c,l){var s=v.makeEnum(l);return v.keys(s).forEach(function(i){s[i]=v.sprintf("%s::%s",c,s[i])}),s},v.makeGenericNamespacedEnum=function(c,l,s){var i=v.makeEnum(l);return v.keys(i).forEach(function(T){i[T]=v.sprintf("%s"+s+"%s",c,i[T])}),i},v.isChromeBrowser=function(){return m.indexOf("Chrome")!==-1},v.isFirefoxBrowser=function(){return m.indexOf("Firefox")!==-1},v.isOperaBrowser=function(){return m.indexOf("Opera")!==-1},v.isEdgeBrowser=function(){return m.indexOf("Edg")!==-1},v.getChromeBrowserVersion=function(){var c=m.substring(m.indexOf("Chrome")+7);return c?parseFloat(c):-1},v.getFirefoxBrowserVersion=function(){var c=m.substring(m.indexOf("Firefox")+8);return c?parseFloat(c):-1},v.isValidLocale=function(c){var l=[{id:"en_US",label:"English"},{id:"de_DE",label:"Deutsch"},{id:"es_ES",label:"Espaol"},{id:"fr_FR",label:"Franais"},{id:"ja_JP",label:""},{id:"it_IT",label:"Italiano"},{id:"ko_KR",label:""},{id:"pt_BR",label:"Portugus"},{id:"zh_CN",label:"()"},{id:"zh_TW",label:"()"}];return l.map(function(s){return s.id}).includes(c)},v.getOperaBrowserVersion=function(){var c=m.indexOf("Opera"),l=m.indexOf("Version")!==-1?m.substring(c+8):m.substring(c+6);return l?parseFloat(l):-1},v.index=function(c,l){var s={};return c.forEach(function(i){s[l(i)]=i}),s},v.set=function(c){var l={};return c.forEach(function(s){l[s]=1}),l},v.relativeComplement=function(c,l){var s={};return v.keys(l).forEach(function(i){i in c||(s[i]=l[i])}),s},v.assertTrue=function(c,l){if(!c)throw new v.ValueError(l)},v.assertNotNull=function(c,l){return v.assertTrue(c!=null&&E(c)!==void 0,v.sprintf("%s must be provided",l||"A value")),c},v.deepcopy=function(c){return JSON.parse(JSON.stringify(c))},v.deepcopyCrossOriginEvent=function(c){var l={},s=d;return s.forEach(function(i){try{l[i]=c[i]}catch{v.getLog().info("deepcopyCrossOriginEvent failed on key: ",i).sendInternalLogToServer()}}),v.deepcopy(l)},v.getBaseUrl=function(){var c=C.location;return v.sprintf("%s//%s:%s",c.protocol,c.hostname,c.port)},v.getUrlWithProtocol=function(c){var l=C.location.protocol;return c.substr(0,l.length)!==l?v.sprintf("%s//%s",l,c):c},v.isFramed=function(){try{return window.self!==window.top}catch{return!0}},v.hasOtherConnectedCCPs=function(){return v.numberOfConnectedCCPs>1},v.fetch=function(c,l,s,i){return i=i||5,s=s||1e3,l=l||{},new Promise(function(T,S){function y(h){fetch(c,l).then(function(b){b.status===v.HTTP_STATUS_CODES.SUCCESS?b.json().then(function(A){return T(A)}).catch(function(){return T({})}):h!==1&&(b.status>=v.HTTP_STATUS_CODES.INTERNAL_SERVER_ERROR||b.status===v.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)?setTimeout(function(){y(--h)},s):S(b)}).catch(function(b){S(b)})}y(i)})},v.fetchWithTimeout=function(){var c=u(ae().mark(function l(s,i,T,S,y){var h,b,A;return ae().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(T=T||{},i){w.next=3;break}return w.abrupt("return",v.fetch(s,T,S,y));case 3:return h=new AbortController,b=setTimeout(function(){return h.abort()},i),w.next=7,v.fetch(s,ue(ue({},T),{},{signal:h.signal}),S,y);case 7:return A=w.sent,clearTimeout(b),w.abrupt("return",A);case 10:case"end":return w.stop()}},l)}));return function(l,s,i,T,S){return c.apply(this,arguments)}}(),v.backoff=function(c,l,s,i){v.assertTrue(v.isFunction(c),"func must be a Function");var T=this,S=2;c({success:function(h){i&&i.success&&i.success(h)},failure:function(h,b){if(s>0){var A=l*2*Math.random();C.setTimeout(function(){T.backoff(c,A*S,--s,i)},A)}else i&&i.failure&&i.failure(h,b)}})},v.publishMetric=function(c){v.core.getUpstream().sendUpstream(v.EventType.BROADCAST,{event:v.EventType.CLIENT_METRIC,data:c})},v.publishSoftphoneStats=function(c){v.core.getUpstream().sendUpstream(v.EventType.BROADCAST,{event:v.EventType.SOFTPHONE_STATS,data:c})},v.publishSoftphoneReport=function(c){v.core.getUpstream().sendUpstream(v.EventType.BROADCAST,{event:v.EventType.SOFTPHONE_REPORT,data:c})},v.publishClickStreamData=function(c){v.core.getUpstream().sendUpstream(v.EventType.BROADCAST,{event:v.EventType.CLICK_STREAM_DATA,data:c})},v.publishClientSideLogs=function(c){var l=v.core.getEventBus();l.trigger(v.EventType.CLIENT_SIDE_LOGS,c)},v.addNamespaceToLogs=function(c){var l=["log","error","warn","info","debug"];l.forEach(function(s){var i=window.console[s];window.console[s]=function(){var T=Array.from(arguments);T.unshift("[".concat(c,"]")),i.apply(window.console,T)}})},v.PopupManager=function(){},v.PopupManager.prototype.open=function(c,l,s){var i=null;if(s){var T=s.height||f,S=s.width||a,y=s.top||0,h=s.left||0;i=window.open("",l,"width="+S+", height="+T+", top="+y+", left="+h),i.location!==c&&(i=window.open(c,l,"width="+S+", height="+T+", top="+y+", left="+h))}else i=window.open("",l),i.location!==c&&(i=window.open(c,l));return i},v.PopupManager.prototype.clear=function(c){var l=this._getLocalStorageKey(c);C.localStorage.removeItem(l)},v.PopupManager.prototype._getLastOpenedTimestamp=function(c){var l=this._getLocalStorageKey(c),s=C.localStorage.getItem(l);return s?parseInt(s,10):0},v.PopupManager.prototype._setLastOpenedTimestamp=function(c,l){var s=this._getLocalStorageKey(c);C.localStorage.setItem(s,""+l)},v.PopupManager.prototype._getLocalStorageKey=function(c){return"connectPopupManager::"+c};var p=v.makeEnum(["granted","denied","default"]);v.NotificationManager=function(){this.queue=[],this.permission=p.DEFAULT},v.NotificationManager.prototype.requestPermission=function(){var c=this;"Notification"in C?C.Notification.permission===p.DENIED?(v.getLog().warn("The user has requested to not receive notifications.").sendInternalLogToServer(),this.permission=p.DENIED):this.permission!==p.GRANTED&&C.Notification.requestPermission().then(function(l){c.permission=l,l===p.GRANTED?c._showQueued():c.queue=[]}):(v.getLog().warn("This browser doesn't support notifications.").sendInternalLogToServer(),this.permission=p.DENIED)},v.NotificationManager.prototype.show=function(c,l){if(this.permission===p.GRANTED)return this._showImpl({title:c,options:l});if(this.permission===p.DENIED)v.getLog().warn("Unable to show notification.").sendInternalLogToServer().withObject({title:c,options:l});else{var s={title:c,options:l};v.getLog().warn("Deferring notification until user decides to allow or deny.").withObject(s).sendInternalLogToServer(),this.queue.push(s)}},v.NotificationManager.prototype._showQueued=function(){var c=this,l=this.queue.map(function(s){return c._showImpl(s)});return this.queue=[],l},v.NotificationManager.prototype._showImpl=function(c){var l=new C.Notification(c.title,c.options);return c.options.clicked&&(l.onclick=function(){c.options.clicked.call(l)}),l},v.ValueError=function(){var c=Array.prototype.slice.call(arguments,0),l=c.shift(),s=new Error(v.vsprintf(l,c));return Object.setPrototypeOf(s,v.ValueError.prototype),s},Object.setPrototypeOf(v.ValueError.prototype,Error.prototype),Object.setPrototypeOf(v.ValueError,Error),v.ValueError.prototype.name="ValueError",v.NotImplementedError=function(){var c=Array.prototype.slice.call(arguments,0),l=c.shift(),s=new Error(v.vsprintf(l,c));return Object.setPrototypeOf(s,v.NotImplementedError.prototype),s},Object.setPrototypeOf(v.NotImplementedError.prototype,Error.prototype),Object.setPrototypeOf(v.NotImplementedError,Error),v.NotImplementedError.prototype.name="NotImplementedError",v.StateError=function(){var c=Array.prototype.slice.call(arguments,0),l=c.shift(),s=new Error(v.vsprintf(l,c));return Object.setPrototypeOf(s,v.StateError.prototype),s},Object.setPrototypeOf(v.StateError.prototype,Error.prototype),Object.setPrototypeOf(v.StateError,Error),v.StateError.prototype.name="StateError",v.VoiceIdError=function(c,l,s){var i={};return i.type=c,i.message=l,i.stack=Error(l).stack,i.err=s,i},v.isCCP=function(){if(!v.core.upstream)return!1;var c=v.core.getUpstream();return c.name==="ConnectSharedWorkerConduit"},v.isSharedWorker=function(){return v.worker&&!!v.worker.clientEngine},v.isCRM=function(){return v.core.upstream?v.core.getUpstream()instanceof v.IFrameConduit||v.core.getUpstream()instanceof v.GRProxyIframeConduit:!1},v.isActiveConduit=function(c){var l=v.core.getUpstream();return l instanceof v.GRProxyIframeConduit?c.name===l.activeRegionUrl:(v.getLog().debug("connect.isActiveConduit is called but there is no GR proxy conduit").sendInternalLogToServer(),!0)}})()},354:()=>{function ae(L){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ae(L)}function ie(L,u){var E=Object.keys(L);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(L);u&&(C=C.filter(function(v){return Object.getOwnPropertyDescriptor(L,v).enumerable})),E.push.apply(E,C)}return E}function ue(L){for(var u=1;u<arguments.length;u++){var E=arguments[u]!=null?arguments[u]:{};u%2?ie(Object(E),!0).forEach(function(C){Oe(L,C,E[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(E)):ie(Object(E)).forEach(function(C){Object.defineProperty(L,C,Object.getOwnPropertyDescriptor(E,C))})}return L}function Oe(L,u,E){return(u=he(u))in L?Object.defineProperty(L,u,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[u]=E,L}function he(L){var u=N(L,"string");return ae(u)=="symbol"?u:u+""}function N(L,u){if(ae(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var C=E.call(L,u);if(ae(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(L)}(function(){var L=this||globalThis,u=L.connect||{};L.connect=u,L.lily=u,u.worker={};var E=3e4,C=5e3,v=100,m=400,f=6e4,a=3e5,d=1e4,p=4,c=3e4,l=1e4,s="LADS.GetAgentFailoverConfiguration",i={createTaskContact:"createTaskContact",createOutboundContact:"createOutboundContact",createTemplatedTask:"createTemplatedTask"},T=function(){this.topicMasterMap={}};T.prototype.getMaster=function(h){return u.assertNotNull(h,"topic"),this.topicMasterMap[h]||null},T.prototype.setMaster=function(h,b){u.assertNotNull(h,"topic"),u.assertNotNull(b,"id"),this.topicMasterMap[h]=b},T.prototype.removeMaster=function(h){u.assertNotNull(h,"id");var b=this;u.entries(this.topicMasterMap).filter(function(A){return A.value===h}).forEach(function(A){delete b.topicMasterMap[A.key]})};var S=function(b){u.ClientBase.call(this),this.conduit=b};S.prototype=Object.create(u.ClientBase.prototype),S.prototype.constructor=S,S.prototype._callImpl=function(h,b,A){var r=this,w=new Date().getTime();u.containsValue(u.AgentAppClientMethods,h)?u.core.getAgentAppClient()._callImpl(h,b,{success:function(R){r._recordAPILatency(h,w,b),A.success(R)},failure:function(R){r._recordAPILatency(h,w,b,R),A.failure(R)}}):u.containsValue(u.TaskTemplatesClientMethods,h)?u.core.getTaskTemplatesClient()._callImpl(h,b,{success:function(R){r._recordAPILatency(h,w,b),A.success(R)},failure:function(R){r._recordAPILatency(h,w,b,R),A.failure(R)}}):u.core.getClient()._callImpl(h,b,{success:function(R,z){r._recordAPILatency(h,w,b),A.success(R,z)},failure:function(R,z){r._recordAPILatency(h,w,b,R),A.failure(R,z)},authFailure:function(R,z){r._recordAPILatency(h,w,b,R),A.authFailure()},accessDenied:function(R,z){r._recordAPILatency(h,w,b,R),A.accessDenied&&A.accessDenied()}})},S.prototype._recordAPILatency=function(h,b,A,r){var w=new Date().getTime(),O=w-b;this._sendAPIMetrics(h,O,A,r)},S.prototype._sendAPIMetrics=function(h,b,A,r){var w={name:h,time:b,error:r,error5xx:0},O=[{name:"Category",value:"API"}],R=r&&r.statusCode||200,z=r&&r.retryStatus||u.RetryStatus.NONE,ee=[{name:"HttpStatusCode",value:R},{name:"HttpGenericStatusCode",value:"".concat(R.toString().charAt(0),"XX")},{name:"RetryStatus",value:z}];if(R.toString().charAt(0)==="5"&&(w.error5xx=1),R.toString().charAt(0)==="5"?w.fault=1:R.toString().charAt(0)==="2"&&(w.fault=0),i[h]&&A&&A.relatedContactId){var oe={name:"".concat(h,"WithRelatedContactId"),time:w.time,error:w.error,error5xx:w.error5xx};this.conduit.sendDownstream(u.EventType.API_METRIC,ue(ue({},oe),{},{dimensions:O,optionalDimensions:ee}))}this.conduit.sendDownstream(u.EventType.API_METRIC,ue(ue({},w),{},{dimensions:O,optionalDimensions:ee}))};var y=function(){var b=this;this.multiplexer=new u.StreamMultiplexer,this.conduit=new u.Conduit("AmazonConnectSharedWorker",null,this.multiplexer),this.client=new S(this.conduit),this.timeout=null,this.agent=null,this.nextToken=null,this.initData={},this.portConduitMap={},this.streamMapByTabId={},this.masterCoord=new T,this.logsBuffer=[],this.suppress=!1,this.forceOffline=!1,this.longPollingOptions={allowLongPollingShadowMode:!1,allowLongPollingWebsocketOnlyMode:!1},this.drPollingUrl=null,this.thisArn=null,this.otherArn=null,this.pendingFailover=null;var A=null;u.rootLogger=new u.DownstreamConduitLogger(this.conduit),this.conduit.onDownstream(u.EventType.SEND_LOGS,function(r){u.getLog().pushLogsDownstream(r),b.logsBuffer=b.logsBuffer.concat(r),b.logsBuffer.length>m&&b.handleSendLogsRequest(b.logsBuffer)}),this.conduit.onDownstream(u.DisasterRecoveryEvents.SUPPRESS,function(r){u.getLog().debug("[Disaster Recovery] Setting Suppress to %s",r.suppress).sendInternalLogToServer(),b.suppress=r.suppress||!1,b.suppress||(b.forceOffline=!1);var w=typeof r.shouldSendFailoverDownstream>"u"||r.shouldSendFailoverDownstream;w&&b.conduit.sendDownstream(u.DisasterRecoveryEvents.FAILOVER,{isPrimary:!b.suppress})}),this.conduit.onDownstream(u.DisasterRecoveryEvents.FORCE_OFFLINE,function(r){u.getLog().debug("[Disaster Recovery] Setting FORCE_OFFLINE to %s",r.offline).sendInternalLogToServer(),b.forceOffline||(b.pendingFailover=!1,b.conduit.sendDownstream(u.DisasterRecoveryEvents.FAILOVER,{isPrimary:!1,nextActiveArn:r.nextActiveArn})),b.forceOffline=r.offline||!1}),u.DisasterRecoveryEvents.INIT_DR_POLLING&&this.conduit.onDownstream(u.DisasterRecoveryEvents.INIT_DR_POLLING,function(r){var w=u.getLog();b.drPollingUrl?(w.debug("[Disaster Recovery] Adding new CCP to active region polling for instance ".concat(r.instanceArn)).sendInternalLogToServer(),b.pollForActiveRegion(!0,!1)):(w.info("[Disaster Recovery] Initializing active region polling for instance ".concat(r.instanceArn)).sendInternalLogToServer(),b.thisArn=r.instanceArn,b.otherArn=r.otherArn,b.getPresignedDiscoveryUrl().then(function(O){b.drPollingUrl=O,b.pollForActiveRegion(!0,!0)},function(O){w.error("[Disaster Recovery] Failed to get presigned URL for instance ".concat(r.instanceArn,"; suppressing contacts")).withException(O).sendInternalLogToServer(),b.suppress=!0}))}),this.conduit.onDownstream(u.EventType.CONFIGURE,function(r){console.log("@@@ configure event handler",r);try{r.authToken&&r.authToken!==b.initData.authToken&&(b.initData=r,u.core.init(r),r.longPollingOptions&&(typeof r.longPollingOptions.allowLongPollingShadowMode=="boolean"&&(b.longPollingOptions.allowLongPollingShadowMode=r.longPollingOptions.allowLongPollingShadowMode),typeof r.longPollingOptions.allowLongPollingWebsocketOnlyMode=="boolean"&&(b.longPollingOptions.allowLongPollingWebsocketOnlyMode=r.longPollingOptions.allowLongPollingWebsocketOnlyMode)),A?u.getLog().info("Not Initializing a new WebsocketManager instance, since one already exists").sendInternalLogToServer():(u.getLog().info("Creating a new Websocket connection for CCP").sendInternalLogToServer(),u.WebSocketManager.setGlobalConfig({loggerConfig:{logger:u.getLog(),advancedLogWriter:"info",level:10}}),A=u.WebSocketManager.create(),A.onInitFailure(function(){b.conduit.sendDownstream(u.WebSocketEvents.INIT_FAILURE)}),A.onConnectionOpen(function(w){b.conduit.sendDownstream(u.WebSocketEvents.CONNECTION_OPEN,w)}),A.onConnectionClose(function(w){b.conduit.sendDownstream(u.WebSocketEvents.CONNECTION_CLOSE,w)}),A.onConnectionGain(function(){b.conduit.sendDownstream(u.AgentEvents.WEBSOCKET_CONNECTION_GAINED),b.conduit.sendDownstream(u.WebSocketEvents.CONNECTION_GAIN)}),A.onConnectionLost(function(w){b.conduit.sendDownstream(u.AgentEvents.WEBSOCKET_CONNECTION_LOST,w),b.conduit.sendDownstream(u.WebSocketEvents.CONNECTION_LOST,w)}),A.onSubscriptionUpdate(function(w){b.conduit.sendDownstream(u.WebSocketEvents.SUBSCRIPTION_UPDATE,w)}),A.onSubscriptionFailure(function(w){b.conduit.sendDownstream(u.WebSocketEvents.SUBSCRIPTION_FAILURE,w)}),A.onAllMessage(function(w){b.conduit.sendDownstream(u.WebSocketEvents.ALL_MESSAGE,w)}),b.conduit.onDownstream(u.WebSocketEvents.SEND,function(w){A.sendMessage(w)}),b.conduit.onDownstream(u.WebSocketEvents.SUBSCRIBE,function(w){A.subscribeTopics(w)}),A.init(u.hitch(b,b.getWebSocketUrl)).then(function(w){try{if(w&&!w.webSocketConnectionFailed)u.getLog().info("Kicking off agent polling").sendInternalLogToServer(),b.pollForAgent(),u.getLog().info("Kicking off config polling").sendInternalLogToServer(),b.pollForAgentConfiguration({repeatForever:!0}),u.getLog().info("Kicking off auth token polling").sendInternalLogToServer(),L.setInterval(u.hitch(b,b.checkAuthToken),a);else if(!u.webSocketInitFailed){var O=u.WebSocketEvents.INIT_FAILURE;throw b.conduit.sendDownstream(O),u.webSocketInitFailed=!0,new Error(O)}}catch(R){u.getLog().error("WebSocket failed to initialize").withException(R).sendInternalLogToServer()}})))}catch(w){console.error("@@@ error",w)}}),this.conduit.onDownstream(u.EventType.TERMINATE,function(){b.handleSendLogsRequest(b.logsBuffer),u.core.terminate(),b.conduit.sendDownstream(u.EventType.TERMINATED)}),this.conduit.onDownstream(u.EventType.SYNCHRONIZE,function(){b.conduit.sendDownstream(u.EventType.ACKNOWLEDGE)}),this.conduit.onDownstream(u.EventType.BROADCAST,function(r){b.conduit.sendDownstream(r.event,r.data)}),L.onconnect=function(r){var w=r.ports[0],O=new u.PortStream(w);b.multiplexer.addStream(O),w.start();var R=new u.Conduit(O.getId(),null,O);R.sendDownstream(u.EventType.ACKNOWLEDGE,{id:O.getId()}),b.portConduitMap[O.getId()]=R,b.conduit.sendDownstream(u.EventType.UPDATE_CONNECTED_CCPS,{length:Object.keys(b.portConduitMap).length}),b.agent!==null&&b.updateAgent(),R.onDownstream(u.EventType.API_REQUEST,u.hitch(b,b.handleAPIRequest,R)),R.onDownstream(u.EventType.MASTER_REQUEST,u.hitch(b,b.handleMasterRequest,R,O.getId())),R.onDownstream(u.EventType.RELOAD_AGENT_CONFIGURATION,u.hitch(b,b.pollForAgentConfiguration)),R.onDownstream(u.EventType.TAB_ID,u.hitch(b,b.handleTabIdEvent,O)),R.onDownstream(u.EventType.CLOSE,u.hitch(b,b.handleCloseEvent,O))}};y.prototype.pollForActiveRegion=function(h,b){var A=this,r=u.getLog();if(!A.drPollingUrl)throw new u.StateError("[Disaster Recovery] Tried to poll for active region without first initializing DR polling in the worker.");r.debug("[Disaster Recovery] Polling for failover with presigned URL for instance ".concat(A.thisArn)).sendInternalLogToServer();var w=new Date().getTime();return u.fetchWithTimeout(A.drPollingUrl,l).catch(function(O){if(O.status){if(A.client._recordAPILatency(s,w,{statusCode:O.status}),[u.HTTP_STATUS_CODES.ACCESS_DENIED,u.HTTP_STATUS_CODES.UNAUTHORIZED].includes(O.status))return r.info("[Disaster Recovery] Active region polling failed; trying to get a new URL for polling.").withObject(O).sendInternalLogToServer(),A.getPresignedDiscoveryUrl().then(function(z){A.drPollingUrl=z}).then(function(){return w=new Date().getTime(),u.fetchWithTimeout(A.drPollingUrl,l)});var R="[Disaster Recovery] Failed to poll for failover for instance ".concat(A.thisArn,", ")+"received unexpected response code ".concat(O.status);throw r.error(R).withObject(O).sendInternalLogToServer(),new Error(R)}else{var R="[Disaster Recovery] Failed to poll for failover for instance ".concat(A.thisArn,", request timed out or aborted");throw A.client._recordAPILatency(s,w,{statusCode:-1}),r.error(R).withObject(O).sendInternalLogToServer(),new Error(R)}}).then(function(O){if(A.client._recordAPILatency(s,w),typeof O.TerminateActiveContacts!="boolean"){r.error("[Disaster Recovery] DR polling response did not contain a valid value for TerminateActiveContacts.").withObject(O).sendInternalLogToServer();return}var R=!O.TerminateActiveContacts;if(O.InstanceArn)r.debug("[Disaster Recovery] Successfully polled for active region. Primary instance ARN is ".concat(O.InstanceArn," ")+"and soft failover is ".concat(R?"enabled":"disabled")).sendInternalLogToServer();else{r.error("[Disaster Recovery] DR polling response did not contain a truthy active instance ARN.").withObject(O).sendInternalLogToServer();return}if(A.thisArn===O.InstanceArn&&!A.suppress&&h)r.debug("[Disaster Recovery] Instance ".concat(A.thisArn," is being set to primary")).sendInternalLogToServer(),A.conduit.sendDownstream(u.DisasterRecoveryEvents.FAILOVER,{nextActiveArn:O.InstanceArn});else if(A.otherArn===O.InstanceArn){if(R&&!b&&h&&(!A.suppress||A.pendingFailover)&&A.conduit.sendDownstream(u.DisasterRecoveryEvents.FAILOVER,{nextActiveArn:A.thisArn}),!A.suppress){A.suppress=!0;var z=R&&!b;z?(A.pendingFailover=!0,r.debug("[Disaster Recovery] Instance ".concat(A.thisArn," will be set to stand-by using soft failover")).sendInternalLogToServer()):r.debug("[Disaster Recovery] Instance ".concat(A.thisArn," is being set to stand-by immediately")).sendInternalLogToServer(),A.conduit.sendDownstream(u.DisasterRecoveryEvents.FORCE_OFFLINE,{softFailover:z,nextActiveArn:O.InstanceArn})}}else[A.thisArn,A.otherArn].includes(O.InstanceArn)||r.error("[Disaster Recovery] The current primary instance in this agent's failover group ".concat(O.InstanceArn," ")+"doesn't match this instance ".concat(A.thisArn," or the other instance ").concat(A.otherArn)).sendInternalLogToServer()}).catch(function(O){O.status&&A.client._recordAPILatency(s,w,ue(ue({},O),{},{statusCode:O.status})),r.error("[Disaster Recovery] Active region polling failed for instance ".concat(A.thisArn,".")).withObject(O).sendInternalLogToServer()}).finally(function(){(b||!h)&&L.setTimeout(u.hitch(A,A.pollForActiveRegion),f)})},y.prototype.getPresignedDiscoveryUrl=function(){var h=this,b=this;return new Promise(function(A,r){u.getLog().info("[Disaster Recovery] Getting presigned URL for instance ".concat(b.thisArn)).sendInternalLogToServer(),h.client.call(u.ClientMethods.CREATE_TRANSPORT,{transportType:u.TRANSPORT_TYPES.AGENT_DISCOVERY},{success:function(O){O&&O.agentDiscoveryTransport&&O.agentDiscoveryTransport.presignedUrl?(u.getLog().info("getPresignedDiscoveryUrl succeeded").sendInternalLogToServer(),A(O.agentDiscoveryTransport.presignedUrl)):(u.getLog().info("getPresignedDiscoveryUrl received empty/invalid data").withObject(O).sendInternalLogToServer(),r(Error("getPresignedDiscoveryUrl received empty/invalid data")))},failure:function(O,R){u.getLog().error("[Disaster Recovery] Failed to get presigned URL for instance ".concat(b.thisArn)).withException(O).withObject(R).sendInternalLogToServer(),r(new Error("Failed to get presigned URL"))},authFailure:function(){u.hitch(b,b.handleAuthFail)(),r(new Error("Encountered auth failure when getting presigned URL"))},accessDenied:function(){u.hitch(b,b.handleAccessDenied)(),r(new Error("Encountered access denied when getting presigned URL"))}})})},y.prototype.pollForAgent=function(){var h=this,b=u.hitch(h,h.handlePollingAuthFail);this.client.call(u.ClientMethods.GET_AGENT_SNAPSHOT,{nextToken:h.nextToken,timeout:E},{success:function(r,w){try{h.agent=h.agent||{},h.agent.snapshot=r.snapshot,h.agent.snapshot.localTimestamp=u.now(),h.agent.snapshot.skew=h.agent.snapshot.snapshotTimestamp-h.agent.snapshot.localTimestamp,h.nextToken=r.nextToken,w&&w.hasOwnProperty("contentLength")&&(h.agent.snapshot.contentLength=w.contentLength),u.getLog().trace("GET_AGENT_SNAPSHOT succeeded.").withObject(r).sendInternalLogToServer(),h.updateAgent()}catch(O){u.getLog().error("Long poll failed to update agent.").withObject(r).withException(O).sendInternalLogToServer()}finally{L.setTimeout(u.hitch(h,h.pollForAgent),v)}},failure:function(r,w){try{u.getLog().error("Failed to get agent data.").sendInternalLogToServer().withObject({err:r,data:w})}finally{L.setTimeout(u.hitch(h,h.pollForAgent),C)}},authFailure:function(){b()},accessDenied:u.hitch(h,h.handleAccessDenied)})},y.prototype.pollForAgentConfiguration=function(h){var b=this,A=h||{},r=u.hitch(b,b.handlePollingAuthFail);this.client.call(u.ClientMethods.GET_AGENT_CONFIGURATION,{},{success:function(O){var R=O.configuration;b.pollForAgentPermissions(R),b.pollForAgentStates(R),b.pollForDialableCountryCodes(R),b.pollForRoutingProfileQueues(R),A.repeatForever&&L.setTimeout(u.hitch(b,b.pollForAgentConfiguration,A),c)},failure:function(O,R){try{u.getLog().error("Failed to fetch agent configuration data.").sendInternalLogToServer().withObject({err:O,data:R})}finally{A.repeatForever&&L.setTimeout(u.hitch(b,b.pollForAgentConfiguration),c,A)}},authFailure:function(){r()},accessDenied:u.hitch(b,b.handleAccessDenied)})},y.prototype.pollForAgentStates=function(h,b){var A=this,r=b||{};r.maxResults=r.maxResults||u.DEFAULT_BATCH_SIZE,this.client.call(u.ClientMethods.GET_AGENT_STATES,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(O){O.nextToken?A.pollForAgentStates(h,{states:(r.states||[]).concat(O.states),nextToken:O.nextToken,maxResults:r.maxResults}):(h.agentStates=(r.states||[]).concat(O.states),A.updateAgentConfiguration(h))},failure:function(O,R){u.getLog().error("Failed to fetch agent states list.").sendInternalLogToServer().withObject({err:O,data:R})},authFailure:u.hitch(A,A.handlePollingAuthFail),accessDenied:u.hitch(A,A.handleAccessDenied)})},y.prototype.pollForAgentPermissions=function(h,b){var A=this,r=b||{};r.maxResults=r.maxResults||u.DEFAULT_BATCH_SIZE,this.client.call(u.ClientMethods.GET_AGENT_PERMISSIONS,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(O){O.nextToken?A.pollForAgentPermissions(h,{permissions:(r.permissions||[]).concat(O.permissions),nextToken:O.nextToken,maxResults:r.maxResults}):(h.permissions=(r.permissions||[]).concat(O.permissions),A.updateAgentConfiguration(h))},failure:function(O,R){u.getLog().error("Failed to fetch agent permissions list.").sendInternalLogToServer().withObject({err:O,data:R})},authFailure:u.hitch(A,A.handlePollingAuthFail),accessDenied:u.hitch(A,A.handleAccessDenied)})},y.prototype.pollForDialableCountryCodes=function(h,b){var A=this,r=b||{};r.maxResults=r.maxResults||u.DEFAULT_BATCH_SIZE,this.client.call(u.ClientMethods.GET_DIALABLE_COUNTRY_CODES,{nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(O){O.nextToken?A.pollForDialableCountryCodes(h,{countryCodes:(r.countryCodes||[]).concat(O.countryCodes),nextToken:O.nextToken,maxResults:r.maxResults}):(h.dialableCountries=(r.countryCodes||[]).concat(O.countryCodes),A.updateAgentConfiguration(h))},failure:function(O,R){u.getLog().error("Failed to fetch dialable country codes list.").sendInternalLogToServer().withObject({err:O,data:R})},authFailure:u.hitch(A,A.handlePollingAuthFail),accessDenied:u.hitch(A,A.handleAccessDenied)})},y.prototype.pollForRoutingProfileQueues=function(h,b){var A=this,r=b||{};r.maxResults=r.maxResults||u.DEFAULT_BATCH_SIZE,this.client.call(u.ClientMethods.GET_ROUTING_PROFILE_QUEUES,{routingProfileARN:h.routingProfile.routingProfileARN,nextToken:r.nextToken||null,maxResults:r.maxResults},{success:function(O){O.nextToken?A.pollForRoutingProfileQueues(h,{countryCodes:(r.queues||[]).concat(O.queues),nextToken:O.nextToken,maxResults:r.maxResults}):(h.routingProfile.queues=(r.queues||[]).concat(O.queues),A.updateAgentConfiguration(h))},failure:function(O,R){u.getLog().error("Failed to fetch routing profile queues list.").sendInternalLogToServer().withObject({err:O,data:R})},authFailure:u.hitch(A,A.handlePollingAuthFail),accessDenied:u.hitch(A,A.handleAccessDenied)})},y.prototype.handleAPIRequest=function(h,b){var A=this;this.client.call(b.method,b.params,{success:function(w){var O=u.EventFactory.createResponse(u.EventType.API_RESPONSE,b,w);h.sendDownstream(O.event,O)},failure:function(w,O){var R=u.EventFactory.createResponse(u.EventType.API_RESPONSE,b,O,JSON.stringify(w));h.sendDownstream(R.event,R),u.getLog().error("'%s' API request failed",b.method).withObject({request:A.filterAuthToken(b),response:R}).withException(w).sendInternalLogToServer()},authFailure:u.hitch(A,A.handleAuthFail,{authorize:!0})})},y.prototype.handleMasterRequest=function(h,b,A){var r=this.conduit,w=null;switch(A.method){case u.MasterMethods.BECOME_MASTER:var R=this.masterCoord.getMaster(A.params.topic),O=!!R&&R!==b;this.masterCoord.setMaster(A.params.topic,b),w=u.EventFactory.createResponse(u.EventType.MASTER_RESPONSE,A,{masterId:b,takeOver:O,topic:A.params.topic}),O&&r.sendDownstream(w.event,w);break;case u.MasterMethods.CHECK_MASTER:var R=this.masterCoord.getMaster(A.params.topic);!R&&!A.params.shouldNotBecomeMasterIfNone&&(this.masterCoord.setMaster(A.params.topic,b),R=b),w=u.EventFactory.createResponse(u.EventType.MASTER_RESPONSE,A,{masterId:R,isMaster:b===R,topic:A.params.topic});break;default:throw new Error("Unknown master method: "+A.method)}h.sendDownstream(w.event,w)},y.prototype.handleTabIdEvent=function(h,b){var A=this;try{var r=b.tabId,w=A.streamMapByTabId[r],O=h.getId(),R=Object.keys(A.streamMapByTabId),z=R.filter(function(Q){return A.streamMapByTabId[Q].length>0}).length;if(w&&w.length>0){if(!w.includes(O)){A.streamMapByTabId[r].push(O);var ee={length:Object.keys(A.portConduitMap).length,tabId:r,streamsTabsAcrossBrowser:z};ee[r]={length:w.length},A.conduit.sendDownstream(u.EventType.UPDATE_CONNECTED_CCPS,ee)}}else{A.streamMapByTabId[r]=[h.getId()];var oe={length:Object.keys(A.portConduitMap).length,tabId:r,streamsTabsAcrossBrowser:z+1};oe[r]={length:A.streamMapByTabId[r].length},A.conduit.sendDownstream(u.EventType.UPDATE_CONNECTED_CCPS,oe)}}catch(Q){u.getLog().error("[Tab Ids] Issue updating connected CCPs within the same tab").withException(Q).sendInternalLogToServer()}},y.prototype.handleCloseEvent=function(h){var b=this;b.multiplexer.removeStream(h),delete b.portConduitMap[h.getId()],b.masterCoord.removeMaster(h.getId());var A={length:Object.keys(b.portConduitMap).length},r=Object.keys(b.streamMapByTabId);try{var w=r.find(function(ee){return b.streamMapByTabId[ee].includes(h.getId())});if(w){var O=b.streamMapByTabId[w].findIndex(function(ee){return h.getId()===ee});b.streamMapByTabId[w].splice(O,1);var R=b.streamMapByTabId[w]?b.streamMapByTabId[w].length:0;A[w]={length:R},A.tabId=w}var z=r.filter(function(ee){return b.streamMapByTabId[ee].length>0}).length;A.streamsTabsAcrossBrowser=z}catch(ee){u.getLog().error("[Tab Ids] Issue updating tabId-specific stream data").withException(ee).sendInternalLogToServer()}b.conduit.sendDownstream(u.EventType.UPDATE_CONNECTED_CCPS,A)},y.prototype.updateAgentConfiguration=function(h){h.permissions&&h.dialableCountries&&h.agentStates&&h.routingProfile.queues?(this.agent=this.agent||{},this.agent.configuration=h,this.updateAgent()):u.getLog().trace("Waiting to update agent configuration until all config data has been fetched.").sendInternalLogToServer()},y.prototype.updateAgent=function(){this.agent?this.agent.snapshot?this.agent.configuration?(this.agent.snapshot.status=this.agent.state,this.agent.snapshot.contacts&&this.agent.snapshot.contacts.length>1&&this.agent.snapshot.contacts.sort(function(h,b){return h.state.timestamp.getTime()-b.state.timestamp.getTime()}),this.agent.snapshot.contacts.forEach(function(h){h.status=h.state,h.connections.forEach(function(b){b.address=b.endpoint})}),this.agent.configuration.routingProfile.defaultOutboundQueue.queueId=this.agent.configuration.routingProfile.defaultOutboundQueue.queueARN,this.agent.configuration.routingProfile.queues.forEach(function(h){h.queueId=h.queueARN}),this.agent.snapshot.contacts.forEach(function(h){h.queue!==void 0&&(h.queue.queueId=h.queue.queueARN)}),this.agent.configuration.routingProfile.routingProfileId=this.agent.configuration.routingProfile.routingProfileARN,this.suppress&&(this.agent.snapshot.contacts=this.agent.snapshot.contacts.filter(function(h){return h.state.type==u.ContactStateType.CONNECTED||h.state.type==u.ContactStateType.ENDED}),this.forceOffline&&this.conduit.sendDownstream(u.DisasterRecoveryEvents.FORCE_OFFLINE)),this.conduit.sendDownstream(u.AgentEvents.UPDATE,this.agent)):u.getLog().trace("Waiting to update agent until the agent configuration is available.").sendInternalLogToServer():u.getLog().trace("Waiting to update agent until the agent snapshot is available.").sendInternalLogToServer():u.getLog().trace("Waiting to update agent until the agent has been fully constructed.").sendInternalLogToServer()},y.prototype.getWebSocketUrl=function(){var h=this,b=u.core.getClient(),A=u.hitch(h,h.handleAuthFail),r=u.hitch(h,h.handleAccessDenied);return new Promise(function(w,O){b.call(u.ClientMethods.CREATE_TRANSPORT,{transportType:u.TRANSPORT_TYPES.WEB_SOCKET},{success:function(z){u.getLog().info("getWebSocketUrl succeeded").sendInternalLogToServer(),w(z)},failure:function(z,ee){u.getLog().error("getWebSocketUrl failed").sendInternalLogToServer().withObject({err:z,data:ee}),O({reason:"getWebSocketUrl failed",_debug:z})},authFailure:function(){u.getLog().error("getWebSocketUrl Auth Failure").sendInternalLogToServer(),O(Error("Authentication failed while getting getWebSocketUrl")),A()},accessDenied:function(){u.getLog().error("getWebSocketUrl Access Denied Failure").sendInternalLogToServer(),O(Error("Access Denied Failure while getting getWebSocketUrl")),r()}})})},y.prototype.handleSendLogsRequest=function(){var h=this,b=[],A=h.logsBuffer.slice();h.logsBuffer=[],A.forEach(function(r){b.push({timestamp:r.time,component:r.component,message:r.text})}),this.client.call(u.ClientMethods.SEND_CLIENT_LOGS,{logEvents:b},{success:function(w){u.getLog().info("SendLogs request succeeded.").sendInternalLogToServer()},failure:function(w,O){u.getLog().error("SendLogs request failed.").withObject(O).withException(w).sendInternalLogToServer()},authFailure:u.hitch(h,h.handleAuthFail)})},y.prototype.handleAuthFail=function(h){var b=this;h?b.conduit.sendDownstream(u.EventType.AUTH_FAIL,h):b.conduit.sendDownstream(u.EventType.AUTH_FAIL)},y.prototype.handlePollingAuthFail=function(){var h=this;h.conduit.sendDownstream(u.EventType.CTI_AUTHORIZE_RETRIES_EXHAUSTED)},y.prototype.handleAccessDenied=function(){var h=this;h.conduit.sendDownstream(u.EventType.ACCESS_DENIED)},y.prototype.checkAuthToken=function(){var h=this,b=new Date(h.initData.authTokenExpiration),A=new Date().getTime(),r=30*60*1e3;b.getTime()<A+r&&(u.getLog().info("Auth token expires at "+b+" Start refreshing token with retry.").sendInternalLogToServer(),u.backoff(u.hitch(h,h.authorize),d,p))},y.prototype.authorize=function(h){var b=this;u.core.authorize(this.initData.authorizeEndpoint).then(function(A){var r=new Date(A.expiration);u.getLog().info("Authorization succeeded and the token expires at %s",r).sendInternalLogToServer(),b.initData.authToken=A.accessToken,b.initData.authTokenExpiration=r,u.core.initClient(b.initData),u.core.initAgentAppClient(b.initData),h.success()}).catch(function(A){u.getLog().error("Authorization failed with code %s",A.status).sendInternalLogToServer(),A.status===401?b.handleAuthFail():h.failure()})},y.prototype.filterAuthToken=function(h){var b={};for(var A in h)if(A==="params"){var r={};for(var w in h.params)w!=="authentication"&&(r[w]=h.params[w]);b.params=r}else b[A]=h[A];return b},u.worker.main=function(){u.worker.clientEngine=new y}})()}},Lt={};function rt(ae){var ie=Lt[ae];if(ie!==void 0)return ie.exports;var ue=Lt[ae]={exports:{}};return Je[ae].call(ue.exports,ue,ue.exports,rt),ue.exports}rt.amdO={},rt.d=(ae,ie)=>{for(var ue in ie)rt.o(ie,ue)&&!rt.o(ae,ue)&&Object.defineProperty(ae,ue,{enumerable:!0,get:ie[ue]})},rt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),rt.o=(ae,ie)=>Object.prototype.hasOwnProperty.call(ae,ie),rt.r=ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})},rt(167),rt(254),rt(344),rt(144),rt(60),rt(682),rt(431),rt(555),rt(830),rt(414),rt(610),rt(95),rt(399),rt(906),rt(806),rt(354),rt(142),rt(884),rt(390),rt(269),rt(825),rt(961),rt(949)})()}()),Tp}jh();function Hh(){const Je=Nu.useRef(null);Nu.useEffect(()=>{const rt="https://verisync.my.connect.aws/connect/ccp-v2/";let ae;if(Je.current)return ae=connect.core.initCCP(Je.current,{ccpUrl:rt,loginPopup:!0,loginPopupAutoClose:!0,loginOptions:{autoClose:!0,height:600,width:400,top:0,left:0},region:"us-west-2",softphone:{allowFramedSoftphone:!0,disableRingtone:!1,ringtoneUrl:"/path/to/your/ringtone.mp3",disableEchoCancellation:!1,allowFramedVideoCall:!0,allowFramedScreenSharing:!0,allowFramedScreenSharingPopUp:!0,VDIPlatform:null,allowEarlyGum:!0},task:{disableRingtone:!1,ringtoneUrl:"/path/to/your/ringtone.mp3"},pageOptions:{enableAudioDeviceSettings:!1,enableVideoDeviceSettings:!1,enablePhoneTypeSettings:!0}}),connect.agent(ie=>{ie.onRoutable(()=>{console.log("Agent is routable. Ready to handle a new contact.")}),ie.onPending(()=>{console.log("Call button pressed! Execute your logic here."),Lt()})}),()=>{ae&&ae.cleanup()}},[]);const Lt=()=>{console.log("Call button pressed! Execute your logic here.")};return Ea.jsx("div",{children:Ea.jsx("div",{ref:Je,style:{width:"400px",height:"600px"}})})}zh.createRoot(document.getElementById("root")).render(Ea.jsx(Nu.StrictMode,{children:Ea.jsx(Hh,{})}));
